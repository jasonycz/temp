window.define("tabs/carts/index",function(t,n,e,o,a,s,i,r,u,c,d,f,g,l,h,w){"use strict";var S=t("../../network/api.js"),m=function(t){return t&&t.__esModule?t:{default:t}}(S);Page({data:{},onLoad:function(){var t=a.getStorageSync("userinfo");this.setData({userinfo:t}),a.showLoading({title:"请稍后",mask:!0})},queryCarts:function(){var t=this;m.default.queryCarts().then(function(n){a.hideLoading(),t.setData({carts:n.data})})},onShow:function(){this.queryCarts();var t=a.getStorageSync("userinfo");this.setData({userinfo:t})},deleteStore:function(t){var n=t.currentTarget.dataset.storeid,e=this;a.showModal({content:"确定清空购物车的商品吗？",cancelText:"取消",confirmText:"确定",success:function(t){t.confirm&&(a.showLoading({title:"请稍后",mask:!0}),m.default.clearCartStoreAll({storeId:n}).then(function(t){t&&t.data&&t.data.result&&(a.showLoading({title:"请稍后",mask:!0}),e.queryCarts())}).catch(function(t){return console.log(t)}))}}),console.log(n)},changeuser:function(){var t=a.getStorageSync("userinfo");this.setData({userinfo:t})},gotoLogin:function(){a.navigateTo({url:"/pages/login/login"})}})}),window.__swanRoute="tabs/carts/index",window.usingComponents=["component/phonebutton/index"],require("tabs/carts/index");