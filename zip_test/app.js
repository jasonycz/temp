window.define("dist/minui/wxc-flex/dist/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=Component({behaviors:[],properties:{dir:{type:String,value:"left"},main:{type:String,value:"left"},cross:{type:String,value:"stretch"},wrap:{type:String,value:"nowrap"}},data:{},methods:{}}),Page({})}),window.define("dist/minui/wxc-cc/dist/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=Component({behaviors:[],properties:{},data:{},methods:{}}),Page({})}),window.define("component/page/modules/brands/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m),v=e("../../../../utils/util.js");Component({properties:{module:{type:Object,value:{},observer:"init"}},attached:function(){(0,v.bindBehavior)(this,y.default)},ready:function(){this.init()},methods:{init:function(){var e=this.data.module;e.data&&e.data.length>10&&(e.data=e.data.slice(0,10));for(var t=0;t<e.data.length;t++)e.data[t].showBrandName=e.data[t].brandName,e.data[t].brandName.length>5&&(e.data[t].showBrandName=e.data[t].brandName.substring(0,5));this.setData({moduleA:e})},makestorelist:function(e){var t=e.currentTarget.dataset.brand;i().setFlash("brand",t),this.jump("/pages/storelist/storelist")}}}),Page({})}),window.define("component/page/modules/carousel/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m),v=e("../../../../utils/util.js");Component({properties:{module:{type:Object}},attached:function(){(0,v.bindBehavior)(this,y.default)},methods:{onTapCarousel:function(e){this.navigateToCustom(e)}}}),Page({})}),window.define("component/coupon/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Component({properties:{type:String,coupon:{type:Object},color:{type:String}},data:{},methods:{bindCoupon:function(e){var t=e.currentTarget.dataset.coupon.id,a=this.data.color,n=void 0===a?"":a;this.triggerEvent("receivecoupon",{id:t,color:n})}}}),Page({})}),window.define("component/page/modules/coupon/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{module:{type:Object}},methods:{receivecoupon:function(e){console.log(e.detail,"e");var t=e.detail,a=t.id,n=t.color;this.jump("/pages/coupons/receive_coupon/index?id="+a+"&color="+n)}}}),Page({})}),window.define("component/page/modules/img_advert/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var y=e("../common.js"),v=function(e){return e&&e.__esModule?e:{default:e}}(y),w=e("../../../../utils/util.js");Component({data:{imgUrlsWH:{}},properties:{module:{type:Object}},attached:function(){(0,w.bindBehavior)(this,v.default)},ready:function(){this.createImg()},methods:{createImg:function(){-1!==["type1","type2","type3","type4"].indexOf(this.data.module.options.adsStyle)&&this.init()},init:function(){var e=this.data.module,t=[].concat(m(e.options.navs));"type1"==this.data.module.options.adsStyle&&(t=t.slice(0,1)),"type2"==this.data.module.options.adsStyle&&(t=t.slice(0,2)),"type3"==this.data.module.options.adsStyle&&(t=t.slice(0,3)),e.options.navs=t,this.setData({module:e})}}}),Page({})}),window.define("component/page/modules/img_nav/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m),v=e("../../../../utils/util.js");Component({behaviors:[y.default],properties:{module:{type:Object}},attached:function(){(0,v.bindBehavior)(this,y.default)}}),Page({})}),window.define("dist/minui/wxc-countdown/dist/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var m=function(){function e(e,t){var a=[],n=!0,o=!1,i=void 0;try{for(var s,r=e[Symbol.iterator]();!(n=(s=r.next()).done)&&(a.push(s.value),!t||a.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&r.return&&r.return()}finally{if(o)throw i}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();a.default=Component({behaviors:[],properties:{countdown:{type:Number,value:0,observer:"init"},format:{type:String,value:"dd天hh时mm分ss秒"},numStyle:{type:String,value:""},symbolStyle:{type:String,value:""}},data:{computeTime:0,endTimeMs:0},detached:function(){this.onPageHide()},methods:{init:function(){console.log("countdown init");var e=this.data,t=e.countdown,a=e.format;this.computeTime=t,this.format=a;var n=Date.now();this.endTimeMs=n+1e3*this.computeTime,this.initCountdown()},initCountdown:function(){var e=this;clearInterval(this._timer);var t=Date.now(),a=this.endTimeMs-t,n=a%1e3||0;this._timer=setTimeout(function(){e.initCountdown()},n),this.setCountdownTimeItems(a)},setCountdownTimeItems:function(e){this.computeTime=parseInt(Math.ceil(e/1e3)),this.emitRunCount(this.computeTime),this.computeTime<=0&&(clearInterval(this._timer),this.emitEndCount());var t=this.getTimeItems(this.computeTime,this.format);this.setData({timeItems:t})},getTimeItems:function(e,t){e<0&&(e=0);var a=t.match(/[a-zA-Z]{1,3}/g)||[],n=t.match(/[\u4e00-\u9fa5]+|[^a-zA-Z]/g)||[],o=this.getTime(e,t);return a.map(function(e,t){return{num:o[e],symbol:n[t]}})},getTime:function(e,t){var a=e,n=[60,60,24].map(function(e){var t=a%e;return a=Math.floor(a/e),t}),o=m(n,3),i=o[0],s=o[1],r=o[2];return e>86400&&-1===t.indexOf("d")&&(r+=24*a),e>3600&&-1===t.indexOf("h")&&(s+=60*r),e>60&&-1===t.indexOf("m")&&(i+=60*s),{dd:this.formatTime(a),hh:this.formatTime(r),mm:this.formatTime(s),ss:this.formatTime(i),d:a,h:r,m:s,s:i}},formatTime:function(e){return e<10?"0"+e:e},emitRunCount:function(){this.triggerEvent("runcount",{computeTime:this.computeTime})},emitEndCount:function(){this.triggerEvent("endcount")},onPageShow:function(){var e=Date.now();this.format&&this.endTimeMs&&(this.computeTime=parseInt((this.endTimeMs-e)/1e3),this.initCountdown())},onPageHide:function(){clearInterval(this._timer)}}}),Page({})}),window.define("component/page/modules/miaosha/item",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{data:{type:Object,observer:"init"}},ready:function(){this.init();var e=i().globalConfig;this.setData(Object.assign({},e))},methods:{makeMiaoItem:function(e){var t=e.currentTarget.dataset.miao;this.jump("/pages/products/show/show?id="+t.goodsId)},handleEndCount:function(){var e=this.data.miaoItem;3==e.seckillStatus?(e.countTime=e.seOverTime,e.seckillStatus=2):2==e.seckillStatus&&(e.countTime=0,e.seckillStatus=4),this.setData({miaoItem:e})},init:function(){var e=this.data.data;3==e.seckillStatus?e.countTime=e.psOverTime:2==e.seckillStatus?e.countTime=e.seOverTime:e.countTime=0,this.setData({miaoItem:Object.assign({},e)})}}}),Page({})}),window.define("component/page/modules/miaosha/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{module:{type:Object}}}),Page({})}),window.define("dist/minui/wxc-icon/dist/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=Component({behaviors:[],properties:{type:{type:String,value:"mogujie"},size:{type:[Number,String],value:26},color:{type:String,value:"#333333"}},data:{},methods:{}}),Page({})}),window.define("dist/minui/wxc-mask/dist/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){var t=[],a=[];if(e=e.replace(/#/,""),3===e.length){for(var n=[],o=0;o<3;o++)n.push(e.charAt(o)+e.charAt(o));e=n.join("")}for(var i=0;i<3;i++)t[i]="0x"+e.substr(2*i,2),a.push(parseInt(Number(t[i])));return a.join(",")}Object.defineProperty(a,"__esModule",{value:!0}),a.default=Component(function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}({properties:{status:{type:String,value:"hide",observer:function(e){}},opacity:{type:[String,Number],value:.6},backgroundColor:{type:String,value:"#000000"},locked:{type:String,value:"true"},contentAlign:{type:String,value:"tl"},__positionStyle:{type:String,value:"top:0; left:0"}},data:{},attached:function(){console.log("attached=m==========>",this.data.locked)},methods:{omMaskTap:function(){var e=this.data;console.log("attached=m===2=======>",this.data.locked),e.locked&&"true"!==e.locked&&this.setData({status:"hide"})}}},"attached",function(){var e=this.data;this.setData({backgroundColor:m(e.backgroundColor||"#000000")});var t=void 0;switch(e.contentAlign){case"tl":t="top:0; left:0";break;case"tr":t="top:0; right:0";break;case"bl":t="bottom:0; left:0";break;case"br":t="bottom:0; right:0"}this.setData({__positionStyle:t})})),Page({})}),window.define("dist/minui/wxc-popup/dist/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=Component({behaviors:[],properties:{modal:{type:Boolean,value:!1},animationMode:{type:String,value:"none"},align:{type:String,value:"center"},status:{type:String,value:"hide"},locked:{type:[String],value:"hide"}},data:{maskStatus:"hide"},attached:function(){console.log("attached=p=>",this.data.locked,"maskStatus==>"+this.data.maskStatus)},methods:{showMask:function(){this.setData({maskStatus:"show"})},hideMask:function(){this.setData({maskStatus:"hide"})},show:function(){var e=this;"none"!==this.data.animationMode?(this.showMask(),this.setData({status:"fadeIn"}),setTimeout(function(){e.setData({status:"show"})},50)):(this.showMask(),this.setData({status:"show"}))},forceHide:function(){this.setData({status:"hide"}),this.hideMask()},handleTap:function(e){if(this.data.modal)return void this.triggerEvent("onhide");this.hide()},hide:function(){var e=this;"none"!==this.data.animationMode?(this.setData({status:"fadeOut"}),clearTimeout(this._timer),this._timer=setTimeout(function(){e.forceHide()},300)):this.forceHide()},onContentTap:function(){}}}),Page({})}),window.define("component/segements/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=Component({properties:{textColor:{type:String,value:"#000"},activeTextColor:{type:String,value:"red"},segements:{type:Array,value:[],observer:"init"},filter:{type:Boolean,value:!0},filterActive:{type:Boolean,value:!1}},data:{},attached:function(){},ready:function(){this.init()},detached:function(){},methods:{init:function(){var e=this.data.segements;e.forEach(function(e){if(e.options&&e.options.length>0){var t=e.options.find(function(e){return e.checked});e.title=t?t.title:""}}),this.setData({newsegements:e})},onSwitch:function(e){var t=e.currentTarget.dataset.index,a=this.data.newsegements,n=a.findIndex(function(e){return e.checked}),o=a[t];if(t==n){if(o.sort&&(o.order="ascend"==o.order?"descend":"ascend",this.triggerEvent("switch",o)),o.options){var i=this.selectComponent(".Options_Pop");this.setData({currentOptions:o.options}),i&&i.show(),console.log("------ segement.options-----111---",o.options)}}else{if(a.forEach(function(e){e.checked=!1,e.sort&&(e.order=void 0)}),o.checked=!0,o.sort&&(o.order="ascend"),o.options){var s=this.selectComponent(".Options_Pop");this.setData({currentOptions:o.options}),s&&s.show(),console.log("------ segement.options----000----",o.options)}this.triggerEvent("switch",o)}this.setData({newsegements:a})},onOptionChecked:function(e){var t=this.data.newsegements,a=t.findIndex(function(e){return e.checked}),n=e.currentTarget.dataset.index;t[a].options.forEach(function(e,t){e.checked=t==n});var o=t[a].options.find(function(e){return e.checked});t[a].title=o?o.title:"",this.setData({newsegements:t}),this.triggerEvent("optionchange",o)},showFilterPop:function(){var e=this.selectComponent(".Filter_Pop");e&&e.show(),this.triggerEvent("onpopshow",{},{composed:!0,bubbles:!0})},hideFilterPop:function(){var e=this.selectComponent(".Filter_Pop");e&&e.hide(),this.triggerEvent("onpophide",{},{composed:!0,bubbles:!0})}}}),Page({})}),window.define("dist/minui/wxc-label/dist/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=Component({behaviors:[],properties:{text:{type:String,value:0},type:{type:String,value:"plain"},typeColor:{type:String,value:"#ff5777"},textColor:{type:String,value:"#ffffff"},_system_:{type:String,value:""}},data:{},methods:{},attached:function(){var e=this;o.getSystemInfo&&o.getSystemInfo({success:function(t){e.setData({_system_:~t.system.indexOf("Android")?"android":"ios"})}})}}),Page({})}),window.define("component/page/modules/nearstore/filter",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Component({properties:{filters:{type:Array,value:[]}},data:{},methods:{onCheck:function(e){var t=e.currentTarget.dataset,a=t.index,n=t.idx,o=this.data.filters,i=o[a];switch(i.type){case"radio":i.options.forEach(function(e,t){i.options[t].checked=t==n&&!i.options[n].checked});break;case"checkbox":i.options[n].checked=!i.options[n].checked}console.log(o),this.setData({filters:o})},onSubmit:function(e){var t=this.data.filters;this.triggerEvent("submit",t)},onReset:function(e){for(var t=this.data.filters,a=0,n=t.length;a<n;a++)for(var o=t[a],i=0,s=o.options.length;i<s;i++)o.options[i].checked=!1;this.setData({filters:t})}}}),Page({})}),window.define("component/page/modules/nearstore/tab",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m={filter:!0,filterActive:!1,segements:[{key:"sales",title:"销量最高",checked:!0},{key:"distance",title:"距离最近"},{key:"evaluateCount",title:"好评最高"}],mallsegements:[{key:"sales",title:"销量最高",checked:!0},{key:"evaluateCount",title:"好评最高"}],filters:[{key:"activityType",type:"radio",title:"优惠活动(单选)",options:[{key:"3",title:"满减优惠",label:"减",labelColor:"#FF3366"},{key:"4",title:"到店领券",label:"券",labelColor:"#FF6699"},{key:"2",title:"拼团活动",label:"团",labelColor:"#FF6600"},{key:"1",title:"秒杀活动",label:"秒",labelColor:"#CC66CC"}]},{key:"logisticsType",type:"radio",title:"商家服务",options:[{key:"1",title:"到店自提"}]}],mallfilters:[{key:"activityType",type:"radio",title:"优惠活动(单选)",options:[{key:"3",title:"满减优惠",label:"减",labelColor:"#FF3366"},{key:"4",title:"到店领券",label:"券",labelColor:"#FF6699"},{key:"2",title:"拼团活动",label:"团",labelColor:"#FF6600"},{key:"1",title:"秒杀活动",label:"秒",labelColor:"#CC66CC"}]}]};Component({properties:{serverTime:{type:Number,observer:"reload"},filterShow:{type:Number,value:!0,observer:"reload"},externalSegements:{type:Object,value:null,observer:"reload"},storeType:{type:String}},data:Object.assign({},JSON.parse(JSON.stringify(m))),methods:{reload:function(){this.setData(Object.assign({},JSON.parse(JSON.stringify(m)),{filter:0!=this.data.filterShow})),this.data.externalSegements&&this.setData({segements:this.data.externalSegements}),console.log(this.data.storeType,"-------this.data.")},handleTabSwitch:function(e){var t="";switch(e.detail.key){case"sales":t="sales:descend";break;case"distance":t="distance:ascend";break;case"evaluateCount":t="evaluateCount:descend"}this.setData({sort:t}),this.triggerEvent("query",{sort:t,query:this.data.query})},handleFilter:function(e){var t=e.detail,a=this.selectComponent(".Segements");a&&a.hideFilterPop();var n={};t.forEach(function(e){var t=e.options.filter(function(e){return e.checked}).map(function(e){return e.key});t.length>0&&(n[e.key]=t.join(","))}),this.setData({query:n,filterActive:Object.keys(n).length>0}),this.triggerEvent("query",{query:n,sort:this.data.sort})}}}),Page({})}),window.define("component/page/modules/nearstore/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m),v=e("../../../../utils/util.js"),w=e("../../../../network/api.js");Component({properties:{module:{type:Object},serverTime:{type:Number},storeType:{type:String}},attached:function(){(0,v.bindBehavior)(this,y.default)},ready:function(){console.log("nearstore",this.data)},data:{},methods:{makestore:function(e){var t=e.currentTarget.dataset.store;this.jump("/pages/shop/products/products?storeid="+t.id)},makestoredetail:function(e){var t=e.currentTarget.dataset.storedetail;this.jump("/pages/products/show/show?id="+t.id)},handleServiceClick:function(e){console.log("服务跳店铺",e.currentTarget),this.jump("/pages/services/service_detail/index?shopId="+e.currentTarget.dataset.storeid+"&serviceId="+e.currentTarget.dataset.storedetail.id)},handleQuery:function(e){var t=this,a=e.detail,n=a.sort,o=a.query,i=this.data.module;console.log(n,o,i),(0,w.queryStoreDatasource)(Object.assign({pageSize:20,pageNo:1,location:i.options.location,dataType:i.options.dataType,dsId:i.options.dsId},o,{sort:n})).then(function(e){i.data=e.data.data,t.setData({module:i}),console.log(t.data.module,"this")}).catch(function(e){console.log(e)})}}}),Page({})}),window.define("component/page/modules/newsinfo/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{module:{type:Object}},methods:{handlenews:function(e){this.jump("/pages/sources/newsinfo/newsinfodetail?id="+e.currentTarget.dataset.id)}}}),Page({})}),window.define("component/page/modules/products/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m),v=e("../../../../utils/util.js");Component({properties:{module:{type:Object}},attached:function(){(0,v.bindBehavior)(this,y.default);var e=i().globalConfig;this.setData(Object.assign({},e))},methods:{makegoods:function(e){var t=e.currentTarget.dataset.storedetail;t.description="",console.log(t,"good"),this.jump("/pages/products/show/show?id="+t.id)}}}),Page({})}),window.define("component/page/modules/services/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{module:{type:Object}},attached:function(){var e=i().globalConfig;this.setData(Object.assign({},e))},methods:{handleServiceClick:function(e){console.log("服务跳店铺",e.currentTarget),this.jump("/pages/services/service_detail/index?shopId="+e.currentTarget.dataset.storeid+"&serviceId="+e.currentTarget.dataset.storedetail.id)}}}),Page({})}),window.define("component/page/modules/supplyinfo/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{module:{type:Object}},methods:{handlesupply:function(e){this.jump("/pages/gongqiu/supplyDetail/index?id="+e.currentTarget.dataset.id)}}}),Page({})}),window.define("component/page/modules/title/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m),v=e("../../../../utils/util.js");Component({properties:{module:{type:Object}},attached:function(){(0,v.bindBehavior)(this,y.default)}}),Page({})}),window.define("component/page/modules/tuan/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{module:{type:Object}},ready:function(){var e=i().globalConfig;this.setData(Object.assign({},e))},methods:{makeTuan:function(e){var t=e.currentTarget.dataset.tuan;this.jump("/pages/products/show/show?id="+t.goodsId)}}}),Page({})}),window.define("component/page/modules/video/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Component({properties:{module:{type:Object}}}),Page({})}),window.define("component/page/modules/giftcard/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{module:{type:Object}},methods:{onTapGiftCardBuy:function(e){var t=e.currentTarget.dataset.id;this.jump("/pages/giftcard/buy/index?urlType=tabHome&id="+t)}}}),Page({})}),window.define("component/page/modules/vipcard/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{module:{type:Object}},methods:{receivevip:function(e){this.jump("/pages/cards/receive_card/index?id="+e.currentTarget.dataset.id)}}}),Page({})}),window.define("component/date_picker/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=function(){function e(e,t){var a=[],n=!0,o=!1,i=void 0;try{for(var s,r=e[Symbol.iterator]();!(n=(s=r.next()).done)&&(a.push(s.value),!t||a.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&r.return&&r.return()}finally{if(o)throw i}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=e("../../utils/util"),v=new Date,w=[{value:"周日",class:"weekend"},{value:"周一",class:""},{value:"周二",class:""},{value:"周三",class:""},{value:"周四",class:""},{value:"周五",class:""},{value:"周六",class:"weekend"}];Component({behaviors:[],properties:{show:{type:Boolean,value:!1},enableTime:{type:Boolean,value:!1},date:{type:String,value:"",observer:"init"}},data:{},ready:function(){this.init()},methods:{isDate:function(e){return null!=e&&void 0!=e&&new Date(e).getDate()==e.substring(e.length-2)},isLeapYear:function(e){return e%400==0||e%4==0&&e%100!=0},isToday:function(e,t,a){return e==v.getFullYear()&&t==v.getMonth()+1&&a==v.getDate()},isWeekend:function(e,t){return(e+t)%7==0||(e+t-1)%7==0},calEmptyGrid:function(e,t){return new Date(e+"/"+t+"/01 00:00:00").getUTCDay()+1||""},calDaysInMonth:function(e,t){var a=this.isLeapYear(e);return 2==t&&a?29:2!=t||a?[4,6,9,11].includes(t)?30:31:28},calWeekDay:function(e,t,a){return new Date(e+"/"+t+"/"+a+" 00:00:00").getUTCDay()||""},calDays:function(e,t){for(var a=this.data.selected,n=this.calEmptyGrid(e,t),o=[],i=1;i<=31;i++){var s=this.isToday(e,t,i),r=a[0]==e&&a[1]==t&&a[2]==i,d=s?"today":"",u=r?"selected":"",c=this.isWeekend(n,i)?"weekend":"",l=s&&r?"today-selected":"",p={value:i,class:"date-bg "+c+" "+d+" "+u+" "+l};o.push(p)}return o.slice(0,this.calDaysInMonth(e,t))},changeMonth:function(e){var t=e.currentTarget.dataset.id,a=this.data.currYear,n=this.data.currMonth;n="prev"==t?n-1:n+1,"prev"==t&&n<1&&(a-=1,n=12),"next"==t&&n>12&&(a+=1,n=1);var o=this.calEmptyGrid(a,n),i=this.calDays(a,n);this.setData({currYear:a,currMonth:n,emptyGrids:o,days:i})},handleSelectDate:function(e){var t=e.target.dataset.selected,a=[t[0],t[1],t[2]];this.setData({selected:a});var n=this.calDays(t[0],t[1]);this.setData({currYear:t[0],currMonth:t[1],days:n})},handleDatePickerChange:function(e){var t=e.detail.value.split("-"),a=m(t,2),n=a[0],o=a[1];n=parseInt(n),o=parseInt(o),this.setData({currYear:n,currMonth:o});var i=this.calEmptyGrid(n,o),s=this.calDays(n,o);this.setData({emptyGrids:i,days:s})},handleTimePickerChange:function(e){var t=e.detail.value;this.setData({time:t})},handleReset:function(e){this.setData({selected:[],time:""});var t=this.calDays(this.data.currYear,this.data.currMonth);this.setData({days:t}),this.triggerEvent("onselectdate",{})},init:function(){var e=this.data.date,t=this.isDate(e)?new Date(e):v,a=t.getFullYear(),n=t.getMonth()+1,o=t.getDate(),i=t.getDay(),s=(0,y.formatTime)(t,"hh:mm"),r=[a,n,o];this.setData({currYear:a,currMonth:n,dayInWeek:i,dayInMonth:o,week:w,time:s,selected:r});var d=this.calEmptyGrid(a,n),u=this.calDays(a,n);this.setData({emptyGrids:d,days:u})},handleChooseToday:function(){this.setData({date:v.toString()}),this.init()},handleConfirm:function(e){var t=this.data,a=t.selected,n=t.enableTime;if(a&&a.length>0){var o=a.join("/")+" "+this.data.time,i=(0,y.formatTime)(new Date(o),n?"yyyy-MM-dd hh:mm":"yyyy-MM-dd");this.triggerEvent("onselectdate",{date:i})}}}}),Page({})}),window.define("component/toast/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Component({properties:{show:{type:Boolean},title:{type:String}}}),Page({})}),window.define("component/select_address_popup/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var y=e("../../network/api.js"),v=function(e){return e&&e.__esModule?e:{default:e}}(y);Component({properties:{},data:{scrollTop:0},methods:{showPopup:function(){console.log("aaa");var e=this.selectComponent(".J_Popup");e&&e.show(),o.showLoading({title:"请稍后"}),this.queryAreas("provinces",{parentId:"-1"})},hidePopup:function(){var e=this.selectComponent(".J_Popup");e&&e.hide()},queryAreas:function(e,t){var a=this;this.setData({current:e}),v.default.queryRegions(t).then(function(t){o.hideLoading(),a.setData(m({},""+e,t.data)),0==t.data.length&&"districts"==e&&console.log("选择城市返回",a.data)}).catch(function(){o.hideLoading()})},handleProvinceTap:function(e){var t=e.currentTarget.dataset.province;this.setData({province:t,provinceCode:t.code}),o.showLoading({title:"请稍后"}),this.queryAreas("cities",{parentId:t.code})},handleCityTap:function(e){var t=e.currentTarget.dataset.city;this.setData({city:t,cityCode:t.code}),o.showLoading({title:"请稍后"}),this.queryAreas("districts",{parentId:t.code})},handleDistrictTap:function(e){var t=e.currentTarget.dataset.district;this.setData({district:t,districtCode:t.code}),console.log("选择区域返回",this.data);var a=this.data,n=a.province,o=a.city,i={city:""+n.fullName+o.fullName+t.fullName,code:[n.code,o.code,t.code].join(",")};this.triggerEvent("onresult",i),this.hidePopup()},handleScroll:function(e){var t=e.detail.scrollTop;this.setData({scrollTop:t}),console.log("---scrolltop---",t)}}}),Page({})}),window.define("component/page/modules/form/form",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var v=e("../../../../network/api.js"),w=m(v),x=e("../../../../utils/location.js"),b=m(x),D=e("../../../../utils/validate.js"),S=m(D),C=e("../../../../behaviors/toast.js"),T=m(C),_=e("../../../../utils/util"),k=m(_);Component({behaviors:[T.default],properties:{data:{type:Object,observer:function(){this.init()}},formId:{type:Number}},data:{},attached:function(){},ready:function(){this.init()},detached:function(){},methods:{init:function(){var e=this,t=JSON.parse(JSON.stringify(this.data.data.template));this.setData(y({},"form.isChecked",!1));var a={};t.fields.forEach(function(t){if(["date","text","textarea","number","location","area"].includes(t.type)?t.value="":t.value||(t.value=[]),a[""+t.name]=t.validations,"radio"==t.type||"checkbox"==t.type){var n=t.options.filter(function(e){return e.checked});t.value=n}if("picker"==t.type){var o=t.options.findIndex(function(e){return e.checked});t.selectedIndex=o,t.value=t.options[o]?[t.options[o]]:[]}if("number"==t.type){var i=e.renderNumberFieldLabel(t);t.tips=t.label+i}}),this.setData({formId:this.data.data.formId,form:t,rules:a}),console.log(this.data)},renderNumberFieldLabel:function(e){var t=e.validations.numericality,a=t.onlyInteger,n=t.decimal,o=t.greaterThanOrEqualTo,i=t.lessThanOrEqualTo,s=[];return e.suffix&&s.push("单位: "+e.suffix),!a&&n>0&&s.push("最多"+n+"位小数"),void 0===o&&void 0===i||(void 0!==o&&void 0!==i?s.push(o+" - "+i):void 0===o?s.push("小于"+i):void 0===i&&s.push("大于"+o)),s.length>0?"（"+s.join("，")+"）":""},resetForm:function(){var e=this.data,t=e.data,a=e.form;a=t.template,a.fields.forEach(function(e){var a=t.template.fields.find(function(t){return t.name==e.name});e.value=void 0==a.value?"":a.value}),this.setData({form:a})},handleFormSubmit:function(){var e=this,t=this.data.isChecked;console.log(t,"isChecked");var a={},n=this;this.data.form.fields.forEach(function(e){e.error="",a[""+e.name]=e.value});var i=(0,S.default)(a,this.data.rules,{format:"detailed"});if(i&&i.length>0){console.log("errorssssssssssssss",i);var s=this.data.form;return s.fields.forEach(function(e){i.some(function(t){if(t.attribute==e.name)return void(e.error=t.error)})}),this.setData({form:s}),void this.showToast("提交数据有误，请检查修改后重新提交")}var r=this.data.form;if(1==r.submit.agreement&&1==r.submit.chooseAgreement&&!r.isChecked)return void this.showToast("请勾选服务协议");o.showLoading({title:"提交中",modal:!0}),console.log("提交中",this.data.data.template);var d=this.data.data,u=d.type,c=d.formType;w.default.submitFeedback({id:this.data.formId,template:this.data.form.fields,type:u,formType:c}).then(function(){o.hideLoading();var t=r.submit,a=t.commitAction,i=t.link,s=t.type;2==a?"homestore"==s?o.navigateTo({url:"/pages/shop/products/products?storeid="+i}):"page"==s?o.navigateTo({url:"/modules/custome/custome?id="+i}):"xcxhome"==s&&o.switchTab({url:"/tabs/home/index"}):n.showToast(e.data.form.submit.toast||"表单提交成功！"),n.init()}).catch(function(e){o.hideLoading(),console.log(e),n.showToast(e.errorMessage)})},hideDatePicker:function(){this.setData({"datePicker.currDate":"","datePicker.showDatePicker":!1})},showDatePicker:function(e){var t=e.currentTarget.dataset,a=t.index,n=t.date,o=t.enabletime;this.setData({datePicker:{fieldIndex:a,currDate:n||"",showDatePicker:!0,enableTime:o}}),console.log(this.data)},handleChooseImg:function(e){var t=this,a=e.currentTarget.dataset.index;o.chooseImage({count:1,success:function(e){var n=e.tempFilePaths;w.default.uploadImage(n[0]).then(function(e){var n=t.data.form.fields[a].value,o=void 0===n?[]:n;o.push(e.url),t.setData(y({},"form.fields["+a+"].value",o))}).catch(function(e){console.log("chooseimage",e)})}})},handleRemoveImg:function(e){var t=e.currentTarget.dataset,a=t.index,n=t.imgindex,o=this.data.form.fields[a].value;o.splice(n,1),this.setData(y({},"form.fields["+a+"].value",o))},handleSelecteDate:function(e){var t=e.target.dataset.index,a=e.detail.date;this.setData(y({"datePicker.showDatePicker":!1},"form.fields["+t+"].value",a))},handleSelecteTime:function(e){var t=e.target.dataset.index;this.setData(y({"datePicker.showDatePicker":!1},"form.fields["+t+"].value",e.detail.value))},handleGetLocation:function(e){var t=this,a=e.currentTarget.dataset.index;console.log(e),b.default.authLocation().then(function(){return o.showLoading({title:"定位中",modal:!0}),b.default.queryLocation()}).then(function(e){o.hideLoading(),console.log(e),(0,v.queryAddress)({latitude:e.latitude,longitude:e.longitude}).then(function(e){var n=e.data,o=n.city,i=n.district,s=n.street,r=n.famousArea;t.setData(y({},"form.fields["+a+"].value",o+i+s+r))})}).catch(function(e){o.hideLoading(),t.showToast("获取当前地址失败，请打开小程序设置中的位置开关或手动输入当前地址"),console.log(e)})},handleFieldChange:function(e){var t,a=this;console.log(e);var n=e.target.dataset.index,o=e.detail.value,i=this.data.form.fields[n];switch(i.type){case"radio":case"checkbox":this.setData(y({},"form.fields["+n+"].value",i.options.filter(function(e){return o.includes(e.id.toString())}))),i.options.forEach(function(e,t){o.includes(e.id.toString())?a.setData(y({},"form.fields["+n+"].options["+t+"].checked",!0)):a.setData(y({},"form.fields["+n+"].options["+t+"].checked",!1))});break;case"picker":i.options.forEach(function(e,t){a.setData(y({},"form.fields["+n+"].options["+t+"].checked",t==o))}),this.setData((t={},y(t,"form.fields["+n+"].selectedIndex",o),y(t,"form.fields["+n+"].value",[i.options[o]]),t));break;default:this.setData(y({},"form.fields["+n+"].value",o))}console.log(this.data)},handleSelectAddressResult:function(e,t){console.log("---handleSelectAddressREsult---",e,t),this.setData(y({},"form.fields["+e+"].value",t))},handleSelectArea:function(e){var t=e.currentTarget.dataset.index,a=this.data,n=a.data,i=a.formId,s=a.form,r=n.template.fields[t].level||3,d=s.fields[t].value,u="",c="",l="";if(console.log("value",d,n),d&&d.code){var p=d.code.split(",");u=p[0],c=p[1],l=p[2]}o.navigateTo({url:"/component/address_picker/index?action=customForm&provinceCode="+u+"&cityCode="+c+"&districtCode="+l+"&level="+r+"&formId="+i+"&fieldIndex="+t})},checkboxChange:function(e){var t=e.currentTarget.dataset.checked;t=!t,this.setData(y({},"form.isChecked",t))},applyModifyUrl:function(){o.navigateTo({url:"/pages/agreement/index?title="+k.default.stringify(this.data.form.submit.title)+"&content="+k.default.stringify(this.data.form.submit.content)})}}}),Page({})}),window.define("dist/minui/wxc-toast/dist/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=Component({behaviors:[],properties:{isShow:{type:Boolean,value:!1},text:{type:String,value:""},icon:{type:String,value:""},iconColor:{type:String,value:""},iconImage:{type:String,value:""},duration:{type:Number,value:2e3}},data:{},methods:{show:function(){var e=this,t=this.data.duration;clearTimeout(this._timer),this.setData({isShow:!0}),t>0&&t!==1/0&&(this._timer=setTimeout(function(){e.hide(),e.triggerEvent("success",{},{})},t))},hide:function(){this._timer=clearTimeout(this._timer),this.setData({isShow:!1})}}}),Page({})}),window.define("component/page/modules/comment/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}var y=e("../common.js"),v=m(y),w=e("../../../../network/api.js"),x=m(w);Component({behaviors:[v.default],properties:{module:{type:Object}},data:{comment:{}},methods:{showToast:function(e,t){var a=this;this.setData({toast:{text:e,icon:t,isShow:!0}}),setTimeout(function(){a.setData({"toast.isShow":!1})},1500)},onSubmitComment:function(e){var t=this,a=this;if(!this.data.isSubmitting){console.log("form发生了submit事件，携带数据为：",e.detail.value);var n=void 0,i=this.data.comment;i.name&&0!=i.name.trim().length?i.phone&&0!=i.phone.trim().length?/^1[0-9]{10}$/.test(i.phone.trim())?i.content&&0!=i.content.trim().length||(n="请输入留言内容"):n="手机号码格式错误":n="请输入手机号码":n="请输入姓名",console.log("errors：",n),n?a.showToast(n,"no"):(o.showLoading({title:"请稍后",modal:!0}),this.setData({isSubmitting:!0}),x.default.saveMessage(i).then(function(e){console.log(e),o.hideLoading(),a.showToast("提交成功！","yes"),console.log("bingooooooooooooo",e),a.setData({comment:{},isSubmitting:!1})}).catch(function(e){o.hideLoading(),console.log(e),a.showToast("网络连接错误，请稍后重试！","no"),t.setData({isSubmitting:!1})}))}},onCommentChange:function(e){var t=this.data.comment;console.log(e.target.id,"++++++++++++"),t[e.target.id]=e.detail.value,this.setData({comment:t})}}}),Page({})}),window.define("component/page/modules/img_advert_fx/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var y=e("../common.js"),v=function(e){return e&&e.__esModule?e:{default:e}}(y);Component({behaviors:[v.default],data:{imgUrlsWH:{}},properties:{module:{type:Object,observer:"ready"}},ready:function(){this.init()},methods:{init:function(){var e=this.data.module,t=this.data.imgUrlsWH[e.options.imgUrl];if(t){var a;this.setData((a={},m(a,"module.options.width",t.width),m(a,"module.options.height",t.height),a))}},setImgAdvertWH:function(e){var t,a=e.detail.width,n=e.detail.height,o=e.target.dataset.imgurl;this.setData((t={},m(t,"module.options.width",a),m(t,"module.options.height",n),m(t,"imgUrlsWH",Object.assign({},this.data.imgUrlsWH,m({},o,{width:a,height:n}))),t)),console.log("this.data",this.data)}}}),Page({})}),window.define("component/hotel_intime/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}var y=e("../../utils/const.js"),v=m(y),w=e("../../utils/notification.js"),x=m(w),b=e("../../utils/util.js"),D=m(b);Component({properties:{isTimeChangeable:{type:Boolean,value:!0},inTime_data:{type:String,value:""},leaveTime_data:{type:String,value:""},statistics_data:{type:Number,value:3},startDate:{type:Number,value:0},endDate:{type:Number,value:0}},data:{},attached:function(){this.init()},ready:function(){},detached:function(){console.log("移除接收酒店时间变化的通知---settings.action.HOTEL_DATE_CHANGED===="),x.default.remove(v.default.action.HOTEL_DATE_CHANGED,this)},methods:{init:function(){var e=this,t=this,a=i().getFlash("inTimeObj");console.log("=========inTimeObj==============",a),a&&a.startDate&&a.startDate>0?this.setData(Object.assign({},a),function(){t.triggerEvent("changetime",t.data)}):this.setData({inTime_data:D.default.getDateStr(0)+" 今天",leaveTime_data:D.default.getDateStr(1)+" 明天",statistics_data:1},function(){t.triggerEvent("changetime",t.data)}),x.default.register(v.default.action.HOTEL_DATE_CHANGED,this,function(t){var a=e;console.log("接收酒店时间变化的通知-----封装组件----settings.action.HOTEL_DATE_CHANGED====",t.data),a.setData({startDate:t.data.startDate,endDate:t.data.endDate,inTime_data:D.default.timestampToTime(t.data.startDate),leaveTime_data:D.default.timestampToTime(t.data.endDate),statistics_data:(t.data.endDate-t.data.startDate)/864e5},function(){a.triggerEvent("changetime",a.data)})})},handleChangeTime:function(e){if(console.log("isTimeChangeable---\x3e",this.data.isTimeChangeable),this.data.isTimeChangeable){var t=this.data,a=t.startDate,n=t.endDate;a>0&&n>0?o.navigateTo({url:"/pages/hotel/checkdate/index?startDate="+a+"&endDate="+n}):a>0?o.navigateTo({url:"/pages/hotel/checkdate/index?startDate="+a}):n>0?o.navigateTo({url:"/pages/hotel/checkdate/index?endDate="+n}):o.navigateTo({url:"/pages/hotel/checkdate/index"})}}}}),Page({})}),window.define("component/page/modules/hotel/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}var y=e("../common.js"),v=m(y),w=e("../../../../utils/notification.js"),x=m(w),b=e("../../../../utils/const.js"),D=m(b),S=e("../../../../utils/util"),C=m(S);Component({behaviors:[v.default],properties:{module:{type:Object}},data:{location:{},indicatorDots:!1},ready:function(){var e=o.getStorageSync("location");console.log(e.location,"////////////////////"),this.setData({location:Object.assign({},e,{isLocation:e.locationType})})},attached:function(){this.init()},detached:function(){this.removeNotification()},methods:{handlesearch:function(){var e=this.data.keyword||"";o.navigateTo({url:"/pages/sources/newsinfo/newssearch?keyword="+e+"&type=indexsearch"})},handleSearchHotelList:function(){var e=this.selectComponent("#hoteltime");console.log("hoteltimeComponent===>",e),i().setFlash("keyword",this.data.keyword);var t=this.data.location,a=t.cityName,n=t.location,s=t.isLocation,r=t.cityCode;o.navigateTo({url:"/pages/hotel/list/index?intime="+C.default.stringify(e.data)+"&cityName="+a+"&location="+n+"&isLocation="+s+"&cityCode="+r})},init:function(){var e=this;x.default.register(D.default.action.HOTEL_SEARCH_DATA,this,function(t){console.log("跳转搜索页settings.action.HOTEL_SEARCH_DATA====",t.data),e.setData({keyword:t.data.keyword})}),x.default.register(D.default.action.HOTEL_LOCATION_CHANGED,this,function(t){console.log("酒店业务组件接受通知---地址变化settings.action.LOCATION_CHANGED====",t.data);var a=t.data;e.setData({"location.cityName":a.cityName,"location.location":a.location,"location.isLocation":a.isLocation,"location.cityCode":a.cityCode})})},removeNotification:function(){x.default.remove(D.default.action.HOTEL_LOCATION_CHANGED,this),x.default.remove(D.default.action.LOCATION_CHANGED,this)}}}),Page({})}),window.define("component/page/modules/text_nav/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m),v=e("../../../../utils/util.js");Component({properties:{module:{type:Object}},attached:function(){(0,v.bindBehavior)(this,y.default)}}),Page({})}),window.define("component/page/modules/img_text/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var y=e("../common.js"),v=function(e){return e&&e.__esModule?e:{default:e}}(y),w=e("../../../../utils/util.js");Component({properties:{module:{type:Object,observer:function(e,t){t&&t.options&&this.onchangeConent()}}},attached:function(){(0,w.bindBehavior)(this,v.default)},data:{showMore:!0},ready:function(){this.onchangeConent()},methods:{hiddenMore:function(){this.setData({showMore:!1})},showMore:function(){this.setData({showMore:!0})},onchangeConent:function(){("type1"==this.data.module.options.showType||"type2"==this.data.module.options.showType)&&this.data.module.options.content.length>105?this.setData(m({},"module.options.showContent",this.data.module.options.content.substring(0,104)+"...")):"type3"==this.data.module.options.showType&&this.data.module.options.content.length>140&&this.setData(m({},"module.options.showContent",this.data.module.options.content.substring(0,138)+"..."))}}}),Page({})}),window.define("component/page/modules/notice/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Component({properties:{module:{type:Object}},data:{animationData:{},velocity:16},ready:function(){this.setNotice()},detached:function(){clearInterval(this.interval)},methods:{start:function(){var e=this.data,t=e.width,a=e.duration,n=this,i=682/750*o.getSystemInfoSync().screenWidth;n.animation.translate(i).step({duration:100,timingFunction:"step-start"}),n.animation.translate(-t).step({duration:a});for(var s=0;s<200;s++)n.animation.translate(i).step({duration:100,timingFunction:"step-start"}),n.animation.translate(-t).step({duration:a});n.setData({animationData:Object.assign({},n.animation.export())})},setNotice:function(){var e=this.data.velocity,t=this;o.createSelectorQuery().in(this).select("#text").boundingClientRect(function(a){console.log("notice-setNotice",a);var n=a.width,i=500*(n+682/750*o.getSystemInfoSync().screenWidth)/e;t.setData({width:n,duration:i});var s=o.createAnimation({duration:i});t.animation=s,t.interval=setInterval(t.start.bind(t),1e3),setTimeout(function(){clearInterval(t.interval)},5e3)}).exec()}}}),Page({})}),window.define("component/page/modules/groups/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var y=e("../../../../network/api"),v=function(e){return e&&e.__esModule?e:{default:e}}(y);Component({properties:{module:{type:Object,value:"",observer:function(e,t){console.log("newVal",e,t),this.setData({scrollLeft:NaN})}},moduleIndex:{type:Number,value:0},pageid:{type:String,value:""},pageType:{type:String,value:""}},data:{group:{},showMore:!1,checkindex:0},ready:function(){var e=i().globalConfig;this.setData({isShowStoreName:e.isShowStoreName,group:this.data.module,checkindex:0}),console.log(this.data.group,"+++++++++++")},methods:{showMore:function(){var e=this;o.createSelectorQuery().in(this).select("#group").boundingClientRect(function(t){e.setData({moreTop:t.top*(750/o.getSystemInfoSync().screenWidth)+88})}).exec(),this.setData({showMore:!this.data.showMore})},hideMore:function(){this.setData({showMore:!1})},catchmove:function(){},bindCheckItem:function(e){var t=e.currentTarget.dataset.item,a=t.limitNum,n=t.cids,o=t.groupType,i=this.data.module.options.location;this.setData({checkindex:e.currentTarget.dataset.index});var s={cids:n.map(function(e){return e.id}).join(","),groupType:o,limitNum:a};"news"!==o&&(s.location=i),this.queryIndexGroup(s)},bindCheckMoreItem:function(e){var t=o.createSelectorQuery().in(this),a=e.currentTarget.dataset,n=a.index,i=a.item,s=i.limitNum,r=i.cids,d=i.groupType;this.setData({checkindex:n});var u=this,c={cids:r.map(function(e){return e.id}).join(","),groupType:d,limitNum:s};"news"!==d&&(c.location=2),this.queryIndexGroup(c),t.selectAll(".single-item").boundingClientRect(function(e){var t=e.reduce(function(e,t,a){return a<=n?e+t.width:e},0);t*(750/o.getSystemInfoSync().screenWidth)<=662?u.setData({scrollLeft:NaN}):u.setData({scrollLeft:t-662/750*o.getSystemInfoSync().screenWidth})}).exec()},queryIndexGroup:function(e){var t=this;v.default.queryIndexGroup(e).then(function(e){var a;t.setData((a={},m(a,"group.data",e.data.data||[]),m(a,"group.total",e.data.total),a))}).catch(function(){var e;t.setData((e={},m(e,"group.data",[]),m(e,"group.total",0),e))})},makedataSource:function(e){var t=e.currentTarget.dataset.index,a=this.data.group.options.groups[this.data.checkindex],n=this.data.group.options.location,o=void 0===n?2:n;if("goods"==a.groupType)this.jump("/pages/sources/products/index?dsId=&location="+o+"&dataType=1&type=goodslist&categoryIds="+a.cids.map(function(e){return e.id}).join(","));else if("news"==a.groupType){var i=this.data,s=i.pageid,r=i.pageType;this.jump("/pages/sources/newsinfo/newsinfo?location="+o+"&from=groups&dataType=2&index="+t+"&categoryIds="+a.cids.map(function(e){return e.id}).join(",")+"&pageid="+s+"&pageType="+r)}else"project"==a.groupType?this.jump("/pages/sources/services/index?location="+o+"&type=group&dataType=2&categoryIds="+a.cids.map(function(e){return e.id}).join(",")):"supply"==a.groupType&&this.jump("/pages/sources/supplyinfo/supplyinfo?location="+o+"&type=group&dataType=2&categoryIds="+a.cids.map(function(e){return e.id}).join(","))},jump:function(e){1==getCurrentPages().length?o.navigateTo({url:e}):o.redirectTo({url:e})},handlephone:function(e){var t=e.currentTarget.dataset.mobile;o.makePhoneCall({phoneNumber:t})}}}),Page({})}),window.define("dist/minui/wxc-tab/dist/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var m=e("./Event"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);a.default=Component({options:{multipleSlots:!0},behaviors:[],properties:function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}({defaultIndex:{type:Number,value:0},componentId:{type:String,value:""},animate:{type:Boolean,value:!1},textColor:{type:String,value:"#000"},activeTextColor:{type:String,value:"#ff5777"},lineColor:{type:String,value:"#ddd"},activeLineColor:{type:String,value:"#ff5777"},fontSize:{type:String,value:"38rpx"},lineFixWidth:{type:Boolean,value:!1},lineHeight:{type:String,value:!1}},"lineHeight",{type:String,value:"4rpx"}),data:{tabs:[],width:0,activeKey:0,move:0},attached:function(){var e=this;this.componentId=this.data.componentId,this.tabs=[],y.default.on("tab-create-"+this.componentId,function(t){e.type=t.label?"simple":"complex",e.tabs.push(t)})},ready:function(){var e=this.minAndMax(this.data.defaultIndex);this.onSwitch(e,"all"),this.listenSwitch();var t=this.tabs.length<6?100/this.tabs.length:20;"complex"===this.type&&y.default.emit("label-width-"+this.componentId,t),this.setData({tabs:this.tabs,width:t,type:this.type,move:t*e})},detached:function(){},methods:{minAndMax:function(e){var t=this.tabs.length-1;return e>t?t:e<0?0:e},listenSwitch:function(){var e=this;y.default.on("from-label-switch-"+this.componentId,function(t){e.onSwitch(t,"to-panel")}),y.default.on("from-panel-switch-"+this.componentId,function(t){e.onSwitch(t,"to-label")})},onSwitch:function(e,t){t||(e=e.currentTarget.dataset.idx,t="to-panel");var a=e*this.data.width;this.setData({activeKey:e,move:a}),"all"===t?(y.default.emit("to-label-switch-"+this.componentId,e),y.default.emit("to-panel-switch-"+this.componentId,e)):y.default.emit(t+"-switch-"+this.componentId,e),this.afterSwitch(e)},afterSwitch:function(e){this.triggerEvent("tabchange",{key:e,componentId:this.componentId})}}}),Page({})}),window.define("dist/minui/wxc-tab/dist/panel",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var m=e("./Event"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);a.default=Component({behaviors:[],properties:{tabIndex:Number,label:String,componentId:{type:String,value:""}},data:{activeKey:1,test:0},attached:function(){var e=this;this.componentId=this.data.componentId,this.data.label&&y.default.emit("tab-create-"+this.componentId,{key:this.data.tabIndex,label:this.data.label}),y.default.on("to-panel-switch-"+this.componentId,function(t){e.setData({activeKey:t})})},methods:{}}),Page({})}),window.define("component/page/modules/info_category/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Component({properties:{module:{type:Object,value:null}},data:{categoryList:[],firstIndex:0,secondIndex:0,title:""},ready:function(){this.setModule(this.data.module)},methods:{setModule:function(e){var t=e.data.categoryList,a=e.options,n=a.title,o=a.dsId,i=void 0===o?"":o,s=a.dataType;this.setData({categoryList:t,firstIndex:0,secondIndex:0,title:n,dsId:i,dataType:s});var r=this;setTimeout(function(){r.setGroupWidth(r)},500)},handleFirstClick:function(e){var t=e.currentTarget.dataset.index;this.setData({firstIndex:t});var a=this;setTimeout(function(){a.setGroupWidth(a)},500)},handleMoreClick:function(){var e=this.data,t=e.dataType,a=e.dsId;o.navigateTo({url:"/pages/sources/newsinfo/newsinfo?from=infoCategory&dataType="+t+"&&dsId="+a})},handleSecondClick:function(e){var t=this.data,a=t.dataType,n=t.dsId,i=t.firstIndex,s=t.categoryList,r=e.currentTarget.dataset.index,d=s[i].id,u=s[i].categorySecond[r].id;this.setData({secondIndex:r}),o.navigateTo({url:"/pages/sources/newsinfo/newsinfo?from=infoCategory&dataType="+a+"&firstId="+d+"&secondId="+u+"&dsId="+n})},setGroupWidth:function(e){var t=o.createSelectorQuery().in(e),a=o.getSystemInfoSync().screenWidth;t.selectAll(".twoline-item").boundingClientRect(function(t){var n=t.reduce(function(e,t){return e+t.width},0);if(console.log("width",n),n<=a)e.setData({width:n,height:88});else{var o=0,i=88;t.reduce(function(e,s,r){var d=e+s.width;return d>=(n/2>a?n/2:a)&&0==o&&(o=d,i=r==t.length-1?88:176),d},0),e.setData({width:o,height:i})}}).exec()}}}),Page({})}),window.define("component/page/modules/designer/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{module:{type:Object,observer:"init"}},ready:function(){this.init()},methods:{init:function(){var e=this.data.module;e.data&&e.data.length>4&&(e.data=e.data.slice(0,4)),this.setData({module:e}),console.log(e,"modulemodule")},handlenews:function(e){this.jump("/pages/decoration/designer/detail/index?id="+e.currentTarget.dataset.id)}}}),Page({})}),window.define("component/page/modules/picture/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{module:{type:Object,observer:"init"}},ready:function(){this.init()},data:{currentIndex:0,imgUrl:[["http://imgcdnali.wfenxiao.com.cn/xcx/c/decorationpicture/jianyue.png","http://imgcdnali.wfenxiao.com.cn/xcx/c/decorationpicture/xiandai.png","http://imgcdnali.wfenxiao.com.cn/xcx/c/decorationpicture/zongshi.png","http://imgcdnali.wfenxiao.com.cn/xcx/c/decorationpicture/oushi.png","http://imgcdnali.wfenxiao.com.cn/xcx/c/decorationpicture/meishi.png","http://imgcdnali.wfenxiao.com.cn/xcx/c/decorationpicture/wujv.png"],["http://imgcdnali.wfenxiao.com.cn/xcx/c/decorationpicture/keting.png","http://imgcdnali.wfenxiao.com.cn/xcx/c/decorationpicture/woshi.png","http://imgcdnali.wfenxiao.com.cn/xcx/c/decorationpicture/zongshi.png","http://imgcdnali.wfenxiao.com.cn/xcx/c/decorationpicture/chufang.png","http://imgcdnali.wfenxiao.com.cn/xcx/c/decorationpicture/weishengjian.png","http://imgcdnali.wfenxiao.com.cn/xcx/c/decorationpicture/yangtai.png"],["http://imgcdnali.wfenxiao.com.cn/xcx/c/decorationpicture/xiaohuxing.png","http://imgcdnali.wfenxiao.com.cn/xcx/c/decorationpicture/yijv.png","http://imgcdnali.wfenxiao.com.cn/xcx/c/decorationpicture/liangjv.png","http://imgcdnali.wfenxiao.com.cn/xcx/c/decorationpicture/sanjv.png","http://imgcdnali.wfenxiao.com.cn/xcx/c/decorationpicture/sijv.png","http://imgcdnali.wfenxiao.com.cn/xcx/c/decorationpicture/fushi.png"]]},methods:{init:function(){var e=this.data.module;e.data&&e.data.length>10&&(e.data=e.data.slice(0,10)),this.setData({module:e}),console.log(e,"modulemodule")},handlenews:function(e){var t=e.currentTarget.dataset,a=t.index,n=t.currentindex,o=this.data.module.data,i=o[n].itemId,s=o[n].value[a],r=s.name,d=s.type,u=void 0===d?0:d,c=s.itemValueId;this.jump("/pages/sources/picture/index?checkname="+r+"&type="+u+"&itemValueId="+c+"&itemId="+i)},handleMoreNews:function(){this.jump("/pages/sources/picture/index")},handleFirstClick:function(e){var t=e.currentTarget.dataset.index;this.setData({currentIndex:t})}}}),Page({})}),window.define("component/page/modules/company/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function v(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var w=e("../common.js"),x=m(w),b=e("../../../../network/api"),D=m(b),S=e("../../../../utils/const.js"),C=m(S),T=e("../../../../utils/notification"),_=m(T);Component({behaviors:[x.default],properties:{module:{type:Object,observer:"init"}},data:{objectArray:[],index:0,areaName:"区域范围",sort:"area"},ready:function(){var e=this;_.default.register(C.default.action.LOCATION_CHANGED,this,function(t){e.setData({areaName:t.data.cityName})}),this.queryDecorateCompanyCity(),this.setArea()},detached:function(){_.default.remove()},methods:{init:function(){var e=this.data.module;e.data&&e.data.length>10&&(e.data=e.data.slice(0,10)),this.setData({module:e})},setArea:function(){var e=o.getStorageSync("location");console.log(e.location,"location.location"),this.setData({areaName:e.location})},handleSwitchSort:function(e){var t=this.data.module.options,a=t.dsId,n=void 0===a?"":a,o=t.location,i=void 0===o?1:o,s=t.dataType,r=void 0===s?1:s;this.setData({query:Object.assign({},this.data.query,{dsId:n,location:i,dataType:r})});var d=e.currentTarget.dataset.sort,u=this.data.sort;if("goodRate"==d?d==u?(this.setData({order:"ascend"==this.data.order?"descend":"ascend"}),this.setData({"query.pageNo":1,"query.sort":d+":"+this.data.order})):(console.log(d),this.setData({sort:d,order:"descend","query.pageNo":1,"query.sort":d+":descend"})):this.setData({sort:d,"query.pageNo":1,"query.sort":""}),"goodRate"==d){var c=this.data.objectArray[this.data.index].code;this.handleCompanyList(Object.assign({},this.data.query,{cityCode:c}),!0)}},bindPickerChange:function(e){this.setData({index:e.detail.value});var t=this.data.objectArray[e.detail.value].code;this.setData({areaName:this.data.objectArray[e.detail.value].name,areacode:t});var a=this.data.module.options.showNum?this.data.module.options.showNum:"";this.handleCompanyList(Object.assign({},this.data.query,{pageSize:a,cityCode:t}),!0)},queryDecorateCompanyCity:function(){var e=this;D.default.decorateCompanyCity().then(function(t){o.hideLoading();var a=[].concat(v(t.data));a.splice(0,0,{code:"",id:0,name:"全部区域"}),e.setData({objectArray:a})}).catch(function(){return o.hideLoading()})},handleCompanyList:function(e){var t=this;o.showLoading({title:"加载中"}),D.default.decorateCompanyList(e).then(function(e){var a;o.hideLoading();var n=e.data.data.slice(0,t.data.module.options.showNum);t.setData((a={},y(a,"module.data",n||[]),y(a,"module.total",e.data.total),a))}).catch(function(){return o.hideLoading()})},handlenews:function(e){this.jump("/pages/decoration/company/detail/index?id="+e.currentTarget.dataset.id)},toCompList:function(){var e=this.data.module.options,t=e.dsId,a=void 0===t?"":t,n=e.location,o=void 0===n?1:n,i=e.dataType,s=void 0===i?1:i;if(this.data.areacode){var r=this.data.areacode,d=this.data.areaName;this.jump("/pages/sources/company/company?dsId="+a+"&location="+o+"&dataType="+s+"&cityCode="+r+"&areaName="+d)}else this.jump("/pages/sources/company/company?dsId="+a+"&location="+o+"&dataType="+s)}}}),Page({})}),window.define("dist/minui/wxc-price/dist/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e,t,a){if(!e||!t)return!1;if(a=a||"f",e=parseFloat(e,10),t=parseInt(t,10),"f"===a){return e.toString().split(".")[0]+"."+e.toString().split(".")[1].substring(0,t)}return e.toFixed(t)}Object.defineProperty(a,"__esModule",{value:!0}),a.default=Component({behaviors:[],properties:{value:{type:[Number,String],value:""},icon:{type:[String],value:""},status:{type:String,value:""},decimal:{type:String,value:"2"},decimalNum:{type:[Number,String],value:""}},data:{},methods:{},attached:function(){if(this.data.value){var e=this.data.value;switch(this.data.decimal){case"1":e=m(this.data.value,1);break;case"none":e=parseInt(this.data.value);break;case"small":e=parseInt(this.data.value).toString().trim(),this.setData({decimalNum:this.data.value.toString().split(".")[1].trim()})}this.setData({value:e})}}}),Page({})}),window.define("component/page/modules/hotellist/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{module:{type:Object}},ready:function(){console.log("hotellist",this.data);var e=o.getStorageSync("location");console.log(e.location,"////////////////////"),this.setData({location:e})},data:{},methods:{gotoDetail:function(e){this.jump("/pages/shop/products/products?storeid="+e.currentTarget.dataset.id)},makedataSource:function(){this.jump("/pages/hotel/list/index")}}}),Page({})}),window.define("component/page/modules/carstore/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{module:{type:Object},serverTime:{type:Number}},ready:function(){var e=o.getStorageSync("config");this.setData({isShowStoreName:e.isShowStoreName})},data:{},methods:{makestore:function(e){var t=e.currentTarget.dataset.store;this.jump("/pages/shop/products/products?storeid="+t.id)}}}),Page({})}),window.define("dist/minui/wxc-elip/dist/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=Component({behaviors:[],properties:{line:{type:Number,value:""}},data:{},methods:{}}),Page({})}),window.define("component/page/modules/carproject/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{module:{type:Object},serverTime:{type:Number}},ready:function(){var e=o.getStorageSync("config");this.setData({isShowStoreName:e.isShowStoreName})},data:{},methods:{makestore:function(e){var t=e.currentTarget.dataset.store;this.jump("/pages/shop/products/products?storeid="+t.storeId)}}}),Page({})}),window.define("component/page/modules/cartimescard/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{module:{type:Object},serverTime:{type:Number}},ready:function(){console.log("nearstore",this.data)},data:{},methods:{makestore:function(e){var t=e.currentTarget.dataset.store;this.jump("/pages/shop/products/products?storeid="+t.id)}}}),Page({})}),window.define("component/page/modules/edulist/item/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../../../../../behaviors/toast.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{eduitem:{type:Object},index:{type:Number},disabled:{type:Boolean},from:{type:String}},ready:function(){},methods:{linkToCourseDetail:function(){var e=this.data,t=e.eduitem;e.disabled?this.showToast("订阅专栏后才能观看"):o.navigateTo({url:"/pages/edu/coursedetail/index?id="+t.id})}}}),Page({})}),window.define("component/page/modules/edulist/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{module:{type:Object},serverTime:{type:Number}},ready:function(){var e=o.getStorageSync("config");this.setData({isShowStoreName:e.isShowStoreName})},data:{},methods:{}}),Page({})}),window.define("component/page/modules/cutprice/list/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Component({properties:{list:{type:Array,value:[]}},data:{},methods:{}}),Page({})}),window.define("component/page/modules/cutprice/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{module:{type:Object}},data:{},methods:{}}),Page({})}),window.define("component/page/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Component({behaviors:[],properties:{modules:{type:Array,value:[]},serverTime:{type:Number},pageid:{type:String,value:""},pageType:{type:String,value:""},storeType:{type:String,value:""}},data:{},attached:function(){},moved:function(){},ready:function(){console.log("-------page----index----------",this.data.modules)},methods:{}}),Page({})}),window.define("dist/minui/wxc-abnor/dist/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var m=e("./config"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);a.default=Component({behaviors:[],properties:{type:{type:String,value:"",observer:function(e){if(e&&y.default[e]){var t=this.data.image||y.default[e].image,a=this.data.title||y.default[e].title,n=this.data.button||y.default[e].button,o=this.data.tip||y.default[e].tip;this.setData({image:t,title:a,button:n,tip:o})}}},image:{type:String,value:""},title:{type:String,value:""},tip:{type:String,value:""},button:{type:String,value:""}},data:{},ready:function(){var e=this.data.type;if(e&&y.default[e]){var t=this.data.image||y.default[e].image,a=this.data.title||y.default[e].title,n=this.data.button||y.default[e].button,o=this.data.tip||y.default[e].tip;this.setData({image:t,title:a,button:n,tip:o})}},methods:{emitAbnorTap:function(e){var t=e.detail,a={};this.triggerEvent("abnortap",t,a)}}}),Page({})}),window.define("component/home_gift_popup/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Component({properties:{list:{type:Array,value:[]},tabName:{type:String,value:"我的"},index:{type:Number,value:0}},data:{},methods:{show:function(){var e=this.selectComponent("#home_gift_popup");e&&e.show()},hide:function(){var e=this.selectComponent("#home_gift_popup");e&&e.hide();var t=this.data,a=t.index,n=this;a+1<t.list.length&&(this.setData({index:a+1}),this.triggerEvent("updateindex",{index:a+1},{}),setTimeout(function(){n.show()},500))}}}),Page({})}),window.define("component/phone_action/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Component({properties:{list:{type:Array,value:[]}},data:{showDialog:!1},methods:{call:function(e){var t=e.target.dataset.phone;o.makePhoneCall({phoneNumber:t.replace("-","").split("转")[0]})},show:function(){console.log("toggleDialog===>",this.data.showDialog),this.setData({showDialog:!0})},hide:function(){console.log("toggleDialog===>",this.data.showDialog),this.setData({showDialog:!1})}}}),Page({})}),window.define("component/phonebutton/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../../network/api"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({properties:{size:{type:String,value:"primary"},loginUrl:{type:String}},data:{},methods:{gotoLogin:function(){o.navigateTo({url:"/pages/login/login"})},_getPhoneNumber:function(e){var t=this;if(console.log("_getPhoneNumber",e),-1!==e.detail.errMsg.indexOf("ok")){console.log(e.detail.errMsg);var a=e.detail.iv,n=e.detail.encryptedData;o.showLoading({title:"请稍候"}),y.default.bindSimple({encryptedData:n,iv:a}).then(function(e){if(o.hideLoading(),e&&0==e.status&&e.data.result){var a=o.getStorageSync("userinfo");a.mobile=e.data.mobile,o.setStorageSync("userinfo",a),i().globalData.userinfo=a,t.showToast("手机号绑定成功"),t.triggerEvent("showtoast",{title:"手机号绑定成功"}),t.triggerEvent("changeuser")}else if(e&&0==e.status&&0==e.data.result){t.triggerEvent("showtoast",{title:e.data.msg}),t.showToast(e.data.msg);var n=t;setTimeout(function(){o.navigateTo({url:n.data.loginUrl})},1500)}else{t.showToast("手机号绑定失败,请到登录页绑定"),t.triggerEvent("showtoast",{title:"手机号绑定失败,请到登录页绑定"});var s=t;setTimeout(function(){o.navigateTo({url:s.data.loginUrl})},1500)}console.log(e)}).catch(function(e){o.hideLoading(),console.log(e),t.triggerEvent("showtoast",{title:"手机号绑定失败,请到登录页绑定"}),t.showToast("手机号绑定失败,请到登录页绑定");var a=t;setTimeout(function(){o.navigateTo({url:a.data.loginUrl})},1500)}),console.log(e.detail.iv),console.log(e.detail.encryptedData)}else console.log(this.data.loginUrl),o.navigateTo({url:this.data.loginUrl})}}}),Page({})}),window.define("component/phonemodal/phonemodal",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Component({properties:{showModal:{type:Boolean,observer:function(e,t){this.onShowModal(e,t)}},url:{type:String,observer:function(e){this.setData({loginUrl:e})}}},data:{data:"加载中",show:!1,loginUrl:"/pages/login/login"},attached:function(){},methods:{onCancel:function(){this.setData({show:!1,showModal:!1})},onShowModal:function(e){if(1==e){var t=o.getStorageSync("config");this.setData({show:!0,title:t.programName||"小程序"})}else this.setData({show:!1})},changeuser:function(){this.triggerEvent("changeuser")},showtoast:function(e){this.showToast(e.detail.title)}}}),Page({})}),window.define("dist/minui/wxc-dialog/dist/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=Component({behaviors:[],properties:{title:{type:String},titleColor:{type:String,value:"#000000"},content:{type:String},contentColor:{type:String,value:"#888888"},confirmText:{type:String},confirmColor:{type:String,value:"#ff5777"},cancelText:{type:String},cancelColor:{type:String,value:"#666666"},image:{type:String}},data:{status:"hide"},methods:{show:function(){var e=this.selectComponent(".popup");e&&e.show(),this.setData({status:"show"})},hide:function(){var e=this.selectComponent(".popup");e&&e.hide(),this.setData({status:"hide"})},onContentTap:function(){},cancelCallback:function(){this.triggerEvent("cancel")},confirmCallback:function(){this.triggerEvent("confirm")}}}),Page({})}),window.define("component/newsinfo/newsinfo",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../../network/api"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({properties:{options:{type:Object,value:{}}},data:{categoryList:[],firstIndex:0,secondIndex:0,currentFirstIndex:0,currentSecondIndex:0,query:{pageSize:10,pageNo:1}},ready:function(){var e=this.data.options;this.handleLoad(e)},methods:{handleLoad:function(e){switch(console.log(e,"options"),this.setData({from:e.from}),console.log(e,"options111"),e.from){case"infoCategory":this.handleInfoCategory(e);break;case"dataSource":this.handleDataSource(e);break;case"groups":this.handleGroups(e);break;case"tabs":this.handleDataSource(e)}},handleDataSource:function(e){var t=this,a=e.dsId,n=e.dataType;y.default.queryNewsinfoList({dsId:a,dataType:n}).then(function(a){if(o.hideLoading(),a.data.data&&1==a.data.data.length&&"tabs"!==t.data.from){var n=a.data.data[0];o.redirectTo({url:"/pages/sources/newsinfo/newsinfodetail?id="+n.id})}else e.firstId=-1,e.secondId=-1,t.handleInfoCategory(e)}).catch(function(){return o.hideLoading()})},handleInfoCategory:function(e){var t=this,a=e.dsId,n=e.dataType,i=e.firstId,s=e.secondId;o.showLoading({title:"加载中"});var r=this;y.default.qeuryInfoCategoryByDsId({dsId:a,dataType:n}).then(function(e){var o=e.data.categoryList,d=0,u=0;o.some(function(e,t){return i==e.id&&(d=t),i==e.id}),o[d].categorySecond.some(function(e,t){return s==e.id&&(u=t),s==e.id}),r.setData({categoryList:o,firstIndex:d,currentFirstIndex:d,secondIndex:u,currentSecondIndex:u,dsId:a,dataType:n,"query.pageNo":1}),t.queryInfoListByCategory()}).catch(function(){return o.hideLoading()})},handleFirstClick:function(e){var t=this.data,a=t.currentFirstIndex,n=t.currentSecondIndex,o=e.currentTarget.dataset.index;this.setData({firstIndex:o,secondIndex:o==a?n:-1})},handleSecondClick:function(e){var t=this.data.firstIndex,a=e.currentTarget.dataset.index;this.setData({secondIndex:a,currentSecondIndex:a,currentFirstIndex:t,"query.pageNo":1}),this.queryInfoListByCategory()},queryInfoListByCategory:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.data,n=a.dsId,i=a.dataType,s=a.firstIndex,r=a.secondIndex,d=a.categoryList,u=a.query,c=u.pageSize,l=u.pageNo;o.showLoading({title:"加载中"});var p=d[s].categorySecond[r].id;y.default.queryNewsinfoList({dsId:n,dataType:i,categoryId:p,pageSize:c,pageNo:l}).then(function(a){o.hideLoading(),e.setData({list:t?e.data.list.concat(a.data.data):a.data.data,loadmore:a.data.nextCursor>0,loadingmore:!1,query:Object.assign({},e.data.query,{pageNo:a.data.nextCursor,pageSize:a.data.pageSize}),scrollTop:t?e.data.scrollTop:0,isShow:!0})}).catch(function(){return o.hideLoading()})},handleGroups:function(e){var t=this,a=e.categoryIds,n=e.dataType,i=e.pageid,s=e.index,r=e.pageType,d=a.split(",")[0];o.showLoading({title:"加载中"});var u=this,c={index:s};i&&(c.pageId=i),y.default.qeuryInfoCategoryByGroup(Object.assign({},c,{type:r})).then(function(e){var a=e.data,o=0,i=0;a.some(function(e,t){var n=a[o].categorySecond.some(function(e,t){return d==e.id&&(i=t),d==e.id});return n&&(o=t),n}),u.setData({categoryList:a,firstIndex:o,currentFirstIndex:o,secondIndex:i,currentSecondIndex:i,dsId:"",dataType:n,"query.pageNo":1}),t.queryInfoListByCategory()}).catch(function(){return o.hideLoading()})},queryGroupNewsinfoList:function(e,t){var a=this;y.default.queryGroupInfo(e).then(function(e){o.hideLoading(),a.setData({list:t?e.data.data:a.data.list.concat(e.data.data),loadmore:e.data.nextCursor>0,loadingmore:!1,query:Object.assign({},a.data.query,{pageNo:e.data.nextCursor,pageSize:e.data.pageSize}),scrollTop:t?0:a.data.scrollTop,isShow:!0})}).catch(function(e){return console.log(e)})},handleLoadMore:function(){this.data.loadmore&&!this.data.loadingmore&&(this.setData({loadingmore:!0}),o.showLoading({title:"加载中"}),"group"==this.data.type?this.queryGroupNewsinfoList(this.data.query,!1):this.queryInfoListByCategory(!0))},handlescroll:function(e){this.setData({scrollTop:e.detail.scrollTop})},handlenews:function(e){o.navigateTo({url:"/pages/sources/newsinfo/newsinfodetail?id="+e.currentTarget.dataset.id})}}}),Page({})}),window.define("component/category/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Component({properties:{category:{type:Array,value:[],observer:function(e,t){console.log(e,t,"old"),this.init()}}},data:{leftIndex:0,passive:!1,list:[],firstList:[]},ready:function(){console.log(this.data,"data"),this.init()},methods:{init:function(){console.log("++++1");var e=this.data.category.map(function(e){return{id:e.id,name:e.name}}),t=this.data.category.map(function(e){if(e.categoryList&&e.categoryList.length){var t=e.categoryList.filter(function(e){return e.imgUrl}),a=e.categoryList.filter(function(e){return!e.imgUrl}),n=2*Math.ceil(t.length/3),o=Math.ceil(a.length/3),i=n+o>6,s=t.filter(function(e,t){return t<9}),r=6-2*Math.ceil(s.length/3),d=a.filter(function(e,t){return t<3*r});return{id:e.id,name:e.name,imgList:t,textList:a,simpleImgList:s,simpleTextList:d,showAll:i,hasOpen:!1}}return{id:e.id,name:e.name,showAll:!1}});console.log("list",t,e),this.setData({list:t,firstList:e})},handleOpen:function(e){var t=e.currentTarget.dataset.index;this.setData(m({},"list["+t+"].hasOpen",!this.data.list[t].hasOpen))},handleNavigate:function(e){var t=e.currentTarget.dataset,a=t.cid,n=t.cname;this.triggerEvent("cclick",{id:a,name:n},{})},handleLeftClick:function(e){var t=e.currentTarget.dataset.index;this.setData({leftIndex:t,passive:!0,rightId:"right"+t});var a=this;o.createSelectorQuery().in(this).select("#left"+t).boundingClientRect(function(e){var n=o.getSystemInfoSync(),i=n.windowHeight;if(console.log(e),e.bottom>i-50){var s=Math.floor(i/100);a.setData({leftId:"left"+(t-s)})}}).exec()},handleRightScroll:function(){var e=this.data.passive;this.scrollEndTimer&&(clearTimeout(this.scrollEndTimer),this.scrollEndTimer=null);var t=this;this.scrollEndTimer=setTimeout(function(){e||t.handleLeftTop(),t.setData({passive:!1})},300)},handleLeftTop:function(){var e=this.data.list,t=o.createSelectorQuery().in(this),a=this;t.selectAll(".right-item").boundingClientRect(function(t){if(t&&0!=t.length){var n=t.findIndex(function(e){return e.top>-17});console.log("左侧分类",e[n].name);o.createSelectorQuery().in(a).select("#left"+n).boundingClientRect(function(e){var t=o.getSystemInfoSync(),i=t.windowHeight;if(console.log(e),e.top<0)a.setData({leftIndex:n,leftId:"left"+n});else if(e.bottom>i-50){var s=Math.floor(i/100);a.setData({leftIndex:n,leftId:"left"+(n-s)})}else a.setData({leftIndex:n})}).exec()}}).exec()}}}),Page({})}),window.define("component/decoration_company/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var v=e("../../network/api"),w=m(v),x=e("../../utils/util.js"),b=m(x),D=e("../../behaviors/toast.js"),S=m(D);Component({behaviors:[S.default],properties:{selectArea:{type:Object},tab:{type:String},dataType:{type:Number}},data:{sort:"area",query:{pageNo:1,pageSize:20,sort:""},list:[],objectArray:[],index:0,areaName:"全部区域"},methods:{handleLoad:function(e){if(console.log(e,"options"),e){var t=e.dataType,a=void 0===t?1:t,n=e.cityCode,o=void 0===n?"":n,i=e.areaName,s=void 0===i?"全部区域":i;this.setData({query:Object.assign({},this.data.query,{dataType:a},e),cityCode:o,areaName:s})}else this.setData({query:Object.assign({},this.data.query,{dataType:1})});this.handleCompanyList(Object.assign({},this.data.query),!0),this.queryDecorateCompanyCity()},handleCompanyList:function(e,t){o.showLoading({title:"加载中"});var a=this;w.default.decorateCompanyList(e).then(function(e){o.hideLoading(),a.setData({list:t?e.data.data:a.data.list.concat(e.data.data),loadmore:e.data.nextCursor>0,loadingmore:!1,query:Object.assign({},a.data.query,{pageNo:e.data.nextCursor,pageSize:e.data.pageSize}),scrollTop:t?0:a.data.scrollTop,isShow:!0})}).catch(function(){return o.hideLoading()})},handleLoadMore:function(){this.data.loadmore&&!this.data.loadingmore&&(this.setData({loadingmore:!0}),o.showLoading({title:"加载中"}),this.handleCompanyList(this.data.query,!1))},bindNameInput:function(e){this.setData({name:e.detail.value})},bindPhoneInput:function(e){this.setData({phone:e.detail.value})},handleSubmit:function(){var e=this.data,t=e.name,a=e.phone,n=e.selectArea,i=this,s=!1;if(!t)return s=!0,void this.showToast("请输入姓名");if(!n.code)return s=!0,void this.showToast("请选择区域");if(b.default.testMobile(a)&&!s){var r=[{label:"姓名",value:t},{label:"手机号",value:a},{label:"区域",value:{city:n.city,code:n.code},type:"area"}];w.default.feedbackSave({template:r,type:"company",formType:2}).then(function(e){o.hideLoading(),0==e.status&&e.data&&i.showToast("已经收到您的信息，我们将尽快为您推荐口碑公司")}).catch(function(e){o.hideLoading(),i.showToast(w.default.errors(e.error)||"获取推荐失败")})}else this.showToast("请输入正确的手机号码")},handleSwitchSort:function(e){var t=e.currentTarget.dataset.sort,a=this.data.sort;if("goodRate"==t?t==a?(this.setData({order:"ascend"==this.data.order?"descend":"ascend"}),this.setData({"query.pageNo":1,"query.sort":t+":"+this.data.order})):(console.log(t),this.setData({sort:t,order:"descend","query.pageNo":1,"query.sort":t+":descend"})):this.setData({sort:t,"query.pageNo":1,"query.sort":""}),"goodRate"==t){var n=this.data.cityCode;this.handleCompanyList(Object.assign({},this.data.query,{cityCode:n}),!0)}},bindPickerChange:function(e){this.setData({index:e.detail.value});var t=this.data.objectArray[e.detail.value].code;this.setData({areaName:this.data.objectArray[e.detail.value].name,cityCode:t}),this.handleCompanyList(Object.assign({},this.data.query,{cityCode:t}),!0)},queryDecorateCompanyCity:function(){var e=this;w.default.decorateCompanyCity().then(function(t){o.hideLoading();var a=[].concat(y(t.data));a.splice(0,0,{code:"",id:0,name:"全部区域"}),e.setData({objectArray:a})}).catch(function(){return o.hideLoading()})}}}),Page({})}),window.define("component/waterfall/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../../network/api"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({properties:{item:{type:Object,value:{}},list:{type:Array,value:[]},index:{type:Number,value:0},type:{type:String,value:""}},data:{},methods:{toDetail:function(e){var t=this.data.index,a=e.currentTarget.dataset,n=a.impressionid,o=a.type;this.triggerEvent("handletap",{id:n,index:t,type:o}),this.changeSee({impressionId:n})},changeSee:function(e){var t=this;y.default.impressionSee(e).then(function(e){o.stopPullDownRefresh(),console.log(e.data,"res");var a=Object.assign({},t.data.item,{seeCount:e.data.seeCount});t.setData({item:a})}).catch(function(e){console.log(e),o.stopPullDownRefresh()})},changePraise:function(e){var t=this,a=e.currentTarget.dataset.impressionid,n=Object.assign({},this.data.item,{isPraise:1==this.data.item.isPraise?0:1});this.setData({item:n});var i=1==this.data.item.isPraise?1:-1,s={addOrMinus:i,impressionId:a};y.default.impressionPraise(Object.assign({},s)).then(function(e){o.stopPullDownRefresh();var a=Object.assign({},t.data.item,{praiseCount:e.data.praiseCount});t.setData({item:a})}).catch(function(e){console.log(e),o.stopPullDownRefresh()})}}}),Page({})}),window.define("component/picture-tab/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Component({properties:{list:{type:Array,value:[]},height:{type:Number,value:0}},data:{scrollTop:0},methods:{handleLoadMore:function(){this.triggerEvent("loadmore",{},{})},handletap:function(e){this.triggerEvent("handletap",e.detail)},setScrollTop:function(e){this.setData({scrollTop:e})}}}),Page({})}),window.define("component/decoration_picture/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}var v=e("../../network/api"),w=m(v),x=e("../../utils/util.js"),b=m(x);Component({properties:{},data:{picture:[],type:0,defaultSelectList:[{name:"综合排序",type:"likeOrSee",value:[{name:"点赞数",isCheck:0},{name:"浏览次数",isCheck:0}]}],checkTypeIndex:"",query:{singeQuery:{pageNo:1,pageSize:10,type:0},moreQuery:{pageNo:1,pageSize:10,type:1}},selectList:[],selectIndex:[],checkIndexArray:{singeIndexArray:[],moreIndexArray:[]},selectAllList:{singeList:[],moreList:[]}},methods:{handleLoad:function(e){console.log(e,"options");var t={};if("0"===e.type){var a=e.itemValueId,n=e.itemId,i=this.data.query.singeQuery;t=Object.assign({},i,{itemValueIds:a,itemIds:n}),this.setData({type:0,showType:0,style:n,checkname:e.checkname,"query.singeQuery":Object.assign({},i,{itemIdsArray:[{itemValueId:a,itemId:n}]})})}else if(1==e.type){var s=e.itemValueId,r=e.itemId,d=this.data.query.moreQuery;t=Object.assign({},d,{itemValueIds:s,itemIds:r}),this.setData({type:1,showType:1,style:r,checkname:e.checkname,"query.moreQuery":Object.assign({},d,{itemIdsArray:[{itemValueId:s,itemId:r}]})})}this.setData({height:o.getSystemInfoSync().screenHeight-101}),this.handlePictureList(Object.assign({},t),!0),this.querySelectItem()},querySelectItem:function(){var e=this;w.default.querySelectItem().then(function(t){console.log(t),e.setData({"selectAllList.singeList":e.data.defaultSelectList.concat(t.data[0].single),"selectAllList.moreList":e.data.defaultSelectList.concat(t.data[1].more),selectList:0===e.data.type?e.data.defaultSelectList.concat(t.data[0].single):e.data.defaultSelectList.concat(t.data[1].more)})})},handlePictureList:function(e,t){var a=this;o.showLoading({title:"加载中"});var n=this.data,i=n.type,s=n.query,r=this;w.default.pictureList(Object.assign({},e,{type:i})).then(function(e){if(o.hideLoading(),0===i?s.singeQuery=Object.assign({},r.data.query.singeQuery,{pageNo:e.data.nextCursor,pageSize:e.data.pageSize}):s.moreQuery=Object.assign({},r.data.query.moreQuery,{pageNo:e.data.nextCursor,pageSize:e.data.pageSize}),r.setData({picture:t?e.data.data:r.data.picture.concat(e.data.data),loadmore:e.data.nextCursor>0,loadingmore:!1,query:s,scrollTop:t?0:r.data.scrollTop,isShow:!0}),console.log("clear",t),t){var n=a.selectComponent("#pictureTab");console.log("comp",n),n&&n.setScrollTop(0)}}).catch(function(){return o.hideLoading()})},handleMoreQuery:function(){if(this.data.loadmore&&!this.data.loadingmore){this.setData({loadingmore:!0}),o.showLoading({title:"加载中"});var e=this.data,t=e.type,a=e.query,n=a.singeQuery,i=n.itemIdsArray,s=y(n,["itemIdsArray"]),r=a.moreQuery,d=r.itemIdsArray,u=y(r,["itemIdsArray"]),c=0===t?Object.assign({},s,{itemIds:i&&i.map(function(e){return e.itemId}).join(","),itemValueIds:i&&i.map(function(e){return e.itemValueId}).join(",")}):Object.assign({},u,{itemIds:d&&d.map(function(e){return e.itemId}).join(","),itemValueIds:d&&d.map(function(e){return e.itemValueId}).join(",")});this.handlePictureList(c,!1)}},selectType:function(e){var t=e.currentTarget.dataset.type;if(t!=this.data.type){var a={},n=[],o=[];if(0==t){n=this.data.selectAllList.singeList,o=this.data.checkIndexArray.singeIndexArray;var i=this.data.query.singeQuery,s=i.itemIdsArray,r=void 0===s?[]:s,d=y(i,["itemIdsArray"]),u=r.map(function(e){return e.itemId}).join(","),c=r.map(function(e){return e.itemValueId}).join(",");a=Object.assign({},d,{itemIds:u,itemValueIds:c},a,{psgeNo:1})}else{n=this.data.selectAllList.moreList,o=this.data.checkIndexArray.moreIndexArray;var l=this.data.query.moreQuery,p=l.itemIdsArray,h=void 0===p?[]:p,g=y(l,["itemIdsArray"]),f=h.map(function(e){return e.itemId}).join(","),m=h.map(function(e){return e.itemValueId}).join(",");a=Object.assign({},g,{itemIds:f,itemValueIds:m},a,{pageNo:1})}this.setData({type:t,selectList:n,selectIndex:o,checkTypeIndex:""}),this.handlePictureList(a,!0)}},handleFirstClick:function(e){var t=e.currentTarget.dataset.index;this.setData({checkTypeIndex:t})},onConcal:function(){this.setData({checkTypeIndex:""})},bindCheckName:function(e){var t=e.currentTarget.dataset,a=t.checkindex,n=t.index,o=this.data,i=o.selectList,s=o.selectIndex,r=o.checkIndexArray,d=o.type,u=o.query,c=o.style,l={pageNo:1},p={};if("likeOrSee"==i[a].type?l.likeOrSee=""===n?"":n+1:p=n||0===n?{itemId:i[a].itemId,itemValueId:i[a].value[n].itemValueId}:{itemId:i[a].itemId,itemValueId:-1},0==d){r.singeIndexArray[a]=n;var h=u.singeQuery,g=h.itemIdsArray,f=void 0===g?[]:g,m=y(h,["itemIdsArray"]),v=f.filter(function(e){return e.itemId!=p.itemId});p.itemId&&v.push(p);var w=v.map(function(e){return e.itemId}).join(","),x=v.map(function(e){return e.itemValueId}).join(",");l=Object.assign({},m,{itemIds:w,itemValueIds:x},l),u.singeQuery=Object.assign({},u.singeQuery,l,{itemIdsArray:v})}else{r.singeIndexArray[a]=n;var b=u.moreQuery,D=b.itemIdsArray,S=void 0===D?[]:D,C=y(b,["itemIdsArray"]),T=S.filter(function(e){return e.itemId!=p.itemId});p.itemId&&T.push(p);var _=T.map(function(e){return e.itemId}).join(","),k=T.map(function(e){return e.itemValueId}).join(",");l=Object.assign({},C,{itemIds:_,itemValueIds:k},l),u.moreQuery=Object.assign({},u.moreQuery,l,{itemIdsArray:T})}s[a]=n,c==[""+i[a].itemId]&&this.setData({style:"",showType:""}),this.setData({selectIndex:s,checkIndexArray:r,checkTypeIndex:"",query:u}),this.handlePictureList(l,!0)},handletap:function(e){var t=this.data,a=t.type,n=t.query,i=n.singeQuery,s=n.moreQuery,r=e.detail,d=r.id,u=r.index;i.pageNo=Math.ceil((u+1)/i.pageSize),s.pageNo=Math.ceil((u+1)/s.pageSize);var c=0==a?b.default.stringify(i):b.default.stringify(s);o.navigateTo({url:"/pages/decoration/viewpager/index?from=picture&currentId="+d+"&query="+c})}}}),Page({})}),window.define("component/decoration_designer/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../../network/api"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({properties:{},data:{designer:[],query:{pageSize:10,pageNo:1}},methods:{handleLoad:function(e){console.log(e,"options");var t=e.dsId,a=e.dataType;this.setData({dsId:t,dataType:a}),this.handleDesignerList({dsId:t,dataType:a},!0)},handleDesignerList:function(e,t){o.showLoading({title:"加载中"});var a=this;y.default.queryDesignerList(e,t).then(function(e){o.hideLoading(),a.setData({designer:t?e.data.data:a.data.designer.concat(e.data.data),loadmore:e.data.nextCursor>0,loadingmore:!1,query:Object.assign({},a.data.query,{pageNo:e.data.nextCursor,pageSize:e.data.pageSize}),scrollTop:t?0:a.data.scrollTop,isShow:!0})}).catch(function(){return o.hideLoading()})},handleLoadMore:function(){this.data.loadmore&&!this.data.loadingmore&&(this.setData({loadingmore:!0}),o.showLoading({title:"加载中"}),this.handleDesignerList(this.data.query,!1))},handleTop:function(){var e=this.data,t=e.dsId,a=e.dataType;this.handleDesignerList({dsId:t,dataType:a},!0)}}}),Page({})}),window.define("component/live/live_item",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../../behaviors/toast.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m),v=e("../../network/api.js");Component({behaviors:[y.default],properties:{live:{type:Object},index:{type:Number}},ready:function(){},methods:{handleAddFavorite:function(e){var t=this.data.live;this.setData({"live.isFavorite":1,"live.favoriteUsers":t.favoriteUsers+1});var a=new Date,n=new Date(t.startTime.replace(/-/g,"/"));1==t.status&&(n-a)/6e4>6?this.showToast("已加入收藏，直播开始前5分钟将收到提醒"):this.showToast("已加入收藏"),(0,v.addLiveFavorite)({id:t.id,formId:e})},handleRemoveFavorite:function(){var e=this.data,t=e.live,a=e.index;this.setData({"live.isFavorite":0,"live.favoriteUsers":t.favoriteUsers-1}),this.showToast("已取消收藏"),this.triggerEvent("removefavorite",{index:a},{composed:!0,bubbles:!0}),(0,v.removeLiveFavorite)({id:t.id})},handleFavorite:function(e){var t=e.detail.formId;this.data.live.isFavorite?this.handleRemoveFavorite():this.handleAddFavorite(t)},handleTapLive:function(e){if("favoriteBtn"!=e.target.id){var t=this.data.live;this.triggerEvent("ontaplive",t)}}}}),Page({})}),window.define("component/live/live_list",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Component({properties:{liveList:Array,topush:{type:Boolean,value:!1}},data:{},methods:{handleTapLive:function(e){var t=e.detail,a=this.data.topush;console.log(this.data),a?o.navigateTo({url:"/pages/live/push/index?id="+t.id}):o.navigateTo({url:"/pages/live/detail/index?id="+t.id})}}}),Page({})}),window.define("component/live/live_page",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var y=e("../../network/api.js");Component({data:{tabs:[{title:"当前活动",liveList:[],noDataTitle:"没有直播活动"},{title:"历史活动",liveList:[],noDataTitle:"没有历史直播活动"}],isPusher:!1},ready:function(){var e=this,t=this.selectComponent("#tab"),a=o.createSelectorQuery().in(t);a.select(".tab__navbar").boundingClientRect(),a.exec(function(t){o.getSystemInfo({success:function(a){e.setData({scrollHeight:a.windowHeight-t[0].height})}})}),this.renderStartButton()},methods:{renderStartButton:function(){var e=this;(0,y.checkPusher)().then(function(t){t.data.res&&e.setData({isPusher:!0})})},onTabChange:function(e){var t=e.detail.key;switch(o.showLoading({title:"请稍后",mask:!0}),t){case 0:this.queryLives();break;case 1:this.queryHistories()}},queryLives:function(){var e=this;this.setData(m({},"tabs[0].loading",!0)),(0,y.queryCurrentLives)({pageSize:999}).then(function(t){var a;o.hideLoading(),e.setData((a={},m(a,"tabs[0].liveList",t.data.data),m(a,"tabs[0].loading",!1),a))}).catch(function(t){e.setData(m({},"tabs[0].loading",!1)),o.hideLoading()})},queryHistories:function(){var e=this;this.setData(m({},"tabs[1].loading",!0)),(0,y.queryHistoryLives)({pageSize:999}).then(function(t){var a;o.hideLoading(),e.setData((a={},m(a,"tabs[1].liveList",t.data.data),m(a,"tabs[1].loading",!1),a))}).catch(function(t){o.hideLoading(),e.setData(m({},"tabs[1].loading",!1))})}}}),Page({})}),window.define("dist/minui/wxc-search/dist/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Component({properties:{placeholder:{type:String,value:"搜索"},isShow:{type:Boolean,value:!1},isShowSearchHistory:{type:Boolean,value:!0},isShowSearchKey:{type:Boolean,value:!1},searchKeys:{type:Array,value:[]},name:{type:String,value:"wxSearchHisKeys"},maxHeight:Number,focus:{type:Boolean,value:!1}},data:{searchHistories:[],value:""},ready:function(){this.init()},methods:{init:function(){var e=(this.data.barHeight,this);o.getSystemInfo({success:function(t){var a=t.windowHeight,n=a-48;e.setData({searchHeight:n,maxHeight:4*a/5})}}),this.getHisKeys()},getHisKeys:function(){var e=this.data.name,t=[];try{t=o.getStorageSync(e),console.log(t),t&&this.setData({searchHistories:t})}catch(e){}},hideSearch:function(){this.setData({isShow:!1}),this.triggerEvent("onsearchhide")},showSearch:function(){this.setData({isShow:!0}),this.triggerEvent("onsearchshow")},onSearchFocus:function(){var e=this.data.value;this.setData({showDel:e.trim().length>0}),0==e.trim().length&&this.showSearch()},onSearchChange:function(e){var t=e.detail.value;this.setData({value:t,showDel:t.trim().length>0}),0==t.trim().length&&this.showSearch()},clearSearch:function(){this.setData({focus:!0,value:"",showDel:!1,searchFocus:!0}),this.triggerEvent("clear")},onSearch:function(){var e=this.data.value;void 0!==e&&0!=e.trim().length&&(this._addHistory(),this.hideSearch(),this.triggerEvent("search",{value:e}))},onKeyTap:function(e){var t=e.currentTarget.dataset.key;this.setData({value:t,showDel:!0}),this.hideSearch(),this.triggerEvent("search",{value:t})},_addHistory:function(){var e=this,t=this.data,a=t.value,n=t.name;if(void 0!==a&&0!=a.length){var i=o.getStorageSync(n);i?(i.indexOf(a)<0&&i.unshift(a),o.setStorage({key:n,data:i,success:function(){e.getHisKeys()}})):(i=[],i.push(a),o.setStorage({key:n,data:i,success:function(){e.getHisKeys()}}))}},clearSearchHistories:function(){var e=this,t=this.data.name;o.removeStorage({key:t,success:function(t){e.setData({searchHistories:[]})}})}}}),Page({})}),window.define("pages/page/search/product-tab/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Component({properties:{keyword:{type:String,value:""},serverTime:{type:Number,observer:"handleSearch"},products:{type:Object},filters:{type:Object,value:{},observer:function(e){console.log(e,"newVal"),this.setData({newFilter:e}),this.reset()}}},data:{query:{},filter:!0,sort:"sales:descend",segements:[{key:"sales",title:"销量优先",checked:!0,order:"descend"},{key:"evaluateCount",title:"好评最高",order:"descend"},{key:"price",title:"价格",sort:!0,order:"ascend"}],isShowFilter:!1},ready:function(){var e=this,t=i().globalConfig;e.setData({isShowStoreName:t.isShowStoreName}),console.log(e.data.isShowStoreName,"isShowStoreName"),o.getSystemInfo({success:function(t){var a=o.createSelectorQuery();a.select("#search").boundingClientRect(),a.select("#tab").boundingClientRect(),a.exec(function(a){e.setData({scrollHeight:t.windowHeight-a[0].height-a[1].height-36})})}})},methods:{onSwitch:function(e){var t=e.currentTarget.dataset.index,a=this.data.segements,n=a.findIndex(function(e){return e.checked}),o=a[t];t==n?(o.sort&&(o.order="ascend"==o.order?"descend":"ascend"),a[t]=o):(a.forEach(function(e){e.checked=!1,e.sort&&(e.order=void 0)}),o.checked=!0,o.sort&&(o.order="ascend"),a[t]=o);var i=o.key,s=o.order;this.setData({sort:i+":"+s}),this.triggerEvent("onquery",{sort:this.data.sort,query:this.data.query}),this.setData({segements:a})},handleCheckBrand:function(e){var t=e.currentTarget.dataset.index,a=this.data.newFilter;a.brandList.childrenList[t].checked=!a.brandList.childrenList[t].checked,this.setData({newFilter:a})},handleCheckProperty:function(e){var t=e.currentTarget.dataset,a=t.index,n=t.idx,o=this.data.newFilter;o.propertyList[a].childrenList[n].checked=!o.propertyList[a].childrenList[n].checked,this.setData({newFilter:o})},handleSetPrice:function(e){var t=e.currentTarget.dataset.type,a=e.detail.value,n=this.data.newFilter;n[""+t]=a,this.setData({newFilter:n})},handleCheckCategory:function(e){var t=e.currentTarget.dataset.index,a=this.data.newFilter;a.categoryList[t].checked=!a.categoryList[t].checked,this.setData({newFilter:a})},handleSubmitFilter:function(){var e=this.data.newFilter;console.log(e,"newFilter");var t=e.minPrice,a=e.maxPrice,n=e.brandList.childrenList?e.brandList.childrenList.filter(function(e){return e.checked}).map(function(e){return e.propertyName}):[],o=e.categoryList.filter(function(e){return e.checked}).map(function(e){return e.id}),i=[];e.propertyList.forEach(function(e){var t={pid:e.id},a=[];e.childrenList.forEach(function(e){e.checked&&a.push(e.propertyName)}),t.propertyNames=a.join(","),i.push(t)});var s={};void 0!=t&&t.trim().length>0&&(s.minPrice=t.trim()),void 0!=a&&a.trim().length>0&&(s.maxPrice=a.trim(0)),n.length>0&&(console.log(n,"brandIds"),i.push({pid:e.brandList.id,propertyNames:n.join(",")})),o.length>0&&(s.catIds=o.join(",")),s.properties=i.filter(function(e){return e.propertyNames.length>0});var r=!1;(s.minPrice||s.maxPrice||s.brandIds&&s.brandIds.length>0||s.properties&&s.properties.length>0)&&(r=!0),this.setData({query:s,filterActive:r}),console.log(s,"query"),this.triggerEvent("onquery",{sort:this.data.sort,query:this.data.query}),this.setData({isShowFilter:!1})},handleSearch:function(){this.reset()},handleScrollBottom:function(){console.log("to bottom");var e=this.data.products;console.log(e.pageNo,e.pageTotal,"+++++++++++++++++"),e.pageNo<e.pageTotal&&(console.log("_______________________"),this.triggerEvent("onquery",{sort:this.data.sort,query:Object.assign({},this.data.query,{pageNo:e.pageNo+1})}))},handleResetFilter:function(){var e=this.data.newFilter;e.categoryList.forEach(function(e){return e.checked=!1}),e.brandList.childrenList&&e.brandList.childrenList.forEach(function(e){return e.checked=!1}),e.propertyList.forEach(function(e){e.childrenList.forEach(function(e){return e.checked=!1})}),this.setData({query:{},newFilter:Object.assign({},e,{minPrice:"",maxPrice:""})})},reset:function(){console.log("reset ?"),this.setData({query:{},filterActive:!1,sort:"sales:descend",segements:[{key:"sales",title:"销量优先",checked:!0,order:"descend"},{key:"evaluateCount",title:"好评最高",order:"descend"},{key:"price",title:"价格",sort:!0,order:"ascend"}]})},showFilterPop:function(){this.setData({isShowFilter:!0})},hideFilter:function(){this.setData({isShowFilter:!1})}}}),Page({})}),window.define("pages/page/search/store-tab/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Component({properties:{keyword:{type:String,value:""},serverTime:{type:Number,observer:"handleSearch"},stores:{type:Object}},data:{query:{},filter:!1,sort:"sales:descend",segements:[{key:"sales",title:"销量优先",checked:!0,order:"descend"},{key:"evaluateCount",title:"好评最高",order:"descend"},{key:"distance",title:"距离最近",order:"ascend"}]},ready:function(){var e=this;o.getSystemInfo({success:function(t){var a=o.createSelectorQuery();a.select("#search").boundingClientRect(),a.select("#tab").boundingClientRect(),a.exec(function(a){console.log(a),e.setData({scrollHeight:t.windowHeight-a[0].height-a[1].height-36})})}})},methods:{handleTabSwitch:function(e){var t=e.detail,a=t.key,n=t.order;this.setData({sort:a+":"+n}),this.triggerEvent("onquery",{sort:this.data.sort,query:this.data.query})},handleSearch:function(){this.reset()},handleScrollBottom:function(){console.log("to bottom");var e=this.data.stores;e.pageNo<e.pageTotal&&this.triggerEvent("onquery",{sort:this.data.sort,query:Object.assign({},this.data.query,{pageNo:e.pageNo+1})})},reset:function(){console.log("reset ?"),this.setData({query:{},filterActive:!1,sort:"sales:descend",segements:[{key:"sales",title:"销量优先",checked:!0,order:"descend"},{key:"evaluateCount",title:"好评最高",order:"descend"},{key:"distance",title:"距离最近",order:"ascend"}]})}}}),Page({})}),window.define("component/cart_popup/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var y=function(){function e(e,t){var a=[],n=!0,o=!1,i=void 0;try{for(var s,r=e[Symbol.iterator]();!(n=(s=r.next()).done)&&(a.push(s.value),!t||a.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&r.return&&r.return()}finally{if(o)throw i}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=e("../../network/api.js"),w=function(e){return e&&e.__esModule?e:{default:e}}(v);Component({properties:{type:{type:String,value:"haha",observer:function(e,t){}},propsCurrentGood:{type:Object,value:{},observer:function(e,t){this.setData({currentGood:e})}},detail:{type:Object,value:{}}},data:{showDialog:!1,addImage:"http://imgcdnali.wfenxiao.com.cn/xcx/c/plus1.png"},methods:{getCurrentGoodBuyMessage:function(e){return e?e.quantity<=0?"暂无库存":e.maxBuy>0&&e.quantity<=e.maxBuy?"剩余库存小于最小购买量":e.minBuy>0&&e.maxBuy>0?"至少购买"+e.minBuy+"件，最多购买"+e.maxBuy+"件":e.minBuy>0?"至少购买"+e.minBuy+"件":e.maxBuy>0?"最多购买"+e.maxBuy+"件":"":""},toggleDialog:function(){console.log("toggleDialog===>",this.data.showDialog),this.setData({showDialog:!this.data.showDialog})},handleSelectSpec:function(e){var t,a=this,n=e.target.dataset,o=n.specindex,i=n.specvalueindex,s=this.data.currentGood,r=s.specs[o],d=r.values[i];if(!d.disabled&&!d.selected){s.specs[o].values.forEach(function(e,t){a.setData(m({},"currentGood.specs["+o+"].values["+t+"].selected",!1))}),this.setData((t={},m(t,"currentGood.selectedSpec["+o+"]",r.itemId+":"+d.itemValueId),m(t,"currentGood.specs["+o+"].values["+i+"].selected",!0),t));var u="";s.selectedSpec.forEach(function(e){if(e){var t=e.split(":"),a=y(t,2),n=a[0],o=a[1],i=s.specs.find(function(e){return e.itemId==n}).values.find(function(e){return e.itemValueId==o}).itemValue;u+=i+" "}}),this.setData({"currentGood.selectedSpecValue":u});var c=s.skus.findIndex(function(e){return e.propertiesValue==s.selectedSpec.join(";")});-1!=c&&(s.skus.forEach(function(e,t){a.setData(m({},"currentGood.skus["+t+"].selected",!1))}),this.setData({"currentGood.selectedSku":s.skus[c],"currentGood.num":this.setQuantity(s.skus[c].minBuy,s.skus[c].maxBuy,s.skus[c].quantity,s.num),"currentGood.buyMessage":this.getCurrentGoodBuyMessage(s.skus[c])})),s.specs.forEach(function(e,t){e.values.forEach(function(n,o){var i=Array.from(s.selectedSpec);i.splice(t,1,e.itemId+":"+n.itemValueId);var r=s.skus.find(function(e){return e.propertiesValue==i.join(";")});a.setData(m({},"currentGood.specs["+t+"].values["+o+"].disabled",r&&r.quantity<=0||r&&r.maxBuy>0&&r.quantity<r.maxBuy?1:0))})}),console.log("currentGood---------\x3e",this.data.currentGood)}},setQuantity:function(e,t,a,n){return n>=e&&n<=a&&(t>0&&n<=t||0==t)?n:e>a||t>0&&e>t?0:e>0&&n<=e?e:t>0&&n>t?t>a?a:t:1},handleQuantityPlus:function(e){console.log(e,this.data);var t=this.data.currentGood;t.skus&&t.skus.length>0?t.selectedSku&&t.selectedSku.quantity>t.num&&(t.selectedSku.maxBuy?(t.selectedSku.maxBuy>t.selectedSku.quantity?t.selectedSku.quantity:t.selectedSku.maxBuy)>t.num&&this.setData({"currentGood.num":t.num+1}):this.setData({"currentGood.num":t.num+1})):t.stock>t.num&&this.setData({"currentGood.num":t.num+1})},handleQuantityMinus:function(){this.data.currentGood.num<2||this.data.currentGood.num<(this.data.currentGood.selectedSku&&this.data.currentGood.selectedSku.minBuy?this.data.currentGood.selectedSku.minBuy:2)||this.setData({"currentGood.num":this.data.currentGood.num-1})},handleAddToCart:function(){var e=this,t=this.data.currentGood;return o.showLoading({title:"请稍后",mask:!0}),w.default.addToCart({goodsId:t.id,propertiesId:t.selectedSku.propertiesId,quantity:t.num||1}).then(function(t){console.log("--------res------",t),o.hideLoading(),0==t.status?(o.showToast({title:"加入购物车成功！",icon:"none",duration:1e3}),e.triggerEvent("addToCartSuccess",{}),e.toggleDialog()):o.showToast({title:"网络连接错误！",icon:"none",duration:1e3})}).catch(function(e){console.log("err---\x3e",e),o.showToast({title:e.data&&e.data.msg?e.data.msg:"网络连接错误！",icon:"none",duration:1e3}),o.hideLoading()})},handleCreateTuan:function(){var e=this.data.currentGood;this.triggerEvent("createTuan",e)}}}),Page({})}),window.define("pages/pingjia/component/evaluatecontent/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var v=e("../../../../network/api.js"),w=m(v),x=e("../../../../behaviors/toast.js"),b=m(x);Component({behaviors:[b.default],properties:{evaluateData:{type:Object,value:{}},sType:{type:Number}},data:{},methods:{handleReleaseBtn:function(e){var t=this,a=e.currentTarget.dataset,n=a.index,i=a.item,s=i.id,r=i.orderNo,d=i.type,u=i.anonymous,c=i.secondEvaluateContent,l=i.sType,p=[];p=""==c&&4!=l&&5!=l&&7!=l?0==u?["发表追评","设置匿名"]:["发表追评","取消匿名"]:0==u?["设置匿名"]:["取消匿名"],o.showActionSheet({itemList:p,success:function(e){0==e.tapIndex&&""==c&&4!=l&&5!=l&&7!=l?o.navigateTo({url:"/pages/pingjia/evaluateform/index?orderNo="+r+"&type="+d+"&id="+s}):w.default.querySetAnonymous({id:s,anonymous:0==u?1:0}).then(function(e){var a;o.hideLoading(),t.setData((a={},y(a,"evaluateData.data["+n+"].anonymous",e.data.anonymous),y(a,"evaluateData.data["+n+"].nickName",e.data.nickName),a)),t.showToast(0==u?"设置匿名成功":"取消匿名成功")}).catch(function(e){console.log(e),o.hideLoading(),t.showToast(0==u?"设置匿名失败":"取消匿名失败")})},fail:function(e){console.log(e.errMsg)}}),this.setData({})},onTapPic:function(e){var t=e.currentTarget.dataset.type;o.previewImage({current:e.currentTarget.dataset.link,urls:"first"==t?this.data.evaluateData.data[e.currentTarget.dataset.index].firstEvaluateImgs:this.data.evaluateData.data[e.currentTarget.dataset.index].secondEvaluateImgs})}}}),Page({})}),window.define("pages/pingjia/component/evaluateitems/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Component({properties:{pingjiaArray:{type:Array,value:[]},cType:{type:Number,value:0},homePage:{type:Boolean,value:!1}},data:{currentType:0},attached:function(){var e=this.data.cType;this.setData({currentType:-1==e?0:e})},methods:{onEvaluateItem:function(e){var t=e.currentTarget.dataset.index,a=0==t?-1:1==t?1:2==t?2:3==t?3:4;this.setData({currentType:t,evaluate:a}),this.triggerEvent("onquery",{currentType:this.data.currentType,evaluate:this.data.evaluate})}}}),Page({})}),window.define("pages/cutprice/components/help-modal/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Component({properties:{},data:{list:["1.邀请好友一起砍价，无论是否砍到指定价格都可以购买商品；","2.对于同一个砍价，您只能帮助砍价一次；","3.每次砍价金额随机，参与好友越多越容易成功；","4.您每天最多可以帮助3个好友砍价；","5.砍价完成以后需尽快支付，逾期失效；"]},methods:{show:function(){var e=this.selectComponent("#modal");e&&e.show()},hide:function(){var e=this.selectComponent("#modal");e&&e.hide()}}}),Page({})}),window.define("pages/cutprice/components/cut-modal-self/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Component({properties:{currCutPrice:{type:Number,value:0}},data:{},methods:{show:function(){var e=this.selectComponent("#modal");e&&e.show()},hide:function(){var e=this.selectComponent("#modal");e&&e.hide()}}}),Page({})}),window.define("pages/cutprice/components/cut-modal-friend/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Component({properties:{cutPrice:{type:Object,value:{}}},data:{},methods:{show:function(){var e=this.selectComponent("#modal");e&&e.show()},hide:function(){var e=this.selectComponent("#modal");e&&e.hide()},handleCutPrice:function(){this.triggerEvent("cutprice",{},{}),this.hide()}}}),Page({})}),window.define("pages/shop/components/store_header/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../../../../network/api"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({properties:{shopId:{type:String,value:""},storeDetail:{type:Object,value:{}}},data:{},attached:function(){console.error("header--attached====="),this.getStoreDetail()},methods:{getStoreDetail:function(){var e=this;o.showLoading({title:"请稍后",mask:!0}),y.default.getStoreDetail({id:this.data.shopId}).then(function(t){o.hideLoading(),e.setData({storeDetail:t.data}),e.triggerEvent("setStoreDetail",{store:t.data})})},jumpstoredetail:function(e){var t=e.currentTarget.dataset.id,a=e.currentTarget.dataset.openevaluate;o.navigateTo({url:"/pages/shop/desc/desc?id="+t+"&openevaluate="+a})},collectionOn:function(){var e=this,t=this.data.storeDetail;t.hasCollection?y.default.unfollowStore({storeId:t.id}).then(function(t){t&&0==t.status&&t.data.result&&e.setData({"storeDetail.hasCollection":!1})}):y.default.followStore({storeId:t.id}).then(function(t){t&&0==t.status&&t.data.result&&e.setData({"storeDetail.hasCollection":!0})})}}}),Page({})}),window.define("pages/shop/components/cart/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../../../../network/api.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({properties:{shopId:{type:String,value:""},numTotal:{type:String,value:""},priceTotal:{type:String,value:""},selectFullMoney:{type:String,value:""},action:{type:String,value:"store"},diningTableNo:{type:String,value:""},cyType:{type:String,value:""},minSendFeeDifference:{type:Number,value:""},minSendFee:{type:Number,value:""}},data:{},ready:function(){console.log(this.data,"data")},attached:function(){this.queryCartInfo()},methods:{queryCartInfo:function(){var e=this;this.data.shopId&&y.default.queryCartStatics({storeId:this.data.shopId}).then(function(t){e.setData({numTotal:t.data.cartNum,priceTotal:t.data.cartGoodsTotal,showTip:!0,selectFullMoney:t.data.fullMoney,minSendFeeDifference:t.data.minSendFeeDifference,minSendFee:t.data.minSendFee}),e.triggerEvent("changesendfee",{data:t.data})}).catch(function(){e.setData({cart:{cartNum:20,cartGoodsTotal:200}})})},handleCheckout:function(){console.log("this.data.shopId----\x3e",this.data.shopId);var e=o.getStorageSync("userinfo");if(!e||!e.mobile)return void o.navigateTo({url:"/pages/login/login"});"checkout"==this.data.action?this.triggerEvent("checkout",{}):o.navigateTo({url:"/pages/shop/carts/index?storeId="+this.data.shopId+"&diningTableNo="+this.data.diningTableNo+"&cyType="+this.data.cyType})}}}),Page({})}),window.define("dist/minui/wxc-loadmore/dist/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var m=e("./config");a.default=Component({behaviors:[],properties:{text:{type:String,value:""},isEnd:{type:Boolean,value:!1},icon:{type:String}},data:{type:m.TYPES[Math.floor(Math.random()*m.TYPES.length)],iconStatus:m.IconType.HIDDEN,iconType:m.IconType},attached:function(){var e=m.IconType.HIDDEN,t=this.data.icon;t&&(e=m.IconType.SHOW_DEFAULT),/\.(jpg|gif|jpeg|png)+$/.test(t)&&(e=m.IconType.SHOW_CONFIG),this.setData({iconStatus:e})},methods:{}}),Page({})}),window.define("pages/shop/components/store_mall/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var y=e("../../../../network/api"),v=function(e){return e&&e.__esModule?e:{default:e}}(y);Component({properties:{shopId:{type:String,value:""},category:{type:Object,value:{id:-1,name:""}}},data:{shopMall:{sort:"saleNum",mode:"grid",shop:{},products:{data:[],nextCursor:1},loading:!0,loadmore:!1,category:{id:-1,name:""}},currentGood:{},type:"111",propName2:"va000",propObj:{},isShow:!1,toastText:""},attached:function(){this.setData(m({},"shopMall.category",this.data.shopMall.category||{})),this.queryMallProducts({shopId:this.data.shopId},!0)},methods:{setStoreDetail:function(e){this.setData({store:e.store}),this.triggerEvent("setStoreDetail",{store:e.store})},setQueryCategory:function(e){this.setData(m({},"shopMall.category",e||{})),o.showLoading({title:"请稍候",mask:!0}),this.queryMallProducts({shopId:this.data.shopId},!0),o.hideLoading()},testqueryMallProducts:function(e){this.queryMallProducts({shopId:this.data.shopId},!0)},queryMallProducts:function(e,t){var a=this;this.setData({"shopMall.loading":!0});var n=this.data.shopMall,i=n.sort,s=n.order,r=n.category,d=e.shopId,u=e.pageNo,c=void 0===u?1:u,l=this.data.shopMall.products;v.default.queryStoreGoodsList({storeId:d,pageNo:c,pageSize:10,sort:"price"==i?i+":"+s:i,categoryId:r.id}).then(function(e){o.hideLoading(),t&&(l.data=[]);var n=void 0;e&&e.data&&e.data.data&&e.data.data.length>0&&l.pageNo!=e.data.nextCursor&&(n=l.data.concat(e.data.data)),a.setData({"shopMall.loadmore":!1,"shopMall.products":e.data,"shopMall.products.data":n,"shopMall.loading":!1})}).catch(function(e){console.log(e),o.hideLoading(),a.setData({"shopMall.loadmore":!1})})},handleSwitchSort:function(e){var t=e.target.dataset.sort,a=this.data.shopMall.sort;"price"!=t&&t==a||("price"==t?t==a?this.setData({"shopMall.order":"asc"==this.data.shopMall.order?"desc":"asc"}):(console.log(t),this.setData({"shopMall.sort":t,"shopMall.order":"asc"})):this.setData({"shopMall.sort":t}),o.showLoading({title:"请稍后",mask:!0}),this.queryMallProducts({shopId:this.data.shopId,sort:this.data.shopMall.sort,order:this.data.shopMall.order},!0))},handleToggleMode:function(e){var t=e.target.dataset.mode;this.setData({"shopMall.mode":t})},bindmallsearch:function(){console.log(this.data.shopId),o.navigateTo({url:"/pages/shop/search/search?storeid="+this.data.shopId})},onReachMallBottom:function(){this.data.shopMall.products.nextCursor>0&&!this.data.shopMall.loadmore&&(this.setData({"shopMall.loadmore":!0}),this.queryMallProducts({shopId:this.data.shopId,pageNo:this.data.shopMall.products.nextCursor,pageSize:10}))},onMallScroll:function(e){this.setData({"shopMall.fixHeader":e.detail.scrollTop>156})},handleClassify:function(){var e=this.data.shopMall.category;o.navigateTo({url:"/pages/shop/classify/index?storeid="+this.data.shopId+"&categoryId="+e.id})},addToCart:function(e){var t=this,a=this,n=e.target.dataset.good;this.setData({currentGood:n}),o.showLoading({title:"请稍后",mask:!0}),v.default.queryGoodSku({goodsId:n.id}).then(function(e){if(o.hideLoading(),0==e.status){var i=e.data;if(i&&i.specs&&i.specs.length>0){t.setData({"currentGood.num":0,"currentGood.specs":i.specs,"currentGood.skus":i.skus,"currentGood.selectedSpec":new Array(i.specs.length)}),a.toggleDialog(),1==i.specs.length&&i.specs.forEach(function(e,a){var n=e.itemId;e.values.forEach(function(e,o){var s=n+":"+e.itemValueId;i.skus.find(function(e){return e.propertiesValue==s}).quantity<=0&&t.setData(m({},"currentGood.specs["+a+"].values["+o+"].disabled",!0))})}),t.setData({type:"555"}),console.log("pagecurrentGood==>",t.data.currentGood);var s=t.data,r=s.propName2,d=s.propObj;t.setData({propName2:r+"a","propObj.name":d.name+"bbb"})}else n.stock<=0?o.showToast({title:"该商品库存不足！",duration:1e3}):v.default.addToCart({goodsId:n.id,quantity:1}).then(function(e){o.hideLoading(),0==e.status?(o.showToast({title:"加入购物车成功！",duration:1e3}),a.queryCartInfo(t.data.shopId)):o.showToast({title:"网络连接错误！",duration:1e3})}).catch(function(e){console.log("err---\x3e",e),o.showToast({title:e.data&&e.data.msg?e.data.msg:"网络连接错误！",duration:1e3}),o.hideLoading()})}}).catch(function(e){o.hideLoading(),console.log(e)})},handleAddToCartSuccess:function(){this.queryCartInfo()},queryCartInfo:function(){var e=this.selectComponent("#cart");e&&e.queryCartInfo()},goodDetail:function(e){var t=e.currentTarget.dataset.id;o.navigateTo({url:"/pages/products/show/show?id="+t+"&&isFromShop=true"})},toggleDialog:function(){var e=this.selectComponent("#cartpop");e&&e.toggleDialog()},showToast:function(e){var t=this;t.setData({isShow:!0,toastText:e}),setTimeout(function(){t.setData({isShow:!1,toastText:""})},1e3)}}}),Page({})}),window.define("pages/mine/component/cutprice/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Component({properties:{item:{type:Object,value:{}}},data:{numStyle:"width: 40rpx; height:35rpx; font-size: 20rpx; color: #ffffff; background: #000; text-align: center; border-radius: 8rpx; padding: 5rpx 0;",symbolStyle:"font-size: 20rpx; color: #000; padding: 0 6rpx;",format:"hh:mm:ss"},methods:{onEndCount:function(){this.triggerEvent("timeover",{})},toPayOrder:function(e){this.triggerEvent("orderpaied",{item:e.currentTarget.dataset.item})},orderDetail:function(e){this.triggerEvent("orderdetail",{orderId:e.currentTarget.dataset.id,type:e.currentTarget.dataset.type})}}}),Page({})}),window.define("dist/minui/wxc-counter/dist/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=Component({behaviors:[],properties:{number:{type:[Number,String],value:0,observer:function(e){this.setData({number:parseInt(e,10)})}},max:{type:[Number,String],value:1,observer:function(e){this.setData({max:parseInt(e,10)})}},min:{type:[Number,String],value:0,observer:function(e){this.setData({min:parseInt(e,10)})}},disabled:{type:Boolean,value:!1},color:{type:String,value:"#ff5777"}},data:{},attached:function(){},methods:{addHandler:function(e){var t=this.data.min,a=this.data.max,n=this.data.disabled;a<=this.data.number||n||(this.setData({number:++this.data.number}),this.triggerEvent("changenumber",{e:e,number:this.data.number,min:t,max:a,type:"add"}))},minusHandler:function(e){var t=this.data.min,a=this.data.max,n=this.data.disabled;t>=this.data.number||n||(this.setData({number:--this.data.number}),this.triggerEvent("changenumber",{e:e,number:this.data.number,min:t,max:a,type:"minus"}))}}}),Page({})}),window.define("pages/services/components/service_spec_dialog/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var y=function(){function e(e,t){var a=[],n=!0,o=!1,i=void 0;try{for(var s,r=e[Symbol.iterator]();!(n=(s=r.next()).done)&&(a.push(s.value),!t||a.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&r.return&&r.return()}finally{if(o)throw i}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Component({properties:{show:{type:Boolean,value:!1},service:{type:Object,value:{}}},data:{},methods:{hideDialog:function(){this.triggerEvent("hidedialog",{service:this.data.service},{})},handleSelectSpec:function(e){var t,a=this,n=e.target.dataset,o=n.specindex,i=n.specvalueindex,s=this.data.service,r=s.specs[o],d=r.values[i];if(!d.disabled&&!d.selected){s.specs[o].values.forEach(function(e,t){a.setData(m({},"service.specs["+o+"].values["+t+"].selected",!1))}),this.setData((t={},m(t,"service.selectedSpec["+o+"]",r.itemId+":"+d.itemValueId),m(t,"service.specs["+o+"].values["+i+"].selected",!0),t));var u="";s.selectedSpec.forEach(function(e){var t=e.split(":"),a=y(t,2),n=a[0],o=a[1],i=s.specs.find(function(e){return e.itemId==n}).values.find(function(e){return e.itemValueId==o}).itemValue;u+=i+" "}),this.setData({"service.selectedSpecValue":u}),this.triggerEvent("updateSelectedSpecValue",{selectedSpecValue:u},{});var c=s.skus.findIndex(function(e){return a.trimEnd(e.properties,";")==s.selectedSpec.join(";")});-1!=c&&(s.skus.forEach(function(e,t){a.setData(m({},"service.skus["+t+"].selected",!1))}),this.setData({"service.selectedSku":s.skus[c]}),this.triggerEvent("updateSelectedSku",{selectedSku:s.skus[c]},{})),s.specs.forEach(function(e,t){e.values.forEach(function(n,o){var i,r=Array.from(s.selectedSpec);r.splice(t,1,e.itemId+":"+n.itemValueId);var d=s.skus.find(function(e){return e.propertiesValue==r.join(";")});a.setData((i={},m(i,"service.specs["+t+"].values["+o+"].disabled",d&&d.quantity<=0?1:0),m(i,"service.num",1),i))})})}},handleAddToCart:function(e){this.triggerEvent("createorder",{service:this.data.service},{})},trimEnd:function(e,t){if(null==t||""==t){for(var a=/\/s/,n=e.length;a.test(e.charAt(--n)););return e.slice(0,n+1)}for(var o=new RegExp(t),i=e.length;o.test(e.charAt(--i)););return e.slice(0,i+1)}}}),Page({})}),window.define("pages/services/components/service_arrivedtime_dialog/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../../../../behaviors/toptips.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{show:{type:Boolean,value:!1},dateList:{type:Array,value:[],observer:"initDateTimes"}},data:{days:[],times:[],currentIndex:0,timeIndex:-1,tempCurrentIndex:0,tempTimeIndex:-1},methods:{initDateTimes:function(){var e=this.data.dateList.map(function(e){return{remainNum:e.remainNum,text:e.weekDay,available:e.available,day:e.month+"-"+e.day}}),t=this.data.dateList.map(function(e){return e.timeData});this.setData({days:e,times:t})},handleClickDay:function(e){var t=0,a=this.data.dateList,n=e.currentTarget.dataset.index;for(var o in a[n].timeData)if(1==a[n].timeData[o].available){t=o;break}this.setData({tempCurrentIndex:n,tempTimeIndex:t})},handleClickTime:function(e){if(!e.currentTarget.dataset.disabled){var t=e.currentTarget.dataset.index;this.setData({tempTimeIndex:t})}},handleUpdateDateTime:function(){var e=this.data,t=e.tempCurrentIndex,a=e.tempTimeIndex,n=t,o=a;if(-1==o)return void console.log("请先选择时间");var i=this.data.dateList,s={arrivedYear:i[n].year,arrivedMonth:i[n].month,arrivedDay:i[n].day,arrivedTime:i[n].timeData[o].time,arrivedWeek:i[n].weekDay};this.triggerEvent("ok",{arrivedDate:s},{})},hideDialog:function(){this.triggerEvent("hide",{},{})}}}),Page({})}),window.define("pages/services/components/service_customer_form/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var v=e("../../../../network/api"),w=function(e){return e&&e.__esModule?e:{default:e}}(v);Component({properties:{form:{type:Array,value:[],observer:"updateForm"},textareaObj:{type:Object,value:{},observer:"updateTextAreaObj"}},data:{focus:!1,imgUrl:[],formData:[]},ready:function(){},methods:{updateForm:function(e,t){if(t&&!(t.length>0)){console.log("updateForm--------------",e,t);var a=e.map(function(e){switch(e.type){case"text":case"textarea":return{label:e.label,value:""};case"radio":case"checkbox":case"upload":return{label:e.label,value:[]}}});this.setData({formData:a})}},updateTextAreaObj:function(e,t){if(e){var a=(this.data.formData,e.value),n=e.index;console.log("newVal",e),console.log("---this.data",this.data,a),this.setData(y({},"formData["+n+"].value",a)),console.log("this.data---",this.data)}},handleRadioClick:function(e){var t=e.target.dataset,a=t.value,n=t.index,o=t.optionindex;console.log("index=",n,o);var i=this.data,s=(i.formData,i.form);this.setData(y({},"formData["+n+"].value",[a]));var r=!s[n].options[o].checked,d=s[n].options.map(function(e){return e.value===a?e.checked=r:e.checked=!1,e});this.setData(y({},"form["+n+"].options",d)),console.log("this.data",this.data)},handleCheckboxClick:function(e){console.log(e);var t=e.target.dataset,a=t.value,n=t.index,o=t.optionindex,i=this.data,s=i.formData,r=i.form;this.setData(y({},"formData["+n+"].value",[].concat(m(s[n].value),[a])));var d=!r[n].options[o].checked;this.setData(y({},"form["+n+"].options["+o+"].checked",d)),console.log("this.data",this.data)},handleChooseImg:function(e){console.log("e---",e);var t=e.currentTarget.dataset.index,a=this;o.chooseImage({count:1,success:function(e){var n=e.tempFilePaths;w.default.uploadImage(n[0]).then(function(e){var n=a.data.formData;console.log("formData---",n,t);var o=n[t].value;o.push(e.url),a.setData(y({},"formData["+t+"].value",o))}).catch(function(e){console.log("chooseimage",e)})}})},handleRemoveImg:function(e){var t=e.currentTarget.dataset,a=t.index,n=t.imgindex,o=this.data.formData,i=o[a].value;i.splice(n,1),this.setData(y({},"formData["+a+"].value",i))},jumpTextarea:function(e){var t=e.currentTarget.dataset.index,a=this.data.form[t],n=this.data.formData[t].value;i().setFlash("service_textarea_data",{data:a,index:t,value:n}),o.navigateTo({url:"/pages/services/service_textarea/index"})},validate:function(){var e=this.data,t=e.form,a=e.formData;console.log("---form---formData",t,a);for(var n=[],o=0;o<t.length;o++){if(console.log("i==",o),t[o].require&&this.isEmpty(a[o].value)){"radio"===t[o].type||"checkbox"===t[o].typ?n.push("请选择"+t[o].label):n.push("请输入"+t[o].label);break}"text"==t[o].type&&"none"!==t[o].validate&&("email"!=t[o].validate||this.validateEmail(a[o].value)||n.push("请输入正确的"+t[o].label),"idcard"!=t[o].validate||this.validateIDCard(a[o].value)||n.push("请输入正确的"+t[o].label),"phone"!=t[o].validate||this.validatePhone(a[o].value)||n.push("请输入正确的"+t[o].label))}return n},validateIDCard:function(e){var t=/^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/;return this.isEmpty(e)||t.test(e)},validatePhone:function(e){var t=/^1[0-9]{10}$/;return this.isEmpty(e)||t.test(e)},validateEmail:function(e){var t=/^(?:[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;return this.isEmpty(e)||t.test(e)},isEmpty:function(e){if(null==e)return!0;if(Array.isArray(e)||"string"==typeof e||"function"==typeof e.splice||isBuffer(e)||isTypedArray(e)||isArguments(e))return!e.length;var t=getTag(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(isPrototype(e))return!Object.keys(e).length;for(var a in e)if(hasOwnProperty.call(e,a))return!1;return!0},handleFocus:function(){this.setData({focus:!0})},handleBlur:function(){this.setData({focus:!1})},handleNameChange:function(e){var t=e.currentTarget.dataset.index,a=e.detail.value;this.setData(y({},"formData["+t+"].value",a))},getBookerInfo:function(){var e=this.data,t=e.form,a=e.formData;return t.map(function(e,t){return{label:e.label,type:e.type,value:a[t].value}})},getCellPhone:function(){for(var e=this.data,t=e.form,a=e.formData,n="",o=0;o<t.length;o++)if("phone"===t[o].validate){n=a[o].value||"";break}return n}}}),Page({})}),window.define("pages/services/components/service_order_project/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Component({properties:{serviceList:{type:Array,value:[]},appointmentPeople:{type:String,value:""}},data:{},methods:{}}),Page({})}),window.define("pages/services/components/service_store_address/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Component({properties:{store:{type:Object,value:{}}},data:{},methods:{makePhone:function(e){console.log(e.target.dataset),this.triggerEvent("handlephone",{data:e.target.dataset.phone})}}}),Page({})}),window.define("pages/services/components/service_order_list_action/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}var y=e("../../../../network/api"),v=m(y),w=e("../../../../behaviors/toast.js"),x=m(w);Component({behaviors:[x.default],properties:{actionList:{type:Array,value:[]},orderid:{type:String,value:""},showType:{type:String,value:"list"},orderType:{type:Number,value:0},orderNo:{type:String,value:""}},data:{isPaying:!1},methods:{cancelOrder:function(e){var t=this,a=e.currentTarget.dataset.id;console.log("that===111",t),o.showModal({title:"提示",content:2==this.data.orderType?"您已支付预约金额，确认商家已退还您所支付的金额了吗？":3==this.data.orderType?"您已支付订金，取消后订金将不予以退还，确定要取消该优质服务吗？":"确定要取消该优质服务吗？",cancelText:"点错了",confirmText:"确认",success:function(e){var n=this;e.confirm&&(o.showLoading({title:"请稍候"}),v.default.seviceCancelOrder({id:a}).then(function(){o.hideLoading(),console.log("that---111",t),t.triggerEvent("ordercanceled",{})}).catch(function(e){o.hideLoading(),n.showToast(v.default.errors(e.error)||"取消订单失败")}))}})},toCancelOrder:function(e){var t=this,a=e.currentTarget.dataset.id;console.log("that===111",t),o.showModal({title:"提示",content:"确定要取消该优质服务吗？",cancelText:"点错了",confirmText:"确认",success:function(e){var n=this;e.confirm&&(o.showLoading({title:"请稍候"}),v.default.cancelBook({id:a}).then(function(){o.hideLoading(),console.log("that---111",t),t.triggerEvent("ordercanceled",{})}).catch(function(e){o.hideLoading(),n.showToast(v.default.errors(e.error)||"取消订单失败")}))}})},toPayOrder:function(e){var t=this,a=this;if(!a.data.isPaying){a.setData({isPaying:!0});var n=e.currentTarget.dataset.id;o.showLoading({title:"请稍候"}),v.default.seviceToPay({orderId:n}).then(function(e){o.hideLoading(),0==e.status&&e.data&&e.data.nonceStr&&o.requestPayment({timeStamp:e.data.timeStamp+"",nonceStr:e.data.nonceStr,package:e.data.package,signType:"MD5",paySign:e.data.paySign,success:function(){a.triggerEvent("orderpaied",{}),a.setData({isPaying:!1})},fail:function(){a.setData({isPaying:!1})}})}).catch(function(e){a.setData({isPaying:!1}),o.hideLoading(),console.log("------that---111----",e),t.showToast(v.default.errors(e.error)||"调起支付失败")})}},toTailPayOrder:function(e){var t=this,a=this;if(!a.data.isPaying){a.setData({isPaying:!0});var n=e.currentTarget.dataset.id;o.showLoading({title:"请稍候"}),v.default.seviceTailPay({orderId:n}).then(function(e){o.hideLoading(),0==e.status&&e.data&&e.data.nonceStr&&o.requestPayment({timeStamp:e.data.timeStamp+"",nonceStr:e.data.nonceStr,package:e.data.package,signType:"MD5",paySign:e.data.paySign,success:function(){a.triggerEvent("ordertailpaied",{}),a.setData({isPaying:!1})},fail:function(){a.setData({isPaying:!1})}})}).catch(function(e){a.setData({isPaying:!1}),o.hideLoading(),console.log("------that---111----",e),t.showToast(v.default.errors(e.error)||"调起支付失败")})}}}}),Page({})}),window.define("dist/minui/wxc-tab/dist/label",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var m=e("./Event"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);a.default=Component({behaviors:[],properties:{tabIndex:Number,componentId:{type:String,value:""}},data:{activeKey:0,width:0},attached:function(){var e=this,t=this.data.componentId;y.default.emit("tab-create-"+t,{key:this.data.tabIndex}),y.default.on("to-label-switch-"+t,function(t){e.setData({activeKey:t})}),y.default.on("label-width-"+t,function(t){e.setData({width:t})})},moved:function(){y.default.removeListener()},methods:{onSwitch:function(){y.default.emit("from-label-switch-"+this.data.componentId,this.data.tabIndex)}}}),Page({})}),window.define("pages/orders/components/order_refund_action/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Component({properties:{actionList:{type:Array,value:[]},orderid:{type:String,value:""},refundId:{type:String,value:""}},data:{},methods:{}}),Page({})}),window.define("pages/food/components/food_order/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}var y=e("../../../../network/api"),v=m(y),w=e("../../../../behaviors/toast.js"),x=m(w);Component({behaviors:[x.default],properties:{item:{type:Object,value:{}},index:{type:Number}},data:{orderstatus:{0:"全部",10:"待付款",20:"已关闭",30:"待核销",70:"已完成"},isPaying:!1,numStyle:"color: #f00000;",format:"mm分ss秒"},methods:{toPayOrder:function(e){var t=this;console.log("123112233");var a=this,n=e.currentTarget.dataset.id;o.showLoading({title:"请稍候"}),v.default.cyOrderPay({orderNo:n}).then(function(e){o.hideLoading(),0==e.status&&e.data&&e.data.nonceStr&&o.requestPayment({timeStamp:e.data.timeStamp+"",nonceStr:e.data.nonceStr,package:e.data.package,signType:"MD5",paySign:e.data.paySign,success:function(){a.triggerEvent("orderpaied",{})},fail:function(){}})}).catch(function(e){a.setData({isPaying:!1}),o.hideLoading(),console.log("------that---111----",e),t.showToast(v.default.errors(e.error)||"调起支付失败")})},onEndCount:function(){this.triggerEvent("timeover",{index:this.data.index})}}})}),window.define("pages/hotel/components/hotel-tab/segements/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=Component({properties:{textColor:{type:String,value:"#000"},activeTextColor:{type:String,value:"red"},segements:{type:Array,value:[],observer:"init"},filter:{type:Boolean,value:!0},filterActive:{type:Boolean,value:!1}},data:{},attached:function(){},ready:function(){this.init()},detached:function(){},methods:{init:function(){var e=this.data.segements;e.forEach(function(e){if(e.options&&e.options.length>0){var t=e.options.find(function(e){return e.checked});e.title=t?t.title:""}}),this.setData({segements:e})},onSwitch:function(e){var t=e.currentTarget.dataset.index,a=this.data.segements,n=t,o=a[t];if(o.checked=!0,o.sort&&(o.order="ascend"),o.options){var i=this.selectComponent(".Options_Pop");this.setData({currentOptions:o.options}),i&&i.show()}o.sort&&(o.order="ascend"==o.order?"descend":"ascend"),this.triggerEvent("switch",o),this.setData({segements:a,currentIndex:n})},onOptionChecked:function(e){var t=this.data,a=t.segements,n=t.currentIndex,o=e.currentTarget.dataset.index;a[n].options.forEach(function(e,t){e.checked=t==o});var i=a[n].options.find(function(e){return e.checked});a[n].title=i?i.title:"",this.setData({segements:a}),console.log("=========onOptionChecked=========",i),this.triggerEvent("optionchange",i)},showFilterPop:function(e){var t=this.selectComponent(".Filter_Pop");t&&t.show(),this.triggerEvent("onpopshow",{},{composed:!0,bubbles:!0})},hideFilterPop:function(e){var t=this.selectComponent(".Filter_Pop");t&&t.hide(),this.triggerEvent("onpophide",{},{composed:!0,bubbles:!0})}}}),Page({})}),window.define("pages/hotel/components/hotel-tab/hotel_tab/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}var y=e("../../../../../utils/util.js"),v=m(y),w=e("../../../../../utils/const.js"),x=m(w),b=e("../../../../../utils/notification.js"),D=m(b),S=e("../../../../../network/api"),C=m(S),T={filter:!0,filterActive:!1,segements:[{key:"time",value:["","",""],checked:!1},{key:"options",options:[{key:1,title:"推荐排序",checked:!0},{key:1,title:"好评优先"},{key:1,title:"距离最近"}]}],filters:[{key:"brandIds",type:"radio",title:"品牌(单选)",options:[]},{key:"price",type:"radio",title:"价格",options:[{key:"0",title:"不限"},{key:"1",title:"￥150以下"},{key:"2",title:"￥150 ~ ￥300"},{key:"3",title:"￥301 ~ ￥450"},{key:"4",title:"￥451 ~ ￥600"},{key:"5",title:"￥600以上"}]}]};Component({properties:{serverTime:{type:Number,observer:"reload"},intime:{type:Object,value:{}}},data:Object.assign({},JSON.parse(JSON.stringify(T)),{query:{}}),attached:function(){this.registerNotification()},ready:function(){this.init()},detached:function(){console.log("===========tab组件detached============"),D.default.remove(x.default.action.HOTEL_DATE_CHANGED)},methods:{reload:function(e){this.setData(Object.assign({},JSON.parse(JSON.stringify(T))))},init:function(){var e=this.data.intime;e&&e.endDate>0?this.setData({startDate:e.startDate,endDate:e.endDate,"segements[0].value":[e.inTime_data,e.leaveTime_data,e.statistics_data+"晚"],"segements[0].checked":!1,inTime_data:e.inTime_data,leaveTime_data:e.leaveTime_data,statistics_data:e.statistics_data}):this.setData({"segements[0].value":[v.default.getDateStr(0),v.default.getDateStr(1),"1晚"]}),this.getBrands()},registerNotification:function(){var e=this;D.default.register(x.default.action.HOTEL_DATE_CHANGED,this,function(t){var a=e;console.log("接收酒店时间变化的通知----搜索tab-------settings.action.HOTEL_DATE_CHANGED====",t.data),a.setData({startDate:t.data.startDate,endDate:t.data.endDate,"segements[0].value":[v.default.timestampToTime(t.data.startDate),v.default.timestampToTime(t.data.endDate),(t.data.endDate-t.data.startDate)/864e5+"晚"],"segements[0].checked":!0,statistics_data:(t.data.endDate-t.data.startDate)/864e5,inTime_data:v.default.timestampToTime(t.data.startDate),leaveTime_data:v.default.timestampToTime(t.data.endDate)},function(){a.triggerEvent("changetime",a.data)})})},getBrands:function(){var e=this;C.default.queryHotelBrandList({}).then(function(t){var a=[];console.log("res.data--\x3e",t.data);for(var n in t.data)a.push({key:t.data[n].id,title:t.data[n].brandName});console.log("brands--\x3e",a),e.setData({"filters[0].options":a})}).catch(function(e){o.hideLoading(),console.log(e)})},handleChangeTime:function(){var e=this.data,t=e.startDate,a=e.endDate;t>0&&a>0?o.navigateTo({url:"/pages/hotel/checkdate/index?startDate="+t+"&endDate="+a}):t>0?o.navigateTo({url:"/pages/hotel/checkdate/index?startDate="+t}):a>0?o.navigateTo({url:"/pages/hotel/checkdate/index?endDate="+a}):o.navigateTo({url:"/pages/hotel/checkdate/index"})},handleTabSwitch:function(e){console.log("handleTabSwitch",e);var t=this.data.query;switch(e.detail.key){case"time":this.handleChangeTime();break;case"options":t=Object.assign({},t,{sort:"好评优先"==e.detail.title?"evaluateScore:descend":"距离最近"==e.detail.title?"distance:descend":""}),this.setData({"segements[1].options":e.detail.options,"segements[1].title":e.detail.title,"segements[1].checked":e.detail.checked})}},handleOptionChange:function(e){console.log("handleOptionChange",e);var t=Object.assign({},t,{sort:"好评优先"==e.detail.title?"evaluateScore:descend":"距离最近"==e.detail.title?"distance:ascend":""});this.triggerEvent("query",t)},handleFilter:function(e){console.log("handleFilter",e);var t=e.detail,a=this.selectComponent(".Segements");a&&a.hideFilterPop();var n={};t.forEach(function(e){var t=e.options.filter(function(e){return e.checked}).map(function(e){return e.key});t.length>0&&(n[e.key]=t.join(","))}),console.log("handleFilter---query--\x3e",n);var o=Object.assign({},this.data.query,{brandIds:n.brandIds||0,price:n.price||0});this.setData({query:o,filterActive:Object.keys(o).length>0}),this.triggerEvent("query",o)}}}),Page({})}),window.define("pages/hotel/components/order_item/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Component({properties:{item:{type:Object,value:{},observer:function(e,t){clearInterval(this.timer),this._init()}},hide:{type:Boolean,value:!1,observer:function(e,t){!0===e&&clearInterval(this.timer)}}},data:{remainTime:0,bookInTime:"",bookOutTime:"",pay:!1,cancel:!1,evaluate:!1,orderStatusName:""},ready:function(){},detached:function(){10===this.data.item.status&&clearInterval(this.timer)},methods:{_init:function(){var e=this.data.item.bookInTime,t=this.data.item.bookOutTime,a=this.data.item.actionList;if(this.setData({bookInTime:e.substring(5,7)+"月"+e.substring(8,10)+"日",bookOutTime:t.substring(5,7)+"月"+t.substring(8,10)+"日",pay:-1!==a.indexOf("pay"),cancel:-1!==a.indexOf("cancel"),evaluate:-1!==a.indexOf("evaluate"),orderStatusName:this.data.item.orderStatusName}),10===this.data.item.status){var n=this.data.item.remainTime;n>0&&(this.setData({remainTime:n-1}),this._countDown())}},_countDown:function(){var e=this;this.timer=setInterval(function(){var t=e.data.remainTime;t>1?e.setData({remainTime:t-1}):(e.setData({orderStatusName:"已取消",pay:!1}),e.triggerEvent("removedata",e.data.item.id),clearInterval(e.timer))},1e3)},_gotoDetails:function(){o.navigateTo({url:"/pages/hotel/order_detail/index?id="+this.data.item.id})},_gotoEvaluate:function(){o.navigateTo({url:"/pages/pingjia/evaluateform/index?type=3&orderNo="+this.data.item.orderNo})},_payOrder:function(){this.triggerEvent("payorder",{orderNo:this.data.item.orderNo,id:this.data.item.id})},_cancelOrder:function(){this.triggerEvent("cancelorder",{id:this.data.item.id})}}}),Page({})}),window.define("pages/hotel/components/date_picker/calendar",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Component({behaviors:[],relations:{index:{type:"parent"}},properties:{year:Number,month:Number,limitDays:Number,isEndMonth:Boolean},data:{},methods:{isDate:function(e){return null!=e&&void 0!=e&&new Date(e).getDate()==e.substring(e.length-2)},isLeapYear:function(e){return e%400==0||e%4==0&&e%100!=0},calDaysInMonth:function(e,t,a){var n=this.isLeapYear(e),o=new Date,i=o.getDate();return console.log("day-----------\x3e",i,a,t),1==t&&n?a&&i<=29?i-1:29:1!=t||n?[3,5,8,10].includes(t)?a&&i<=30?i-1:30:a&&i<=31?i-1:31:a&&i<=28?i-1:28},calDays:function(e,t,a,n,o,i){var s=void 0,r=[],d=new Date,u=new Date(d.getFullYear(),d.getMonth(),d.getDate()).getTime(),c=this.calDaysInMonth(e,t,i);n&&(s=n+24*(a-1)*3600*1e3);for(var l=0;l<c;l++){var p=new Date(e,t,l+1).getTime(),h=!1,g=!1,f="";n?(h=p>=u&&p<=s,f=n==p?"入住":f,o?(f=o==p?"离店":f,g=p>=n&&p<=o):g=p==n):h=p>=u;var m={value:l+1,valid:h,tip:f,selected:g,chooseResult:""};r.push(m)}return r},handleSelectDate:function(e){var t=e.currentTarget.dataset.day,a=this.data,n=a.year,o=a.month;console.log(n,o,t),this.triggerEvent("clickday",{year:n,month:o,day:t},{bubbles:!0,composed:!0})},render:function(e,t){var a=this.data,n=a.year,o=a.month,i=a.limitDays,s=a.isEndMonth,r=new Date(n,o),d=(r.getUTCDay()+1)%7,u=this.calDays(n,o,i,e,t,s),c=(7-(u.length+d)%7)%7;this.setData({emptyGrids:d,days:u,emptyAfter:c})}}}),Page({})}),window.define("pages/hotel/components/date_picker/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";e("../../../../utils/util");Component({properties:{startDate:{type:Number,value:0},endDate:{type:Number,value:0}},relations:{calendar:{type:"child",linked:function(e){var t=this.data,a=t.startDate,n=t.endDate;e.render(a,n)}}},data:{},attached:function(){},ready:function(){},methods:{handleSelectDay:function(e){var t=e.detail,a=t.year,n=t.month,o=t.day,i=new Date(a,n,o).getTime(),s=this.data,r=s.startDate,d=s.endDate;d?(r=i,d=0):r&&i>r?d=i:r=i,this.setData({startDate:r,endDate:d}),this.getRelationNodes("calendar").forEach(function(e){return e.render(r,d)}),r>0&&d>0&&this.triggerEvent("onsubmit",{startDate:r,endDate:d})}}}),Page({})}),window.define("pages/live/components/live-pusher/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../../../../network/api.js");Component({properties:{live:{type:Object}},data:{showStart:!0,status:void 0,beauty:0,whiteness:0,camera:0,showCount:!1,countDown:3,showCover:!1,fullscreen:!1,paused:!1},ready:function(){this.liveCtx=o.createLivePusherContext("livePusher",this)},detached:function(){o.setKeepScreenOn({keepScreenOn:!1}),this.tick&&(clearInterval(this.tick),this.tick=void 0)},methods:{statechange:function(e){var t=this,a=this.data.live,n=this;switch(e.detail.code){case 1002:(0,m.startPush)({id:a.id}).then(function(){t.setData({"live.status":2,showCount:!1}),n.triggerEvent("onpushstart")}),o.setKeepScreenOn({keepScreenOn:!0});break;case-1307:this.showTips("直播服务器连接失败，请稍后重试"),o.setKeepScreenOn({keepScreenOn:!1})}},showTips:function(e){this.setData({showStart:!0,showTips:!0,tips:e})},handleStopPush:function(){var e=this.data.live,t=this;2==e.status&&o.showModal({title:"提示",content:"确定要结束直播活动吗？",success:function(a){a.confirm&&(t.liveCtx.stop(),(0,m.stopPush)({id:e.id}).then(function(){t.setData({"live.status":3})}),o.setKeepScreenOn({keepScreenOn:!1}),t.setData({showStart:!1,showTips:!0,tips:"直播已结束"}),t.triggerEvent("onpushstop"))}})},handleToggleCamera:function(){var e=this.data.camera;this.setData({camera:0==e?1:0}),this.liveCtx.switchCamera()},handleStart:function(){var e=this.data,t=e.live,a=e.paused,n=this;1==t.status?(this.setData({showCount:!0,showCover:!0,showStart:!1,showTips:!1}),this.countDown()):2==t.status&&(a?this.liveCtx.resume({success:function(){n.setData({paused:!1,showCover:!1,showStart:!1,showTips:!1})}}):(this.setData({showCount:!0,showCover:!0,showStart:!1,showTips:!1}),this.countDown()))},countDown:function(){var e=this;e.setData({showAnim:!0}),this.tick=setInterval(function(){var t=e.data.countDown;t-=1,e.setData({countDown:t}),0==t&&(clearInterval(e.tick),e.liveCtx.start())},1e3)},handleToggleFullscreen:function(){var e=this.data.fullscreen;this.setData({fullscreen:!e})},handlePause:function(){var e=this;this.liveCtx.pause({success:function(){e.setData({paused:!0,showCover:!0,showStart:!0,showTips:!1})}})}}}),Page({})}),window.define("pages/live/components/live-player/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Component({properties:{liveData:{type:Object,observer:"renderLive"}},data:{showTips:!0,showControls:!1,fullScreen:!1,state:"waiting"},ready:function(){var e=o.createAnimation({duration:1e3,timingFunction:"ease"});this.animation=e,this.liveCtx=o.createLivePlayerContext("livePlayer",this)},detached:function(){this.clearTick(),o.setKeepScreenOn({keepScreenOn:!1})},methods:{renderLive:function(e,t){var a=Object.assign({},e);t||(a.tip=1==a.status?"直播尚未开始，请耐心等待":"直播进行中"),this.setData({live:a})},statechange:function(e){var t=e.detail.code;switch(console.log(t),t){case 2001:this.setData({state:"pending",showTips:!0,"live.tip":"连接服务器成功"});break;case 2002:this.setData({"live.tip":"加载直播内容"});break;case 2007:this.setData({"live.tip":"启动播放器"});break;case 2004:this.setData({state:"playing","live.tip":"开始播放直播内容"});break;case 2008:this.setData({"live.tip":"启动解码器"});break;case 2003:this.setData({showTips:!1}),this.triggerEvent("onlivestart"),o.setKeepScreenOn({keepScreenOn:!0});break;case 2006:this.setData({state:"pause"});break;case 3005:this.setData({"live.tip":"获取视频流失败"});break;case 2103:this.setData({"live.tip":"正在重试连接"});break;case-2301:this.setData({state:"error",showTips:!0,"live.tip":"直播开小差去啦，请稍后重试"}),this.triggerEvent("onliveerror")}},error:function(e){console.error("live-player error:",e.detail.errMsg)},startLive:function(){if(2==this.data.live.status){var e=this;this.clearTick(),this.setData({state:"pending","live.tip":"连接到直播服务器"}),this.liveCtx.play(),this.tick=setTimeout(function(){e.hideControls()},3e3)}},stopLive:function(){this.triggerEvent("onlivestop"),this.clearTick(),this.setData({state:"waiting",showTips:!0}),this.liveCtx.stop(),o.setKeepScreenOn({keepScreenOn:!1})},toggleFullScreen:function(){this.clearTick();var e=this,t=this.data,a=t.fullScreen,n=t.live;a?(this.liveCtx.exitFullScreen(),e.setData({fullScreen:!1})):(this.liveCtx.requestFullScreen({direction:0==n.screenType?90:0}),e.setData({fullScreen:!0})),this.tick=setTimeout(function(){e.hideControls()},3e3)},handleTapPlayer:function(){this.data.showControls?this.hideControls():this.showControls(!0)},showControls:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;this.clearTick(),this.animation.opacity(1).step(),this.setData({showControls:!0,animationData:this.animation.export()}),e&&(t.tick=setTimeout(function(){t.hideControls()},3e3))},hideControls:function(){this.animation.opacity(0).step(),this.setData({showControls:!1,animationData:this.animation.export()})},clearTick:function(){this.tick&&clearTimeout(this.tick)}}}),Page({})}),window.define("pages/live/components/live-video/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Component({properties:{srcs:{type:Array,value:[]},direction:{type:Number,value:1}},data:{showTips:!0,currentIndex:0},ready:function(){this.videoCtx=o.createVideoContext("myVideo",this)},detached:function(){o.setKeepScreenOn({keepScreenOn:!1})},methods:{playVideo:function(){var e=this;this.setData({autoplay:!0,currentIndex:0,showTips:!1},function(){e.videoCtx.play(),o.setKeepScreenOn({keepScreenOn:!0})})},handlePlay:function(){var e=this.data;e.currentIndex==e.srcs.length-1?this.setData({autoplay:!1}):this.setData({autoplay:!0}),this.triggerEvent("onplayvideo")},handleEnd:function(){console.log("on end");var e=this.data,t=e.srcs,a=e.currentIndex,n=this,i=a+1;t[i]?n.setData({currentIndex:i}):(this.setData({showTips:!0}),o.setKeepScreenOn({keepScreenOn:!1}))}}}),Page({})}),window.define("pages/car/components/project_tab/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m={filter:!1,filterActive:!1,segements:[{key:"price",title:"价格",sort:!0,order:"ascend"},{key:"options",options:[{key:1,title:"推荐排序",checked:!0},{key:1,title:"销量最高"},{key:1,title:"距离最近"},{key:1,title:"评分最高"}]}]};Component({properties:{serverTime:{type:Number,observer:"reload"}},data:Object.assign({},JSON.parse(JSON.stringify(m)),{query:{}}),methods:{reload:function(){this.setData(Object.assign({},JSON.parse(JSON.stringify(m))))},handleTabSwitch:function(e){console.log("handleTabSwitch",e);var t=this.data.query;switch(e.detail.key){case"price":t=Object.assign({},t,{sort:"price:"+e.detail.order}),this.triggerEvent("query",t);break;case"options":this.setData({"segements[1].options":e.detail.options,"segements[1].title":e.detail.title,"segements[1].checked":e.detail.checked})}},handleOptionChange:function(e){console.log("handleOptionChange",e);var t=this.data.query;t=Object.assign({},t,{sort:"评分最高"==e.detail.title?"evaluateScore:descend":"距离最近"==e.detail.title?"distance:ascend":"销量最高"==e.detail.title?"orderNum:descend":""}),this.triggerEvent("query",t)}}}),Page({})}),window.define("pages/car/components/order_item/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Component({properties:{item:{type:Object,value:{},observer:function(){clearInterval(this.timer),this._init()}},hide:{type:Boolean,value:!1,observer:function(e){!0===e&&clearInterval(this.timer)}}},data:{pay:!1,cancel:!1,evaluate:!1,orderStatusName:""},ready:function(){},detached:function(){10===this.data.item.status&&clearInterval(this.timer)},methods:{_init:function(){var e=this.data.item,t=e.actionList,a=e.status;this.setData({orderStatusName:10==a?"待付款":30==a?"待使用":40==a?"待评价":20==a?"已关闭":"",createdTime:this.data.item.createdTime?this.data.item.createdTime.split(" ")[0]:"",pay:-1!==t.indexOf("pay"),cancel:-1!==t.indexOf("cancel"),evaluate:-1!==t.indexOf("evaluate"),view:-1!==t.indexOf("view")})},_gotoDetails:function(){o.navigateTo({url:"/pages/car/projectorderdetail/index?id="+this.data.item.id})},_gotoEvaluate:function(){o.navigateTo({url:"/pages/pingjia/evaluateform/index?type=7&orderNo="+this.data.item.orderNo})},_payOrder:function(){this.triggerEvent("payorder",{orderNo:this.data.item.orderNo,id:this.data.item.id,carNo:this.data.item.carNo})},_cancelOrder:function(){this.triggerEvent("cancelorder",{id:this.data.item.id})}}}),Page({})}),window.define("pages/edu/components/title_layout/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../../../../network/api.js");Component({properties:{course:{type:Object,value:{}}},data:{},methods:{handleCollect:function(){var e=this,t=this.data.course,a=t.id,n=t.isFavorite,i=n?(0,m.cancelMarkCourse)({id:a}):(0,m.markCourse)({id:a});o.showLoading({title:"请稍候"}),i.then(function(t){o.hideLoading(),t&&t.data&&t.data.result&&e.setData({"course.isFavorite":!n})}).catch(function(){return o.hideLoading()})}}}),Page({})}),window.define("pages/edu/components/imgtext/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Component({properties:{course:{type:Object,value:{}}},data:{},methods:{}}),Page({})}),window.define("pages/edu/components/video/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Component({properties:{course:{type:Object,value:{}}},data:{mobile:""},ready:function(){this.videoContext=o.createVideoContext("myVideo",this),console.log("注册videoContext")},methods:{handlePlay:function(){console.log("---播放---"),this.triggerEvent("keepon",{},{})},handleEnded:function(){console.log("---停止---"),this.triggerEvent("keepoff",{},{})},handleError:function(e){console.log("---video.err--",e),this.triggerEvent("keepoff",{},{})},handlePause:function(){console.log("---暂停---")},validate:function(){console.log("校验");var e=o.getStorageSync("userinfo");this.setData({mobile:e.mobile}),e.mobile?this.videoContext.play():this.triggerEvent("showmodal",{},{})},buyCourse:function(){this.triggerEvent("buycourse",{},{})}}}),Page({})}),window.define("pages/edu/components/waves/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Component({externalClasses:["my-class"],properties:{play:{type:Boolean,value:!1}},data:{},methods:{}}),Page({})}),window.define("pages/edu/components/bgaudio/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Component({properties:{course:{type:Object,value:{}}},data:{play:!1,current:0,percent:0,left:0,inited:!1,duration:0},ready:function(){var e=this;o.getSystemInfo({success:function(t){e.setData({screenWidth:t.windowWidth})}}),this.innerAudioContext=o.getBackgroundAudioManager(),console.log("ready.innerAudioContext",this.innerAudioContext);var t=this.data.course,a=t.file,n=t.sampleFile;this.innerAudioContext.src!=a&&this.innerAudioContext.src!=n||(console.log("设置 是否播放 进度"),this.setData({play:!this.innerAudioContext.paused,duration:this.innerAudioContext.duration||0}),this.init(),this.innerAudioContext.paused&&this.onTimeUpdate())},methods:{init:function(){var e=this;this.innerAudioContext.onPlay(function(){return e.onPlay()}),this.innerAudioContext.onPause(function(){return e.onPause()}),this.innerAudioContext.onStop(function(){return e.onStop()}),this.innerAudioContext.onEnded(function(){return e.onEnded()}),this.innerAudioContext.onError(function(t){return e.onError(t)}),this.innerAudioContext.onTimeUpdate(function(){return e.onTimeUpdate()})},px2rpx:function(e){var t=this.data.screenWidth,a=750*e/t;return console.log("px:"+e+",rpx:"+a),a},play:function(){if(this.data.inited)this.innerAudioContext.play();else{var e=this.data.course,t=e.isPayed,a=e.file,n=e.sampleFile,o=e.name,i=e.coverUrl,s="";s=0==t?n:a,this.innerAudioContext.src=s,this.innerAudioContext.title=o,this.innerAudioContext.coverImgUrl=i,this.init(),this.setData({inited:!0})}},tooglePlay:function(){console.log("tooglePlay",this.data.play),this.data.play?this.innerAudioContext.pause():this.validate()},handleProgressChange:function(e){if(this.innerAudioContext.src){var t=e.changedTouches[0].pageX,a=Math.max(Math.min(this.px2rpx(t),623),33),n=a-33,o=100*n/590,i=this.innerAudioContext.duration*o*.01;this.setData({left:n,percent:o,current:i}),this.innerAudioContext.seek(i)}},onPlay:function(){console.log("---音频开始播放---"),this.setData({play:!0})},onPause:function(){console.log("---音频暂停播放---"),this.setData({play:!1})},onStop:function(){console.log("---停止播放---")},onEnded:function(){console.log("---播放结束---"),this.setData({play:!1,current:this.innerAudioContext.duration,percent:100,left:590})},onError:function(e){console.log("audio-err",e),this.triggerEvent("showtoast",e,{})},onWaiting:function(){console.log("缓冲中")},onCanplay:function(){console.log("缓冲完毕")},onTimeUpdate:function(){var e=this.innerAudioContext.currentTime;this.data.duration||this.setData({duration:this.innerAudioContext.duration});var t=100*e/this.innerAudioContext.duration,a=parseInt(.01*t*590);this.setData({current:e,percent:t,left:a})},validate:function(){console.log("校验");var e=o.getStorageSync("userinfo");console.log("---user.info",e),this.setData({mobile:e.mobile}),e.mobile?this.play():this.triggerEvent("showmodal",{},{})},buyCourse:function(){this.triggerEvent("buycourse",{},{})}}}),Page({})}),window.define("pages/edu/components/specialcolumn/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var v=e("../../../../network/api"),w=m(v),x=e("../../../../behaviors/toast.js"),b=m(x);Component({behaviors:[b.default],properties:{course:{type:Object,value:{}}},data:{eduColumnTabs:[{title:"详情"},{title:"目录"}],tabType:{eduType:{type:"detail",key:0}},eduColumn:[],scrollTop:0,loadmore:!1,loading:!0,query:{pageSize:10,pageNo:1,sort:"joinTime:descend"},sortimgStr:"down"},methods:{onTabChange:function(e){if(console.log(e,"--------------columnChange----"),"eduColumnTabs"==e.detail.componentId&&this.data.tabType.eduType.key!==e.detail.key){if(0==e.detail.key)this.setData(y({},"tabType.eduType.key",e.detail.key));else{var t=Object.assign({},this.data.query,{columnId:this.data.course.id});this.setData(y({query:t},"tabType.eduType.key",e.detail.key)),this.getEdus(t,!0,!0)}var a={showDetail:0==e.detail.key};this.triggerEvent("showdetail",a)}},getEdus:function(e,t,a){var n=this;a&&(o.showLoading({title:"请稍候"}),this.setData({loading:!0})),w.default.columnCourseList(e).then(function(e){console.log("res+++++++++++++columnCourseList++",e),o.hideLoading(),n.setData({eduColumn:t?e.data.data:n.data.eduColumn.concat(e.data.data),loadmore:e.data.nextCursor>0,loadingmore:!1,loading:!1,query:Object.assign({},n.data.query,{pageNo:e.data.nextCursor,pageSize:e.data.pageSize}),total:e.data.total})}).catch(function(e){o.hideLoading(),console.log(e,"err")})},lower:function(){if(console.log(this.data.loadmore,!this.data.loadingmore,"+++++++++colmum++++++++"),this.data.loadmore){if(this.data.loadingmore)return;this.setData({loadingmore:!0}),this.getEdus(this.data.query,!1,!1)}},onSortColumn:function(){var e=this.data.query.sort,t="descend"==e.split(":")[1]?"ascend":"descend",a="descend"==e.split(":")[1]?"up":"down",n=Object.assign({},this.data.query,{sort:"joinTime:"+t});this.setData({query:n,sortimgStr:a}),this.getEdus(n,!0,!0)}}}),Page({})}),window.define("behaviors/toast",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";t.exports={properties:{title:{type:String},timeout:{type:Number}},methods:{showToast:function(e,t){var a=this,n=this.data.toast||{};clearTimeout(n.timer),n={show:!0,title:e},this.setData({toast:n});var o=setTimeout(function(){a.clearToast()},t||2e3);this.setData({"toast.timer":o})},clearToast:function(){var e=this.data.toast||{};clearTimeout(e.timer),this.setData({"toast.show":!1})}}}}),window.define("behaviors/toptips",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";t.exports=Behavior({behaviors:[],properties:{title:{type:String},timeout:{type:Number}},data:{myBehaviorData:{}},onLoad:function(){},attached:function(){},methods:{showZanTopTips:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.data.zanTopTips||{};n.timer&&(clearTimeout(n.timer),n.timer=void 0),"number"==typeof a&&(a={duration:a}),a=Object.assign({duration:3e3},a);var o=setTimeout(function(){e.setData({"zanTopTips.show":!1,"zanTopTips.timer":void 0})},a.duration);this.setData({zanTopTips:{show:!0,content:t,options:a,timer:o}})}}})}),window.define("component/about/about",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var m=e("../../network/api"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);a.default={data:{},onLoad:function(){o.showLoading({title:"请稍后"}),this.queryAbout()},makephone:function(e){var t=e.currentTarget.dataset.phone,a=t.telephone,n=t.cellphone,i=t.extNum,s=[];a&&(i?s.push(a+"转"+i):s.push(a)),n&&s.push(n),o.showActionSheet({itemList:s,success:function(e){console.log(e,"oooooooooooooo"),void 0!=e.tapIndex&&o.makePhoneCall({phoneNumber:s[e.tapIndex].replace("-","").split("转")[0]})}})},makemap:function(){o.navigateTo({url:"/modules/map/index"})},onTapImg:function(e){o.previewImage({current:e.currentTarget.dataset.link,urls:this.data.about.images})},queryAbout:function(){var e=this,t={sign:"about"};y.default.getIndexMenu(t).then(function(t){o.hideLoading(),e.setData({about:t.data.options})}).catch(function(e){return console.log(e)})}}}),window.define("component/brandlist/brandlist",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var m=e("../../network/api"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);a.default={onLoad:function(e){o.showLoading({title:"请稍后"}),this.queryBrandList(this.data.query,!0)},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},queryBrandList:function(e,t){var a=this;y.default.getBrandListByLocation(e).then(function(e){console.log(e,"++++"),o.hideLoading(),a.setData({list:t?e.data.data:a.data.list.concat(e.data.data),isShow:!0,loadmore:e.data.nextCursor>0,loadingmore:!1,query:{pageNo:e.data.nextCursor,pageSize:e.data.pageSize}}),console.log(e,"++++++++++++")}).catch(function(e){return console.log(e)})},makeproduct:function(e){console.log(e.currentTarget.dataset.item);var t=e.currentTarget.dataset.item;i().setFlash("brand",t),o.navigateTo({url:"/pages/storelist/storelist"})},lower:function(e){console.log(this.data.loadmore,!this.data.loadingmore,"+++++++++++++++++"),this.data.loadmore&&!this.data.loadingmore&&(console.log(e),this.setData({loadingmore:!0}),this.queryBrandList(this.data.query,!1))}}}),window.define("component/car_popup/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Component({properties:{showDialog:{type:Boolean,value:!1},modalData:{type:Object,value:{}}},data:{checkedIds:{}},attached:function(){},methods:{closeDialog:function(){this.triggerEvent("showmodal")},checkService:function(e){var t,a=e.currentTarget.dataset.id,n=e.currentTarget.dataset.itemid,o=null,i=null;this.data.modalData.skulist.map(function(e){e.properties==n+":"+a&&(o=e.price,i=e.originalPrice)}),this.setData((t={checkedIds:{id:a,itemId:n}},m(t,"modalData.price",o),m(t,"modalData.originalprice",i),t))},toPay:function(){var e=this.data,t=e.modalData,a=e.checkedIds,n=t.itemlist,i=t.skulist,s=t.id,r=null;i.map(function(e){e.properties==a.itemId+":"+a.id&&(r=e.id)}),n&&n[0].itemValue.length&&!a.id||o.navigateTo({url:"/pages/car/proordercreate/index?id="+s+"&skuId="+r})}}}),Page({})}),window.define("component/carousel/carousel",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={carousel:{indicatorDots:!0,autoplay:!0,interval:3e3,duration:1e3,height:150,imgUrls:[]}}}),window.define("component/cartpop/index.filter",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={maxin:function(){return"sss"}}}),window.define("component/cartpop/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var y=function(){function e(e,t){var a=[],n=!0,o=!1,i=void 0;try{for(var s,r=e[Symbol.iterator]();!(n=(s=r.next()).done)&&(a.push(s.value),!t||a.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&r.return&&r.return()}finally{if(o)throw i}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=e("../../network/api.js"),w=function(e){return e&&e.__esModule?e:{default:e}}(v);Component({properties:{type:{type:String,value:"haha",observer:function(e,t){}},propsCurrentGood:{type:Object,value:{},observer:function(e,t){this.setData({currentGood:e});var a=(this.data.detail,e);console.error("observer--\x3e",a),a.skus&&a.skus.length>0&&a.selectedSku&&a.num<a.selectedSku.quantity&&(a.num<a.selectedSku.maxBuy>0&&a.num<a.selectedSku.maxBuy||!a.selectedSku.maxBuy)?this.setData({addImage:"http://imgcdnali.wfenxiao.com.cn/xcx/c/plus1.png"}):this.setData({addImage:"http://imgcdnali.wfenxiao.com.cn/xcx/c/plus-disable.png"}),console.log("addImage",this.data.addImage)}},detail:{type:Object,value:{}}},data:{showDialog:!1,addImage:"http://imgcdnali.wfenxiao.com.cn/xcx/c/plus1.png",toast:{show:!1,title:""}},methods:{getCurrentGoodBuyMessage:function(e){return e?e.quantity<=0?"暂无库存":e.maxBuy>0&&e.quantity<=e.maxBuy?"剩余库存小于最小购买量":e.minBuy>0&&e.maxBuy>0?"至少购买"+e.minBuy+"件，最多购买"+e.maxBuy+"件":e.minBuy>0?"至少购买"+e.minBuy+"件":e.maxBuy>0?"最多购买"+e.maxBuy+"件":"":""},toggleDialog:function(){console.log("toggleDialog===>",this.data.showDialog),this.setData({showDialog:!this.data.showDialog})},handleSelectSpec:function(e){var t,a=this,n=e.target.dataset,o=n.specindex,i=n.specvalueindex,s=this.data.currentGood,r=s.specs[o],d=r.values[i];if(!d.disabled&&!d.selected){s.specs[o].values.forEach(function(e,t){a.setData(m({},"currentGood.specs["+o+"].values["+t+"].selected",!1))}),this.setData((t={},m(t,"currentGood.selectedSpec["+o+"]",r.itemId+":"+d.itemValueId),m(t,"currentGood.specs["+o+"].values["+i+"].selected",!0),t));var u="";s.selectedSpec.forEach(function(e){if(e){var t=e.split(":"),a=y(t,2),n=a[0],o=a[1],i=s.specs.find(function(e){return e.itemId==n}).values.find(function(e){return e.itemValueId==o}).itemValue;u+=i+" "}}),this.setData({"currentGood.selectedSpecValue":u});var c=s.skus.findIndex(function(e){return e.propertiesValue==s.selectedSpec.join(";")});-1!=c&&(s.skus.forEach(function(e,t){a.setData(m({},"currentGood.skus["+t+"].selected",!1))}),this.setData({"currentGood.selectedSku":s.skus[c],"currentGood.num":this.setQuantity(s.skus[c].minBuy,s.skus[c].maxBuy,s.skus[c].quantity,s.num),"currentGood.buyMessage":this.getCurrentGoodBuyMessage(s.skus[c])})),s.specs.forEach(function(e,t){e.values.forEach(function(n,o){var i=Array.from(s.selectedSpec);i.splice(t,1,e.itemId+":"+n.itemValueId);var r=s.skus.find(function(e){return e.propertiesValue==i.join(";")});a.setData(m({},"currentGood.specs["+t+"].values["+o+"].disabled",r&&r.quantity<=0||r&&r.maxBuy>0&&r.quantity<r.maxBuy?1:0))})}),console.log("currentGood---------\x3e",this.data.currentGood)}},setQuantity:function(e,t,a,n){return n>=e&&n<=a&&(t>0&&n<=t||0==t)?n:e>a||t>0&&e>t?0:e>0&&n<=e?e:t>0&&n>t?t>a?a:t:1},handleQuantityPlus:function(e){console.log(e,this.data);var t=this.data.currentGood;t.skus&&t.skus.length>0?t.selectedSku&&t.selectedSku.quantity>t.num&&(t.selectedSku.maxBuy?(t.selectedSku.maxBuy>t.selectedSku.quantity?t.selectedSku.quantity:t.selectedSku.maxBuy)>t.num&&this.setData({"currentGood.num":t.num+1}):this.setData({"currentGood.num":t.num+1})):t.stock>t.num&&this.setData({"currentGood.num":t.num+1})},handleQuantityMinus:function(){this.data.currentGood.num<2||this.data.currentGood.num<(this.data.currentGood.selectedSku&&this.data.currentGood.selectedSku.minBuy?this.data.currentGood.selectedSku.minBuy:2)||this.setData({"currentGood.num":this.data.currentGood.num-1})},handleAddToCart:function(){var e=this,t=this.data.currentGood;return o.showLoading({title:"请稍后",mask:!0}),w.default.addToCart({goodsId:t.id,propertiesId:t.selectedSku.propertiesId,quantity:t.num||1}).then(function(t){console.log("--------res------",t),o.hideLoading(),0==t.status?(e.showToast("加入购物车成功！"),e.triggerEvent("addToCartSuccess",{}),e.toggleDialog()):e.showToast("网络连接错误！")}).catch(function(t){console.log("err---\x3e",t),e.showToast(t.data&&t.data.msg?t.data.msg:"网络连接错误！"),o.hideLoading()})},handleCreateTuan:function(){var e=this.data.currentGood;this.triggerEvent("createTuan",e)}}}),Page({})}),window.define("component/fenxiao/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var y=e("../../network/api"),v=m(y),w=e("../../utils/es6-promise.min"),x=m(w),b=e("../../utils/const.js"),D=m(b),S=e("../../utils/notification"),C=m(S),T=e("../../dist/index"),_=e("../../utils/wxParse/wxParse.js");a.default={data:{},onLoad:function(e){var t=this;this.setData({from:e.from||"line",channelCode:e.channelCode||"",shareCode:e.shareCode||""}),o.showLoading({title:"请稍后"});var a=this;C.default.register(D.default.action.BIND_PHONE_SUCCESS,this,function(e){console.log("--------BIND_PHONE_SUCCESS--------",e);var n=o.getStorageSync("userinfo");t.setData({userinfo:n}),a.init()})},onShow:function(){var e=o.getStorageSync("userinfo");this.setData({userinfo:e})},init:function(){this.queryDistribute().then(function(){o.hideLoading()}).catch(function(e){console.log(e),o.hideLoading()})},queryDistribute:function(){var e=this,t=this.data.channelCode,a=this;return v.default.getRecruitmentDistribute({channelCode:t}).then(function(t){o.hideLoading();var n=t.data;return e.setData({config:n}),n&&n.isOpen&&n.isDist?a.saleCenter():n&&n.isOpen&&n.isRecruit&&!n.isDist?a.getRecruitmentInfo():x.default.reject()})},saleCenter:function(){var e=this;return v.default.saleCenter().then(function(t){return o.hideLoading(),e.setData({userdata:t.data}),o.setStorageSync("userinfo",t.data),i().globalData.userinfo=t.data,console.log("----saleCenter--userInfo---------",t.data),t.data})},getRecruitmentInfo:function(){var e=this;return v.default.getRecruitmentInfo().then(function(t){return console.log(t),o.hideLoading(),e.setData({detail:t.data}),_.wxParse("content","html",t.data.content?t.data.content:"暂无",e,5),t.data})},showZanToast:function(e,t){T.Toast.showZanToast.call(this,e,t)},clearZanToast:function(){T.Toast.clearZanToast.call(this)},applyRecruitment:function(){var e=this;console.log("+++++++++");var t=o.getStorageSync("userinfo");this.setData({userinfo:t}),this.data.userinfo.mobile?(o.showLoading({title:"请稍后"}),console.log("applyRecruitment==this.data.from===>",this.data.from),v.default.applyRecruitment({from:this.data.from,channelCode:this.data.channelCode,shareCode:this.data.shareCode}).then(function(t){console.log("apply res=>",t),o.hideLoading(),e.showZanToast("恭喜您，已成功申请为"+e.data.config.globalName+"！"),setTimeout(function(){this.saleCenter()}.bind(e),2e3)}).catch(function(t){console.log("apply err=>",t),o.hideLoading(),t&&1000104==t.error?(console.log("++++++++++++++++++++++++++++++++++++++++++"),e.showZanToast("很抱歉，您的分销申请已被拒绝！\n\n 拒绝理由："+t.errorMessage)):t&&1002111==t.error?e.showZanToast("此二维码已失效"):e.showZanToast(v.default.errors(t.error)||"网络连接错误，请稍后重试")})):this.setData({showModal:!0,url:"/pages/login/login?type=zhaomu&from="+this.data.from+"&zhaomuName="+this.data.config.globalName+"&channelCode="+this.data.channelCode})},showPopup:function(){var e=this.selectComponent(".J_Popup");e&&e.show()},hidePopup:function(){var e=this.selectComponent(".J_Popup");e&&e.hide()},copeShareCode:function(){var e=this.data.userdata.shareCode,t=void 0===e?"":e;o.setClipboardData({data:t,success:function(){}})},onUnload:function(){C.default.remove(D.default.action.BIND_PHONE_SUCCESS,this)}}}),window.define("component/map/map",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var m=e("../../network/api"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);a.default={onLoad:function(e){o.setNavigationBarTitle({title:"在线地图"})},onReady:function(){},onShow:function(){var e=i().globalData.location;e&&e.location&&(this.setData({cityName:e.location}),o.showLoading({title:"请稍后"}),this.queryBrandList(this.data.query,!0))},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},queryBrandList:function(e,t){var a=this;o.showLoading({title:"加载中"}),y.default.getBrandListByLocation(e).then(function(e){console.log(e,"++++"),o.hideLoading(),a.setData({list:t?e.data.data:a.data.list.concat(e.data.data),isShow:!0,loadmore:e.data.nextCursor>0,loadingmore:!1,query:{pageNo:e.data.nextCursor,pageSize:e.data.pageSize}}),console.log(e,"++++++++++++")}).catch(function(e){return console.log(e)})},makemap:function(e){console.log(e.currentTarget.dataset.item);var t=e.currentTarget.dataset.item;o.navigateTo({url:"/pages/brandmap/brandmap?id="+t.id+"&title="+t.brandName})},lower:function(e){console.log(this.data.loadmore,!this.data.loadingmore,"+++++++++++++++++"),this.data.loadmore&&!this.data.loadingmore&&(console.log(e),this.setData({loadingmore:!0}),this.queryBrandList(this.data.query,!1))}}}),window.define("component/o2o-orders/orders",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var y=e("../../network/api"),v=m(y),w=e("../../utils/notification"),x=m(w),b=e("../../utils/const.js"),D=m(b),S={loadmore:!1,isloadingmore:!1,scrollTop:0,pagination:{nextCursor:0,previousCursor:0,totalNumber:0},query:{pageNo:0},orderList:[],lastMinutes:40,isPaying:!1,errGoodList:[]};a.default={orderDetail:function(e){var t=e.currentTarget.dataset.id;o.navigateTo({url:"/pages/orders/o2oshow/show?id="+t})},onLoad:function(){this.setData(S)},onReady:function(){},onShow:function(){var e=o.getStorageSync("userinfo");this.setData({userinfo:e});var t=void 0;t={pageNo:1},e.mobile&&this.queryOrdersList(t,!0,!0)},onHide:function(){clearInterval(this.timer)},onPullDownRefresh:function(){console.log("-----onPullDownRefresh--------")},onReachBottom:function(){},queryOrdersList:function(e,t,a){var n=this,i=e||{};t&&(o.showLoading({title:"请稍候"}),this.setData({loading:!0})),o.stopPullDownRefresh(),v.default.queryOrders(i).then(function(e){o.stopPullDownRefresh(),t&&(o.hideLoading(),n.setData({loading:!1})),n.setData({isloadingmore:!1,orderList:a?e.data.data:n.data.orderList.concat(e.data.data),loading:!1,loadmore:e.data.nextCursor>0,pagination:{nextCursor:e.data.nextCursor,previousCursor:e.data.previousCursor,totalNumber:e.data.totalNumber},query:{pageNo:e.data.nextCursor}});var i=n.data.orderList;if(i&&i.length>0)for(var s=0;s<i.length;s++){if(10==i[s].orderStatus){i[s].remainMinutes=i[s].remainMinutes>0?i[s].remainMinutes:0;var r=i[s].remainMinutes/60>0?parseInt(i[s].remainMinutes/60):0,d=r<0?"":r<10?"0"+r+"分钟":r+"分钟",u=parseInt(i[s].remainMinutes%60),c=u<10?"0"+u+"秒":u+"秒";i[s].remainMinutesText=d+c,0==i[s].remainMinutes&&(i[s].orderStatus=20,i[s].actionList=[])}n.setData({orderList:i})}clearInterval(n.timer),n.timer=setInterval(function(){var e=!1;if(i&&i.length>0)for(var t=0;t<i.length;t++){if(10==i[t].orderStatus){e=!0,i[t].remainMinutes=i[t].remainMinutes>0?i[t].remainMinutes-1:0;var a=i[t].remainMinutes/60>0?parseInt(i[t].remainMinutes/60):0,o=a<0?"":a<10?"0"+a+"分钟":a+"分钟",s=parseInt(i[t].remainMinutes%60),r=s<10?"0"+s+"秒":s+"秒";i[t].remainMinutesText=o+r,0==i[t].remainMinutes&&(i[t].orderStatus=20,i[t].actionList=[])}n.setData({orderList:i})}e||clearInterval(n.timer)},1e3)}).catch(function(e){console.log(e),o.stopPullDownRefresh(),t&&(o.hideLoading(),n.setData({loading:!1})),n.setData({loadmore:!1,isloadingmore:!1})})},lower:function(){console.log("---------lower--------",this.data.query),this.data.loadmore&&!this.data.isloadingmore&&(this.setData({isloadingmore:!0}),this.queryOrdersList(this.data.query,!1,!1))},onOrderCanceled:function(){this.queryOrdersList({},!0,!0)},payOrder:function(e){if(console.log("---------payOrder--------------"),!this.data.isPaying){var t=this;t.setData({isPaying:!1});var a=e.currentTarget.dataset.id,n=e.currentTarget.dataset.no;o.showLoading({title:"请稍候"}),v.default.queryPaySign({orderNo:n}).then(function(e){o.hideLoading(),0==e.status&&e.data&&e.data.nonceStr?o.requestPayment({timeStamp:e.data.timeStamp+"",nonceStr:e.data.nonceStr,package:e.data.package,signType:"MD5",paySign:e.data.paySign,success:function(){console.log("支付--success"),this.onOrderPaid(a)},fail:function(){console.log("支付--fail"),o.showToast({title:"支付已取消",duration:2e3})}}):t.showTopTips("支付信息获取失败"),t.setData({isPaying:!1})}).catch(function(){o.hideLoading(),t.setData({isPaying:!1}),t.showTopTips("支付信息获取失败")})}},onOrderPaid:function(e){this.queryOrdersList({},!1,!0),o.navigateTo({url:"/pages/orders/result/index?result=1&id="+e})},gotoshop:function(e){var t=this,a=e.timeStamp-parseInt(this.lastTime);if(this.lastTime=e.timeStamp,!(a<500)){console.log("---------gotoshop--------",e);var n=e.currentTarget.dataset.id;this.gotoshoptimer=setTimeout(function(){x.default.post(D.default.action.GOTO_SHOP,{storeId:n}),clearInterval(t.gotoshoptimer)},700)}},logisticsDetail:function(e){console.log("logisticsDetail---》"),console.log("e---》",e);var t=e.currentTarget.dataset.orderid,a=e.currentTarget.dataset.iscanshow;console.log("orderId---》",t),console.log("iscanshow---》",a),a?o.navigateTo({url:"/pages/orders/showlogistics/showlogistics?id="+t}):o.navigateTo({url:"/pages/orders/o2oshow/show?id="+t})},onUnload:function(){x.default.remove(D.default.action.BIND_PHONE_SUCCESS,this)},changeuser:function(){var e=o.getStorageSync("userinfo");this.setData({userinfo:e}),this.queryOrdersList({pageNo:1},!0,!0)},gotoLogin:function(){o.navigateTo({url:"/pages/login/login"})}}}),window.define("component/open_tuan/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(a,"__esModule",{value:!0});var y=e("../../network/api.js"),v=function(e){return e&&e.__esModule?e:{default:e}}(y),w=e("../../utils/util.js");a.default={toggleTuanDialog:function(){console.log("close"),this.setData({showOpenTuanDialog:!this.data.showOpenTuanDialog})},handleTapTuanMore:function(e){e.currentTarget.dataset.num<=0||this.getMoreOpenTuan()},getMoreOpenTuan:function(){var e=this,t=this;o.showLoading({title:"请稍后"}),v.default.queryOpeningList({goodsId:this.data.goods.id}).then(function(a){o.hideLoading(),t.setData({openTuan:a.data}),t.toggleTuanDialog(),a.data&&a.data.length>0&&e.startCountMoreTuan()}).catch(function(e){o.hideLoading(),console.log(e)})},startCountMoreTuan:function(){var e=this,t=this;t.data.openTuan.forEach(function(e,a){t.setData(m({},"openTuan["+a+"].leftTime",(0,w.renderTimer)(e.remainTime)))}),this.timerMore=setInterval(function(){t.data.openTuan.forEach(function(a,n){var o;0==a.remainTime&&(clearInterval(e.timerMore),e.getMoreOpenTuan());var i=a.remainTime-1;t.setData((o={},m(o,"openTuan["+n+"].remainTime",i),m(o,"openTuan["+n+"].leftTime",(0,w.renderTimer)(i)),o))})},1e3)},startOpenTuanCount:function(){var e=this;e.data.goods.groupEvent.sponsoringList.forEach(function(t,a){e.setData(m({},"goods.groupEvent.sponsoringList["+a+"].leftTime",(0,w.renderTimer)(t.remainTime)))}),this.openTuanTimer=setInterval(function(){e.data.goods.groupEvent.sponsoringList.forEach(function(t,a){var n;0==t.remainTime&&(clearInterval(e.openTuanTimer),e.queryProductById(!1));var o=t.remainTime-1;e.setData((n={},m(n,"goods.groupEvent.sponsoringList["+a+"].remainTime",o),m(n,"goods.groupEvent.sponsoringList["+a+"].leftTime",(0,w.renderTimer)(o)),n))})},1e3)}}}),window.define("component/order_action/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(a,"__esModule",{value:!0});var y=e("../../network/api"),v=function(e){return e&&e.__esModule?e:{default:e}}(y);e("../../dist/index");a.default={cancelOrder:function(e){var t=this,a=e.currentTarget.dataset.id;console.log("that===111",t),o.showModal({title:"提示",content:"确定要取消该订单吗？",success:function(e){e.confirm&&(o.showLoading({title:"请稍候"}),v.default.cancelOrder({id:a}).then(function(e){o.hideLoading(),console.log("that---111",t),t.showZanToast("订单已取消"),t.onOrderCanceled()}).catch(function(e){console.log(e),o.hideLoading()}))}})},confirmOrder:function(e){var t=this,a=e.currentTarget.dataset.id;o.showModal({title:"提示",content:"确认您已收到商品？",success:function(e){e.confirm&&(o.showLoading({title:"请稍候"}),a&&v.default.confirmOrder({orderId:a}).then(function(e){o.hideLoading(),0==e.status&&e.data.result?(t.showZanToast("已确认收货"),t.onOrderConfirmed()):t.showZanToast(e.data.msg||"确认收货失败")}).catch(function(e){o.hideLoading(),console.log(e)}))}})},payOrder:function(e){var t=this,a=this;if(!a.data.isPaying){a.setData({isPaying:!0});var n=e.currentTarget.dataset.id,i=e.currentTarget.dataset.no,s=e.currentTarget.dataset.oto;console.log("支付-----iso2o",s),o.showLoading({title:"请稍候"}),v.default.queryPaySign({orderNo:i}).then(function(e){o.hideLoading(),0==e.status&&e.data&&e.data.orderInfo&&o.requestPolymerPayment({orderInfo:e.data.orderInfo,success:function(e){console.log("swan.requestPolymerPayment==success>"),a.onOrderPaid(n,!!s&&1==s),a.setData({isPaying:!1})},fail:function(e){a.setData({isPaying:!1})}})}).catch(function(e){e.data&&e.data.data&&e.data.data.length>0?(t.setData({errGoodList:e.data.data}),a.showDialog()):a.showZanTopTips(v.default.errors(e.error)||e.errorMessage||"网络错误"),a.setData({isPaying:!1}),o.hideLoading()})}},logisticsDetail:function(e){console.log("logisticsDetail---》"),console.log("e---》",e);var t=e.currentTarget.dataset,a=t.id,n=t.partpost;o.navigateTo({url:"/pages/orders/showlogistics/showlogistics?id="+a+"&partPost="+n})},showDialog:function(){var e=this.selectComponent(".wxc-dialog");e&&e.show()},hideDialog:function(){var e=this.selectComponent(".wxc-dialog");e&&e.hide()},onConfirm:function(){console.log("点击了确认按钮"),this.hideDialog()},onCancel:function(){console.log("点击了取消按钮"),this.hideDialog()},onchangeValueMsg:function(e){this.data.order.leaveMessage[e.target.id].value=e.detail.value,this.setData(m({},"order.leaveMessage["+e.target.id+"].value",e.detail.value))}}}),window.define("component/page/modules/common",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../../../utils/util.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);t.exports={methods:{jump:function(e){o.navigateTo({url:e})},handlephone:function(e){o.makePhoneCall({phoneNumber:e.currentTarget.dataset.mobile})},makecustome:function(e){this.navigateToCustom(e)},makedataSource:function(e){var t=e.currentTarget.dataset,a=t.type,n=t.options,o=t.index;console.log(a,n,"type, options, dsId");var i=n.dsId,s=void 0===i?"":i,r=n.location,d=void 0===r?1:r,u=n.dataType,c=void 0===u?1:u,l=n.brandsCategory,p=void 0===l?"":l,h=n.categories,g=void 0===h?"":h;console.log(e.currentTarget.dataset),"store"==a?this.jump("/pages/sources/stores/index?dsId="+s+"&location="+d+"&dataType="+c):"products"==a?this.jump("/pages/sources/products/index?dsId="+s+"&location="+d+"&dataType="+c+"&type=goodslist&brandsCategory="+y.default.stringify(p)+"&categories="+y.default.stringify(g)):"service"==a?this.jump("/pages/sources/services/index?dsId="+s+"&location="+d+"&dataType="+c):"brands"==a?this.jump("/pages/sources/brands/index?dsId="+s+"&location="+d+"&dataType="+c):"miaosha"==a?this.jump("/pages/sources/miaosha/index?dsId="+s+"&location="+d+"&dataType="+c):"tuan"==a?this.jump("/pages/sources/tuan/index?dsId="+s+"&location="+d+"&dataType="+c):"supplyinfo"==a?this.jump("/pages/sources/supplyinfo/supplyinfo?dsId="+s+"&location="+d+"&dataType="+c):"newsinfo"==a?this.jump("/pages/sources/newsinfo/newsinfo?from=dataSource&dsId="+s+"&dataType="+c+"&index="+o):"giftcard"==a?this.jump("/pages/giftcard/sources/giftcardlist/index?dsId="+s+"&location="+d+"&dataType="+c):"designer"==a?this.jump("/pages/sources/designer/designer?dsId="+s+"&location="+d+"&dataType="+c):"carstore"==a?this.jump("/pages/car/storelist/index?dsId="+s+"&location="+d+"&dataType="+c):"carproject"==a?this.jump("/pages/car/projectlist/index?dsId="+s+"&location="+d+"&dataType="+c):"cartimescard"==a?this.jump("/pages/car/sources/list/index?dsId="+s+"&location="+d+"&dataType="+c):"courseList"==a?this.jump("/pages/edu/list/index?dsId="+s+"&location="+d+"&dataType="+c+"&from=courseListPage"):"bargainList"==a&&this.jump("/pages/sources/cutprice/index?dsId="+s+"&location="+d+"&dataType="+c)},navigateToCustom:function(e){var t=e.currentTarget.dataset.item||e.currentTarget.dataset.link;if(console.log(t,"link"),t)if(t.location=t.location||1,t.dataType=t.dataType||1,t.dsId=t.dsId||"",t.brandsCategory=t.brandsCategory||"",t.color=t.color||"",t.categories=t.categories||"","page"==t.type&&t.link)this.jump("/modules/custome/custome?id="+t.link);else if("homestore"==t.type&&t.link)this.jump("/pages/shop/products/products?storeid="+t.link);else if("brand"==t.type)this.jump("/pages/sources/brands/index?dsId="+t.dsId+"&location="+t.location+"&dataType="+t.dataType);else if("store"==t.type)this.jump("/pages/sources/stores/index?dsId="+t.dsId+"&location="+t.location+"&dataType="+t.dataType+"&from=page");else if("goods"==t.type)console.log("goods-link",t),this.jump("/pages/sources/products/index?dsId="+t.dsId+"&location="+t.location+"&dataType="+t.dataType+"&type=goodslist&from=page");else if("goodscategory"==t.type)console.log("goodscategory-link",t),this.jump("/pages/sources/products/index?location="+t.location+"&dataType="+t.dataType+"&type=goodslist&brandsCategory="+y.default.stringify(t.brandsCategory)+"&from=page&categories="+y.default.stringify(t.categories));else if("project"==t.type)this.jump("/pages/sources/services/index?dsId="+t.dsId+"&location="+t.location+"&dataType="+t.dataType+"&from=page");else if("seckill"==t.type)this.jump("/pages/sources/miaosha/index?dsId="+t.dsId+"&location="+t.location+"&dataType="+t.dataType);else if("groupurchase"==t.type)this.jump("/pages/sources/tuan/index?dsId="+t.dsId+"&location="+t.location+"&dataType="+t.dataType);else if("info"==t.type)this.jump("/pages/sources/newsinfo/newsinfo?from=dataSource&dsId="+t.dsId+"&dataType="+t.dataType);else if("supplybuy"==t.type)this.jump("/pages/sources/supplyinfo/supplyinfo?dsId="+t.dsId+"&location="+t.location+"&dataType="+t.dataType+"&from=page");else if("fullreduction"==t.type)this.jump("/pages/manjian/index?dsId="+t.dsId+"&location="+t.location+"&dataType="+t.dataType);else if("miniProgramm"==t.type)o.navigateToSmartProgram({appId:t.appId,path:t.path||""});else if("customLink"==t.type)this.jump("/pages/webview/index?url="+y.default.stringify(t.customLink));else if("live"==t.type)this.jump("/pages/live/list/index");else if("timesCardList"==t.type)this.jump("/pages/car/sources/list/index?dsId="+t.dsId+"&location="+t.location+"&dataType="+t.dataType+"&from=page");else if("carStoreList"==t.type)this.jump("/pages/car/storelist/index?dsId="+t.dsId+"&location="+t.location+"&dataType="+t.dataType+"&from=page");else if("carProjectList"==t.type)this.jump("/pages/car/projectlist/index?dsId="+t.dsId+"&location="+t.location+"&dataType="+t.dataType+"&from=page");else if("hotel"==t.type){var a=o.getStorageSync("location");this.jump("/pages/hotel/list/index?cityName="+(a.cityName||"")+"&location="+(a.location||"")+"&isLocation=2&cityCode="+a.cityCode)}else"coupon"==t.type?this.jump("/pages/sources/coupon/index?dsId="+t.dsId+"&dataType="+t.dataType+"&from=page&color="+t.couponColor):"chuzhi"==t.type?this.jump("/pages/storevalue/mystore/index"):"freeQuote"==t.type?this.jump("/pages/decoration/quotation/index"):"courseList"==t.type?this.jump("/pages/edu/list/index?dsId="+t.dsId+"&location="+t.location+"&dataType="+t.dataType+"&from=courseListPage"):"courseCategory"==t.type?this.jump("/pages/edu/list/index?&dataType="+t.dataType+"&from=courseCategoryPage&categoryIds="+t.checkedIds):"teensBodyTest"==t.type?this.jump("/subs/pingce/bodytest/index"):"bargainList"==t.type?this.jump("/pages/sources/cutprice/index?dsId="+t.dsId+"&location="+c+"&dataType="+t.dataType):t.imgUrl&&o.previewImage({current:t.imgUrl,urls:[t.imgUrl]})}}}}),window.define("component/page/modules/notice2/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Component({properties:{module:{type:Object}}}),Page({})}),window.define("component/quantity/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={handleQuantityPlus:function(e){throw new Error("should override in page")},handleQuantityMinus:function(e){throw new Error("should override in page")}}}),window.define("component/supply/supply",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var m=e("../../network/api"),y=function(e){return e&&e.__esModule?e:{default:e}}(m),v={tab:{list:[{id:"address",title:"全部"},{id:"type",title:"类型"},{id:"classify",title:"全部分类"}],selectedId:"address",scroll:!1},types:[{id:1,name:"全部"},{id:3,name:"供应"},{id:4,name:"求购"}],typeIndex:-1,addresses:[],addressIndex:[0,0,0],classifies:[],classifyIndex:[0,0],supplys:[],loading:!1,loadmore:!1,isloadingmore:!1,scrollTop:0,searchUrl:"/pages/articles/search/search",pagination:{nextCursor:0,previousCursor:0,totalNumber:0},query:{pageNo:1,pageSize:10},selectAddress:"全国",selectClassify:"全部分类",isFirstOpen:!0};a.default={onLoad:function(e){this.setData(v);var t=o.getSystemInfoSync(),a=t.windowWidth/750,n={pageNo:0,title:e.q?e.q:""};this.setData({query:n,sysInfo:t,scrollHeight:t.windowHeight-88*a+2}),e.dsId&&this.setData({"query.dsId":e.dsId}),e.dataType&&this.setData({"query.dataType":e.dataType}),e.type&&this.setData({type:e.type}),e.categoryIds&&this.setData({"query.cids":e.categoryIds}),e.from&&this.setData({from:e.from,navToDetail:!0})},onReady:function(){},onShow:function(){var e=this.data.title,t=i().getFlash("keyword");console.log(i().getFlash("keyword"),"++++++++++++++++",t);var a=Object.assign({},this.data.query,{pageNo:0,title:t||""});this.setData({query:a}),this.data.isFirstOpen?("group"==this.data.type?(console.log("+++++++++"),this.queryGroupSupplyList(this.data.query,!0,!0)):this.querysupplyList(this.data.query,!0,!0),this.setData({isFirstOpen:!1})):e!=t?"group"==this.data.type?(console.log("+++++++++"),this.queryGroupSupplyList(this.data.query,!0,!0)):this.querysupplyList(this.data.query,!0,!0):"group"==this.data.type?this.queryGroupSupplyList(this.data.query,!1,!0):this.querysupplyList(this.data.query,!1,!0),this.queryRegions(1,-1),this.queryClassifies()},querysupplyList:function(e,t,a){var n=this,i=e||{},s=this.data,r=s.from,d=s.navToDetail;t&&(o.showLoading({title:"请稍候"}),this.setData({loading:!0})),y.default.querySupplyList(i).then(function(e){if(o.stopPullDownRefresh(),o.hideLoading(),n.setData({isloadingmore:!1,supplys:a?e.data.data:n.data.supplys.concat(e.data.data),loading:!1,loadmore:e.data.nextCursor>0,pagination:{nextCursor:e.data.nextCursor,previousCursor:e.data.previousCursor,totalNumber:e.data.totalNumber},query:Object.assign({},n.data.query,{pageNo:e.data.nextCursor})}),"page"==r&&d&&e.data.data&&1==e.data.data.length){var t=e.data.data[0];n.setData({navToDetail:!1}),o.redirectTo({url:"/pages/gongqiu/supplyDetail/index?id="+t.id})}else n.setData({navToDetail:!1})}).catch(function(e){console.log(e),o.stopPullDownRefresh(),o.hideLoading(),n.setData({loading:!1,loadmore:!1,isloadingmore:!1})})},queryGroupSupplyList:function(e,t,a){var n=this,i=e||{},s=this.data;s.from,s.navToDetail;t&&(o.showLoading({title:"请稍候"}),this.setData({loading:!0})),y.default.queryGroupSupply(i).then(function(e){o.stopPullDownRefresh(),o.hideLoading(),n.setData({isloadingmore:!1,supplys:a?e.data.data:n.data.supplys.concat(e.data.data),loading:!1,loadmore:e.data.nextCursor>0,pagination:{nextCursor:e.data.nextCursor,previousCursor:e.data.previousCursor,totalNumber:e.data.totalNumber},query:Object.assign({},n.data.query,{pageNo:e.data.nextCursor})})}).catch(function(e){console.log(e),o.stopPullDownRefresh(),o.hideLoading(),n.setData({loading:!1,loadmore:!1,isloadingmore:!1})})},lower:function(e){this.data.loadmore&&!this.data.isloadingmore&&(this.setData({isloadingmore:!0}),"group"==this.data.type?this.queryGroupSupplyList(this.data.query,!1,!1):this.querysupplyList(this.data.query,!1,!1))},queryRegions:function(e,t){var a=this;1==e?y.default.queryRegions({parentId:t}).then(function(e){e.data.splice(0,0,{code:"-1",fullName:"全国",id:0,name:"全国",parentId:"-1"}),a.setData({addresses:[e.data,[{code:"-1",fullName:"全国",id:0,name:"全国",parentId:"-1"}],[{code:"-1",fullName:"全国",id:0,name:"全国",parentId:"-1"}]]})}).catch(function(e){a.showTopTips(e.message||"查询失败")}):2==e?y.default.queryRegions({parentId:t}).then(function(e){a.setData({addresses:[a.data.addresses[0],e.data,[]]}),a.queryRegions(3,e.data[0].code)}).catch(function(e){a.showTopTips(e.message||"查询失败")}):3==e&&y.default.queryRegions({parentId:t}).then(function(e){e.data.splice(0,0,{code:"-1",fullName:"全部",id:0,name:"全部",parentId:"-1"}),a.setData({addresses:[a.data.addresses[0],a.data.addresses[1],e.data]})}).catch(function(e){a.showTopTips(e.message||"查询失败")})},queryClassifies:function(){var e=this;y.default.queryCategoryList().then(function(t){var a=t.data.map(function(e){return{id:e.id,name:e.name,pid:e.pid}});a.splice(0,0,{id:0,name:"全部分类",pid:0});var n=[{id:0,name:"全部",pid:0}];e.setData({data:t.data,classifies:[a,n]})}).catch(function(e){console.log(e)})},bindAddressPickerChange:function(e){var t=this.data.addresses,a=0!=t[2][e.detail.value[2]].id?t[2][e.detail.value[2]].fullName:0!=t[1][e.detail.value[1]].id?"全"+t[1][e.detail.value[1]].fullName:"全国";this.setData({addressIndex:e.detail.value,selectAddress:a});var n=0!=t[0][e.detail.value[0]].id?t[0][e.detail.value[0]].code:"",o=0!=t[1][e.detail.value[1]].id?t[1][e.detail.value[1]].code:"",i=0!=t[2][e.detail.value[2]].id?t[2][e.detail.value[2]].code:"",s=Object.assign({},this.data.query,{provinceCode:n,cityCode:o,districtCode:i,pageNo:1});this.setData({query:s}),this.querysupplyList(s,!0,!0)},bindAddressPickerColumnChange:function(e){var t=this.data.addresses;switch(e.detail.column){case 0:if(0==e.detail.value){var a=t[0];this.setData({addresses:[a,[{code:"-1",fullName:"全国",id:0,name:"全国",parentId:"-1"}],[{code:"-1",fullName:"全国",id:0,name:"全国",parentId:"-1"}]]})}else this.queryRegions(2,t[0][e.detail.value].code);break;case 1:this.queryRegions(3,t[1][e.detail.value].code)}},bindTypePickerChange:function(e){this.setData({typeIndex:e.detail.value});var t=0==e.detail.value?1:1==e.detail.value?3:2==e.detail.value?4:1,a=Object.assign({},this.data.query,{dataType:t,pageNo:1});this.setData({query:a}),this.querysupplyList(a,!0,!0)},bindClassifyMultiPickerChange:function(e){var t=this.data.classifies,a=0!=t[1][e.detail.value[1]].id?t[1][e.detail.value[1]].name:t[0][e.detail.value[0]].name;this.setData({classifyIndex:e.detail.value,selectClassify:a});var n=0!=t[1][e.detail.value[1]].id?t[1][e.detail.value[1]].id:t[0][e.detail.value[0]].id,o=Object.assign({},this.data.query,{pageNo:1,categoryId:n});this.setData({query:o}),this.querysupplyList(o,!0,!0)},bindClassifyMultiPickerColumnChange:function(e){var t=this.data.classifies;if(0==e.detail.column){var a=[];a=0==e.detail.value||!this.data.data[e.detail.value-1].categoryList||this.data.data[e.detail.value-1].categoryList.length<1?[{id:0,name:"全部",pid:0}]:this.data.data[e.detail.value-1].categoryList.map(function(e){return{id:e.id,name:e.name,pid:e.pid}}),this.setData({classifies:[t[0],a]})}},handlesupply:function(e){var t=e.currentTarget.dataset.id;getCurrentPages().length,o.navigateTo({url:"/pages/gongqiu/supplyDetail/index?id="+t})},bindsupplysearch:function(){var e=this.data.query.title||"";o.navigateTo({url:"/pages/sources/newsinfo/newssearch?keyword="+e})},handlephone:function(e){var t=e.currentTarget.dataset.mobile;o.makePhoneCall({phoneNumber:t})}}}),window.define("component/supply/tab",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m={_handlesupplyTabChange:function(e){var t=e.currentTarget.dataset,a=t.componentId,n=t.itemId,o={componentId:a,selectedId:n};console.info("[supply:tab:change]",o),this.handlesupplyTabChange?this.handlesupplyTabChange(o):console.warn("页面缺少 handlesupplyTabChange 回调函数")}};t.exports=m}),window.define("dist/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";a.Tab=e("./tab/index"),a.Quantity=e("./quantity/index"),a.TopTips=e("./toptips/index"),a.Toast=e("./toast/index"),a.Switch=e("./switch/index")}),window.define("dist/minui/wxc-abnor/dist/config",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={LOCATION_ERROR:{image:"http://imgcdnali.wfenxiao.com.cn/xcx/c/1120/location_error1.png",title:"无法获取您的位置信息",button:"手动选择地址",tip:""},REQUEST_ERROR:{image:"https://s10.mogucdn.com/p2/161213/upload_3bd517df2kgkclkhgl71bg4b37dcc_514x260.png",title:"网络加载失败",button:"点击刷新",tip:""},NOT_FOUND:{image:"https://s8.mogucdn.com/pic/150112/17y7h4_ieydcyjsha2dgndcmuytambqgiyde_410x354.png",title:"很抱歉，找不到你要访问的页面",tip:"",button:"返回"},DATA:{image:"https://s10.mogucdn.com/p2/161213/upload_27e7gegi3f9acl5e05f3951if5855_514x260.png",title:"没有相关数据哦",tip:"",button:""},FOLLOW:{image:"https://s10.mogucdn.com/p2/161213/upload_61ech6ihe399d85abhjhcigd38444_514x260.png",title:"关注有趣的人",tip:"不再错过他们每一条动态",button:""},FEED:{image:"https://s10.mogucdn.com/p2/161213/upload_2ie7eb3ae0khl20g0g1glgb852e5i_514x260.png",title:"还没有任何反馈哦",tip:"",button:""},SHOP:{image:"https://s10.mogucdn.com/p2/161213/upload_8acll7f4b4j2ljf8i164d5h7bl78g_514x260.png",title:"稍后再来试试吧~",tip:"",button:""},WEIBO:{image:"https://s10.mogucdn.com/p2/161213/upload_3gh3bj6dk8k46783c78e414aeh7g0_514x260.png",title:"",tip:"",button:""},SEARCH:{image:"https://s10.mogucdn.com/p2/161213/upload_74hhee883cbf190e3di6cljk23679_514x260.png",title:"抱歉！没找到相关商品~",tip:"",button:""},TAG:{image:"https://s10.mogucdn.com/p2/161213/upload_76h1c5hjc8heecjehlfgekjdl2ki0_514x260.png",title:"",tip:"",button:""},MESSAGE:{image:"https://s10.mogucdn.com/p2/161213/upload_21f4ij449lb4h67k0afjic82d0f31_514x260.png",title:"消息通知空空如也",tip:"",button:""},LIVE:{image:"https://s10.mogucdn.com/p2/161213/upload_682e8fg28d8lk27b9l95jecghd4jl_514x260.png",title:"",tip:"",button:""},ORDER:{image:"https://s10.mogucdn.com/p2/161213/upload_7b01ig2ih5egggj85l1gd8d38790f_514x260.png",title:"还没有相关订单哦",tip:"",button:""},CART:{image:"https://s10.mogucdn.com/p2/161213/upload_1h082815bh50k99dajicd53ll1dhl_514x260.png",title:"购物车还是空的哦~",button:"去逛逛",tip:""},FOOTPRINT:{image:"https://s10.mogucdn.com/p2/161213/upload_3c4d952gd6k9809gj4g8eg974lk14_514x260.png",title:"你还没有足迹~",tip:"",button:""},COUPON:{image:"https://s10.mogucdn.com/mlcdn/c45406/170607_52khi3193g9ba5e023l7a6ecee326_514x258.png",title:"你还没有可用的店铺优惠券哦",tip:"",button:""}}}),window.define("dist/minui/wxc-avatar/dist/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=Component({behaviors:[],properties:{src:{type:String,value:""},mold:{type:String,value:"circle"},count:{type:Number,value:""},approve:{type:String,value:""}},data:{},methods:{}}),Page({})}),window.define("dist/minui/wxc-badge/dist/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=Component({behaviors:[],properties:{value:{type:[Number,String],value:0},max:{type:[Number,String],value:100},type:{type:String,value:"number"},_system_:{type:String,value:""}},data:{},methods:{},attached:function(){var e=this,t=e.data,a=parseInt(t.max,10),n=parseInt(t.value,10);n&&a&&n>a&&e.setData({value:a+"+"}),o.getSystemInfo&&o.getSystemInfo({success:function(t){e.setData({_system_:~t.system.indexOf("Android")?"android":"ios"})}})}}),Page({})}),window.define("dist/minui/wxc-loading/dist/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=Component({_timer:null,behaviors:[],properties:{isShow:{type:Boolean,value:!1},type:{type:String,value:"mgj"},image:{type:String,value:""},slip:{type:String,value:""}},data:{},methods:{show:function(){var e=this;this._timer&&clearTimeout(this._timer),this._timer=setTimeout(function(){e._timer=null,e.setData({isShow:!0})},500)},hide:function(){this._timer&&(clearTimeout(this._timer),this._timer=null),this.setData({isShow:!1})}}}),Page({})}),window.define("dist/minui/wxc-loadmore/dist/config",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var m=[{icon:"https://s10.mogucdn.com/p2/161213/upload_57bl76e9010115f3fj1d2k1kj5l4b_44x44.png",text:"再看点别的？"},{icon:"https://s10.mogucdn.com/p2/161213/upload_6c4a17j86gb0lh9hba01i464fkie2_44x44.png",text:"哎呀都看完了"},{icon:"https://s10.mogucdn.com/p2/161213/upload_1iddk17bfe1k4257f207i467f21e8_44x44.png",text:"叽~木有啦"},{icon:"https://s10.mogucdn.com/p2/161213/upload_2e6ig5fb6k773l546a9gj8g2k7bfg_44x44.png",text:"哎一古~刷完了"},{icon:"https://s10.mogucdn.com/p2/161213/upload_124lgj5ji1h9f3ci0bdbe5k4gf1kk_44x44.png",text:"没有了呢"},{icon:"https://s10.mogucdn.com/p2/161213/upload_1122hdalb10h08kbiehd344fj6j1k_44x44.png",text:"汪~木有啦"}],y={HIDDEN:-1,SHOW_DEFAULT:1,SHOW_CONFIG:2};a.TYPES=m,a.IconType=y}),window.define("dist/minui/wxc-notice/dist/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=Component({properties:{scroll:{type:Boolean,value:!1},isShow:{type:Boolean,value:!0},notice:{type:String,value:""},bgColor:{type:String,value:"#ff5777"},color:{type:String,value:"#fff"},showIcon:{type:Boolean,value:!1},iconColor:{type:String,value:"#fff"},close:{type:Boolean,value:!1},bgRgba:{type:String,value:"rgba(255, 85, 119, 0)"}},data:{},methods:{onDismissNotice:function(e){this.setData({isShow:!1});var t=e.detail,a={};this.triggerEvent("close",t,a)}}}),Page({})}),window.define("dist/minui/wxc-progress/dist/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=Component({behaviors:[],properties:{percent:{type:[Number,String],value:100},strokeWidth:{type:[Number,String],value:16},activeLineColor:{type:Array,value:[]},activeColor:{type:[String,Array],value:"#ffca49, #ffb262"},backgroundColor:{type:String,value:"#e5e5e5"},radius:{type:[Number,String],value:15}},data:{},methods:{},attached:function(){var e=this.data.activeColor;~e.indexOf(",")&&this.setData({activeLineColor:e.split(",")})}}),Page({})}),window.define("dist/minui/wxc-steps/dist/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=Component({behaviors:[],properties:{steps:{type:Array,value:[]},current:{type:Number,value:0}},data:{},methods:{},attached:function(){}}),Page({})}),window.define("dist/minui/wxc-switch/dist/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=Component({behaviors:[],properties:{checked:{type:Boolean,value:!1},disabled:{type:Boolean,value:!1},activeColor:{type:String,value:"#ff5777"}},data:{},methods:{switch:function(){var e=this.data,t=e.checked,a=e.loading,n=e.disabled;if(a||n)return!1;this.setData({checked:!t}),this.triggerEvent("switch",{checked:this.data.checked})}}}),Page({})}),window.define("dist/minui/wxc-tab/dist/Event",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var m=function e(){if(!(this instanceof e))return new e;this._callbacks={},this._fired={}};m.prototype.emit=function(e,t){for(var a,n,o,i,s,r=2,d=this._callbacks;r--;)if(n=r?e:"__all__",a=d[n])for(i=0,s=a.length;i<s;i++)if(o=a[i]){for(var u=[],c=r?1:0,l=c;l<arguments.length;l++)u.push(arguments[l]);o.apply(this,u)}else a.splice(i,1),i--,s--;return this},m.prototype.on=function(e,t){return this._callbacks[e]=this._callbacks[e]||[],this._callbacks[e].push(t),this},m.prototype.removeListener=function(e,t){var a=this._callbacks;if(e)if(t){var n=a[e];if(n)for(var o=n.length,i=0;i<o;i++)t===n[i]&&(n[i]=null)}else a[e]=[];else this._callbacks={};return this};var y=new m;a.default=y}),window.define("dist/quantity/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e,t){var a=e.currentTarget.dataset,n=a.componentId,o=a.disabled,i=+a.quantity;if(o)return null;y.call(this,n,i+t)}function y(e,t){t=+t;var a={componentId:e,quantity:t};console.info("[zan:quantity:change]",a),this.handleZanQuantityChange?this.handleZanQuantityChange(a):console.warn("页面缺少 handleZanQuantityChange 回调函数")}var v={_handleZanQuantityMinus:function(e){m.call(this,e,-1)},_handleZanQuantityPlus:function(e){m.call(this,e,1)},_handleZanQuantityBlur:function(e){var t=this,a=e.currentTarget.dataset,n=a.componentId,o=+a.max,i=+a.min,s=e.detail.value;return console.log("_handleZanQuantityBlur---\x3e",s),s?(s=+s,s>o?s=o:s<i&&(s=i),y.call(this,n,s),""+s):(setTimeout(function(){y.call(t,n,i)},16),y.call(this,n,s),""+s)}};t.exports=v}),window.define("dist/switch/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m={_handleZanSwitchChange:function(e){var t=e.currentTarget.dataset,a=!t.checked,n=t.loading,o=t.disabled,i=t.componentId;n||o||(console.info("[zan:switch:change]",{checked:a,componentId:i}),this.handleZanSwitchChange?this.handleZanSwitchChange({checked:a,componentId:i}):console.warn("页面缺少 handleZanSwitchChange 回调函数"))}};t.exports=m}),window.define("dist/tab/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m={_handleZanTabChange:function(e){var t=e.currentTarget.dataset,a=t.componentId,n=t.itemId,o={componentId:a,selectedId:n};console.info("[zan:tab:change]",o),this.handleZanTabChange?this.handleZanTabChange(o):console.warn("页面缺少 handleZanTabChange 回调函数")}};t.exports=m}),window.define("dist/toast/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";t.exports={showZanToast:function(e,t){var a=this;console.log(this,e,t);var n=this.data.zanToast||{};clearTimeout(n.timer),n={show:!0,title:e},this.setData({zanToast:n});var o=setTimeout(function(){a.clearZanToast()},t||2e3);this.setData({"zanToast.timer":o})},clearZanToast:function(){var e=this.data.zanToast||{};clearTimeout(e.timer),this.setData({"zanToast.show":!1})}}}),window.define("dist/toptips/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";t.exports={showZanTopTips:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.data.zanTopTips||{};n.timer&&(clearTimeout(n.timer),n.timer=null),"number"==typeof a&&(a={duration:a}),a=Object.assign({duration:3e3},a);var o=setTimeout(function(){e.setData({"zanTopTips.show":!1,"zanTopTips.timer":null})},a.duration);this.setData({zanTopTips:{show:!0,content:t,options:a,timer:o}})}}}),window.define("network/api",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}function y(){return new Pi.default(function(e){o.login({success:function(t){var a=t.code;e(a)}})}).then(function(e){var t=i().globalData,a=t.shareCode,n=t.channelCode;return(0,Oi.default)(Gi+"/user/init",{headers:{"x-comp-token":i().globalData.token||""},"content-type":"application/json",method:"POST",body:{code:e,shareCode:a,channelCode:n}})}).then(function(e){return Bi.default.post(Ai.default.action.LOGIN,{accessToken:e.data.accessToken,userInfo:e.data}),new Pi.default(function(t){return t(e.data)})})}function v(){var e=o.getStorageSync("accessToken");return e&&"undefined"!=e?new Pi.default(function(e){return e(o.getStorageSync("userinfo"))}):y()}function w(e,t){return v().then(function(){var a={headers:{"x-comp-token":i().globalData.token||"",accesstoken:i().globalData.accessToken||"","x-city-code":i().globalData.city?i().globalData.city.code:""},method:"GET",qs:t};return i().log("request get ---- "+e),(0,Oi.default)(e,a)})}function x(e,t){return v().then(function(){var a={headers:{"x-comp-token":i().globalData.token||"",accesstoken:i().globalData.accessToken||"","x-city-code":i().globalData.city?i().globalData.city.code:""},"content-type":"application/json",method:"POST",body:t};return i().log("request post ---- "+e),(0,Oi.default)(e,a)})}function b(e,t,a){return(0,ji.uploadImg)(e,t,a)}function D(e){return w(Gi+"/sys/region",e)}function S(e){return b(""+Hi,e)}function C(e){return x(Fi+"/collection/visitOto",e)}function T(e){return x(Fi+"/collection/exitOto",e)}function _(e){return w(Gi+"/index/all",e)}function k(e){return w(Gi+"/index/menu/phone",e)}function I(e){return w(Gi+"/index/menu",e)}function L(e){return w(Gi+"/index/brand/list",e)}function q(e){return w(Gi+"/index/store/list",e)}function P(e){return w(Gi+"/index/goods/list",e)}function j(e){return x(Gi+"/index/search",e)}function O(e){return x(Gi+"/index/kw/save",e)}function E(e){return w(Gi+"/index/kw/list",e)}function N(e){return x(Gi+"/index/kw/remove",e)}function M(e){return w(Gi+"/index/cities",e)}function A(e){return w(Gi+"/index/allCities",e)}function R(e){return w(Gi+"/index/city/search",e)}function B(e){return x(Gi+"/index/city/select",e)}function G(e){return x(Gi+"/index/city/location",e)}function F(e){return w(Gi+"/index/page",e)}function H(e){return w(Gi+"/xcx/colorDetail",e)}function U(e){return w(Gi+"/index/custom",e)}function z(e){return w(Gi+"/brand/list",e)}function V(e){return w(Gi+"/store/list",e)}function Z(e){return w(Gi+"/store/loadStoreType",e)}function Q(e){return w(Gi+"/store/detail",e)}function W(e){return w(Gi+"/storeGoods/categoryList",e)}function $(e){return x(Gi+"/storeGoods/list",e)}function K(e){return w(Gi+"/storeGoods/category/goodsList",e)}function Y(e){return w(Gi+"/storeGoods/detail",e)}function J(e){return w(Gi+"/storeGoods/stock",e)}function X(e){return w(Gi+"/order/toOrder",e)}function ee(e){return x(Gi+"/order/createOrder",e)}function te(e){return w(Gi+"/order/list",e)}function ae(e){return w(Gi+"/order/detail",e)}function ne(e){return x(Gi+"/order/cancel",e)}function oe(e){return x(Gi+"/order/receive",e)}function ie(e){return w(Gi+"/order/logistics",e)}function se(e){return x(Gi+"/order/logistics/v2",e)}function re(e){return x(Gi+"/order/logistics/header",e)}function de(e){return w(Gi+"/distribution/dada/log",e)}function ue(e){return w(Gi+"/order/log",e)}function ce(e){return w(Gi+"/cart/checkBeforePay",e)}function le(e){return x(Gi+"/pay/toPay",e)}function pe(e){return w(Gi+"/order/consignee/list",e)}function he(e){return w(Gi+"/consignee/list",e)}function ge(e){return x(Gi+"/consignee/save",e)}function fe(e){return x(Gi+"/consignee/remove",e)}function me(e){return x(Gi+"/consignee/modify",e)}function ye(e){return w(Gi+"/consignee/detail",e)}function ve(e){return x(Gi+"/consignee/check",e)}function we(e){return x(Gi+"/message/save",e)}function xe(e){return x(Gi+"/bind/verifyCode",e)}function be(e){return x(Gi+"/user/login",e)}function De(e){return x(Gi+"/user/save",e)}function Se(e){return x(Gi+"/user/modify",e)}function Ce(e){return x(Gi+"/user/init",e)}function Te(e){return w(Gi+"/user/findLocation",e)}function _e(e){return w(Gi+"/user/findLocationInfo",e)}function ke(e){return w(Gi+"/user/lookup",e)}function Ie(e){return x(Gi+"/user/logout",e)}function Le(e){return x(Gi+"/user/updateUserInfo",e)}function qe(e){return x(Gi+"/map/suggestionPost",e)}function Pe(e){return w(Gi+"/store/loadStoreType",e)}function je(e){return w(Gi+"/storeGoods/goodsList",e)}function Oe(e){return w(Gi+"/project/list",e)}function Ee(e){return w(Gi+"/project/detail",e)}function Ne(e){return w(Gi+"/staff/list",e)}function Me(e){return w(Gi+"/staff/detail",e)}function Ae(e){return x(Gi+"/booking/toBook/v3",e)}function Re(e){return w(Gi+"/booking/loadTime",e)}function Be(e){return w(Gi+"/project/projectList",e)}function Ge(e){return w(Gi+"/staff/staffList",e)}function Fe(e){return x(Gi+"/booking/book/v2",e)}function He(e){return w(Gi+"/booking/list",e)}function Ue(e){return w(Gi+"/booking/detail/v2",e)}function ze(e){return x(Gi+"/booking/cancel",e)}function Ve(e){return w(Gi+"/albums/list",e)}function Ze(e){return w(Gi+"/booking/check",e)}function Qe(e){return x(Gi+"/customerCoupon/receive",e)}function We(e){return w(Gi+"/customerCoupon/list",e)}function $e(e){return w(Gi+"/customerCoupon/detail",e)}function Ke(e){return w(Gi+"/customerCoupon/availableList",e)}function Ye(e){return w(Gi+"/customerCard/list",e)}function Je(e){return w(Gi+"/customerCard/detail",e)}function Xe(e){return x(Gi+"/customerCard/receive",e)}function et(e){return w(Gi+"/customerCard/availableList",e)}function tt(e){return x(Gi+"/customerCard/order/commit",e)}function at(e){return x(Gi+"/bind/excute",e)}function nt(e){return w(Gi+"/bind/check",e)}function ot(e){return w(Gi+"/bind/mobileCheck",e)}function it(e){return x(Gi+"/bind/verifyCodeCheck",e)}function st(e){return w(Gi+"/jmall/index/all",e)}function rt(e){return w(Gi+"/jmall/index/goodsList",e)}function dt(e){return w(Gi+"/jmall/user/center",e)}function ut(e){return w(Gi+"/jmall/goods/detail",e)}function ct(e){return w(Gi+"/jmall/order/prepare",e)}function lt(e){return x(Gi+"/jmall/order/create",e)}function pt(e){return w(Gi+"/jmall/order/list",e)}function ht(e){return w(Gi+"/jmall/order/count",e)}function gt(e){return w(Gi+"/jmall/order/detail",e)}function ft(e){return w(Gi+"/cart/myCart",e)}function mt(e){return w(Gi+"/cart/v2/detail",e)}function yt(e){return x(Gi+"/cart/add",e)}function vt(e){return x(Gi+"/cart/update",e)}function wt(e){return x(Gi+"/cart/del",e)}function xt(e){return x(Gi+"/cart/clear",e)}function bt(e){return x(Gi+"/cart/clearInvalid",e)}function Dt(e){return w(Gi+"/cart/statistics",e)}function St(e){return w(Gi+"/goods/sku",e)}function Ct(e){return w(Gi+"/center/toCenter",e)}function Tt(e){return w(Gi+"/center/collection/list",e)}function _t(e){return w(Gi+"/center/goods/list",e)}function kt(e){return x(Gi+"/center/goods/share",e)}function It(e){return w(Gi+"/center/client/list",e)}function Lt(e){return w(Gi+"/center/order/list",e)}function qt(e){return w(Gi+"/center/sub/order/list",e)}function Pt(e){return w(Gi+"/center/sub/distributer/list",e)}function jt(e){return w(Gi+"/balance/toWithdraw",e)}function Ot(e){return x(Gi+"/balance/withdraw",e)}function Et(e){return x(Gi+"/balance/check",e)}function Nt(e){return w(Gi+"/balance/account/record",e)}function Mt(e){return w(Gi+"/balance/withdraw/detail",e)}function At(e){return x(Gi+"/balance/account/save",e)}function Rt(e){return w(Gi+"/balance/account/banks",e)}function Bt(e){return w(Gi+"/balance/toCenter",e)}function Gt(e){return w(Gi+"/index/datasource/goods",e)}function Ft(e){return w(Gi+"/index/datasource/brands",e)}function Ht(e){return w(Gi+"/index/datasource/stores",e)}function Ut(e){return w(Gi+"/index/datasource/projects",e)}function zt(e){return w(Gi+"/index/datasource/seckill",e)}function Vt(e){return w(Gi+"/index/datasource/group",e)}function Zt(e){return w(Gi+"/index/datasource/coupons",e)}function Qt(e){return w(Gi+"/index/datasource/goodsList",e)}function Wt(e){return w(Gi+"/order/confirm",e)}function $t(e){return x(Gi+"/order/confirm/v2",e)}function Kt(e){return x(Gi+"/order/commit",e)}function Yt(e){return w(Gi+"/recruitment/info",e)}function Jt(e){return x(Gi+"/recruitment/apply",e)}function Xt(e){return w(Gi+"/recruitment/toDistribute",e)}function ea(e){return w(Gi+"/order/staticticsOrderNum",e)}function ta(e){return w(Gi+"/sys/config",e)}function aa(e){return w(Gi+"/sponsor/detail",e)}function na(e){return w(Gi+"/sponsor/goods/sku",e)}function oa(e){return w(Gi+"/supplyBuy/detail",e)}function ia(e){return x(Gi+"/supplyBuy/save",e)}function sa(e){return x(Gi+"/supplyBuy/savePub",e)}function ra(e){return w(Gi+"/index/datasource/supplyBuys",e)}function da(e){return w(Gi+"/info/detail",e)}function ua(e){return w(Gi+"/supplyBuy/detail",e)}function ca(e){return w(Gi+"/supplyBuy/mine",e)}function la(e){return x(Gi+"/supplyBuy/del",e)}function pa(e){return w(Gi+"/sys/region/findById",e)}function ha(e){return w(Ui+"/region/decorateCompFindByParentId",e)}function ga(e){return w(Gi+"/index/datasource/infos",e)}function fa(e){return w(Gi+"/info/detail",e)}function ma(e){return w(Gi+"/info/category/list",e)}function ya(e){return w(Gi+"/grouppurchase/opening/list",e)}function va(e){return w(Gi+"/sponsor/mine/list",e)}function wa(e){return w(Gi+"/order/sponsor/mine",e)}function xa(e){return w(Gi+"/index/datasource/giftCards",e)}function ba(e){return w(Gi+"/giftCard/mine",e)}function Da(e){return w(Gi+"/giftCard/giveRecord",e)}function Sa(e){return w(Gi+"/giftCard/mineDetail",e)}function Ca(e){return w(Gi+"/giftCard/giveRecord/detail",e)}function Ta(e){return w(Gi+"/giftCard/giveDetail",e)}function _a(e){return x(Gi+"/giftCard/largess",e)}function ka(e){return x(Gi+"/giftCard/receive",e)}function Ia(e){return x(Gi+"/giftCard/revokeLargess",e)}function La(e){return x(Gi+"/giftCard/useGiftCard",e)}function qa(e){return w(Gi+"/giftCard/detail",e)}function Pa(e){return x(Gi+"/giftCard/order/commit",e)}function ja(e){return w(Gi+"/giftCard/order/detail",e)}function Oa(e){return w(Gi+"/index/datasource/fullreduction",e)}function Ea(e){return w(Gi+"/giftCard/order/availableList",e)}function Na(e){return x(Gi+"/center/store/share",e)}function Ma(e){return w(Gi+"/center/store/list",e)}function Aa(e){return w(Gi+"/order/consignee/isOutRange",e)}function Ra(e){return x(Gi+"/cart/clearAll",e)}function Ba(e){return w(Gi+"/center/store/detail",e)}function Ga(e){return x(Gi+"/giftCard/pay",e)}function Fa(e){return x(Gi+"/refund/apply",e)}function Ha(e){return w(Gi+"/refund/negotiationHistory",e)}function Ua(e){return w(Gi+"/refund/detail",e)}function za(e){return x(Gi+"/refund/cancel",e)}function Va(e){return x(Gi+"/refund/modify",e)}function Za(e){return x(Gi+"/refund/post",e)}function Qa(e){return x(Gi+"/refund/list",e)}function Wa(e){return x(Gi+"/custom/form/feedback/save",e)}function $a(e){return w(Gi+"/map/addressJson",e)}function Ka(e){return w(Gi+"/member/recharge/info/balance",e)}function Ya(e){return w(Gi+"/member/recharge/info/list",e)}function Ja(e){return w(Gi+"/member/recharge/toRecharge",e)}function Xa(e){return x(Gi+"/pay/wx/recharge/toPay",e)}function en(e){return w(Gi+"/index/goodsCategory/list",e)}function tn(e){return w(Gi+"/index/goodsCategory/list/v2",e)}function an(e){return x(Gi+"/jmall/bind/simple",e)}function nn(e){return x(Gi+"/index/datasource/goodsList/v2",e)}function on(e){return w(Gi+"/index/search/goods",e)}function sn(e){return w(Gi+"/index/search/store",e)}function rn(e){return x(Gi+"/store/datasource/list",e)}function dn(e){return x(Gi+"/index/search/base",e)}function un(e){return x(Gi+"/index/search/goods",e)}function cn(e){return x(Gi+"/index/search/store",e)}function ln(e){return w(Gi+"/collection/goods/list",e)}function pn(e){return w(Gi+"/collection/store/list",e)}function hn(e){return w(Gi+"/collection/goods/follow",e)}function gn(e){return w(Gi+"/collection/goods/unfollow",e)}function fn(e){return w(Gi+"/collection/store/follow",e)}function mn(e){return w(Gi+"/collection/store/unfollow",e)}function yn(e){return x(Gi+"/booking/cancel",e)}function vn(e){return x(Gi+"/booking/pay/tailPay",e)}function wn(e){return x(Gi+"/booking/pay/toPay",e)}function xn(e){return x(Gi+"/qrcode/activity/receive",e)}function bn(e){return w(Gi+"/live/currentLive",e)}function Dn(e){return w(Gi+"/live/historyLive",e)}function Sn(e){return w(Gi+"/live/video/detail",e)}function Cn(e){return w(Gi+"/liveUser/myFavorite",e)}function Tn(e){return w(Gi+"/live/order/list",e)}function _n(e){return w(Gi+"/liveUser/myLive",e)}function kn(e){return w(Gi+"/liveUser/myLiveLogo",e)}function In(e){return w(Gi+"/live/check",e)}function Ln(e){return x(Gi+"/liveUser/share",e)}function qn(e){return x(Gi+"/live/createPoster",e)}function Pn(e){return x(Gi+"/liveUser/play",e)}function jn(e){return x(Gi+"/liveUser/keepAlive",e)}function On(e){return x(Gi+"/liveUser/stopPlay",e)}function En(e){return x(Gi+"/liveUser/watchRecord",e)}function Nn(e){return x(Gi+"/liveUser/startPush",e)}function Mn(e){return x(Gi+"/liveUser/stopPush",e)}function An(e){return x(Gi+"/liveUser/mark",e)}function Rn(e){return x(Gi+"/liveUser/remark",e)}function Bn(e){return w(Gi+"/evaluate/gotoEvaluate",e)}function Gn(e){return x(Gi+"/evaluate/publish",e)}function Fn(e){return w(Gi+"/evaluate/list",e)}function Hn(e){return w(Gi+"/evaluate/store",e)}function Un(e){return w(Gi+"/evaluate/my",e)}function zn(e){return x(Gi+"/evaluate/anonymous",e)}function Vn(e){return x(Gi+"/user/saveCode",e)}function Zn(e){return w(Gi+"/index/city/list",e)}function Qn(e){return x(Gi+"/index/city/select/v2",e)}function Wn(e){return w(Gi+"/index/city/search/v2",e)}function $n(e){return w(Gi+"/cy/mine/orderList",e)}function Kn(e){return w(Gi+"/cy/mine/orderDetail",e)}function Yn(e){return x(Gi+"/cy/order/cancel",e)}function Jn(e){return w(Gi+"/cy/order/confirm",e)}function Xn(e){return x(Gi+"/cy/order/commit",e)}function eo(e){return w(Gi+"/cy/mine/diningTableDetail",e)}function to(e){return w(Gi+"/booking/loadCyTime",e)}function ao(e){return x(Gi+"/cy/order/toPay",e)}function no(e){return x(Gi+"/cy/order/pay",e)}function oo(e){return w(Gi+"/hotel/homePage",e)}function io(e){return w(Gi+"/hotel/store/detail",e)}function so(e){return w(Gi+"/hotel/brand/list",e)}function ro(e){return w(Gi+"/hotel/list",e)}function uo(e){return w(Gi+"/hotel/room/list",e)}function co(e){return x(Gi+"/hotel/store/book/pay",e)}function lo(e){return x(Gi+"/hotel/store/book/cancel",e)}function po(e){return w(Gi+"/hotel/store/book/detail",e)}function ho(e){return w(Gi+"/hotel/store/book/toSave",e)}function go(e){return x(Gi+"/hotel/store/book/save",e)}function fo(e){return x(Gi+"/hotel/store/book/pay",e)}function mo(e){return w(Gi+"/hotel/store/room/detail",e)}function yo(e){return w(Gi+"/hotel/config/detail",e)}function vo(e){return w(Gi+"/index/groups/list",e)}function wo(e){return w(Gi+"/index/groups/projects",e)}function xo(e){return w(Gi+"/index/groups/infos",e)}function bo(e){return w(Gi+"/index/groups/supplyBuys",e)}function Do(e){return x(Gi+"/center/photo/share",e)}function So(e){return w(Gi+"/center/order/orderDetail",e)}function Co(e){return w(Gi+"/storeGoods/categoryDistList",e)}function To(e){return w(Gi+"/info/category/categoryByDsId",e)}function _o(e){return w(Gi+"/decorate/designer/list",e)}function ko(e){return w(Gi+"/decorate/quote/freeQuote",e)}function Io(e){return w(Gi+"/decorate/designer/detail",e)}function Lo(e){return x(Gi+"/custom/form/feedback/save",e)}function qo(e){return w(Gi+"/decorate/quote/list",e)}function Po(e){return w(Gi+"/index/decorateCompanyCity/list",e)}function jo(e){return w(Gi+"/index/decorateCompany/list",e)}function Oo(e){return w(Gi+"/decorate/company/detail",e)}function Eo(e){return w(Gi+"/index/groups/infos/categorylist",e)}function No(e){return x(Gi+"/decorate/impression/praise",e)}function Mo(e){return x(Gi+"/decorate/impression/see",e)}function Ao(e){return x(Gi+"/decorate/impression/queryListByCondition",e)}function Ro(e){return w(Ui+"/decorate/impression/selectItem",e)}function Bo(e){return w(Gi+"/car/store/homePage",e)}function Go(e){return x(Gi+"/car/project/order/buy",e)}function Fo(e){return x(Gi+"/car/project/order/pay",e)}function Ho(e){return w(Gi+"/car/store/list",e)}function Uo(e){return w(Gi+"/car/store/project/list",e)}function zo(e){return w(Gi+"/car/project/order/list",e)}function Vo(e){return w(Gi+"/car/project/order/detail",e)}function Zo(e){return x(Gi+"/car/project/order/buy",e)}function Qo(e){return x(Gi+"/car/project/order/cancel",e)}function Wo(e){return w(Gi+"/timesCard/list",e)}function $o(e){return w(Gi+"/timesCard/detail",e)}function Ko(e){return w(Gi+"/timesCard/order/card/list",e)}function Yo(e){return w(Gi+"/timesCard/my/detail",e)}function Jo(e){return w(Gi+"/timesCard/store/list",e)}function Xo(e){return w(Gi+"/timesCard/order/list",e)}function ei(e){return w(Gi+"/timesCard/order/detail",e)}function ti(e){return x(Gi+"/timesCard/order/buy",e)}function ai(e){return x(Gi+"/timesCard/order/pay",e)}function ni(e){return x(Gi+"/car/project/order/detail",e)}function oi(e){return w(Gi+"/edu/course/list",e)}function ii(e){return w(Gi+"/index/datasource/courseCategory",e)}function si(e){return w(Gi+"/edu/course/detail",e)}function ri(e){return w(Gi+"/evaluate/course/list",e)}function di(e){return x(Gi+"/edu/course/favorite",e)}function ui(e){return x(Gi+"/edu/course/mark",e)}function ci(e){return x(Gi+"/edu/course/remark",e)}function li(e){return x(Gi+"/edu/course/publish",e)}function pi(e){return w(Gi+"/edu/column/courseList",e)}function hi(e){return x(Gi+"/edu/course/order/buy",e)}function gi(e){return x(Gi+"/edu/course/order/pay",e)}function fi(e){return w(Gi+"/edu/column/list",e)}function mi(e){return x(Gi+"/consignee/saveWxAdddress",e)}function yi(e){return w(Gi+"/edu/course/order/list",e)}function vi(e){return x(Gi+"/child/checkAndSave",e)}function wi(e){return w(Gi+"/child/training/getImg",e)}function xi(e){return w(Gi+"/child/training/course/list",e)}function bi(e){return w(Gi+"/index/datasource/bargainList",e)}function Di(e){return x(Gi+"/bargain/sponsor/toBargain",e)}function Si(e){return x(Gi+"/bargain/participant/toBargain",e)}function Ci(e){return w(Gi+"/bargain/sponsor/list",e)}function Ti(e){return w(Gi+"/bargain/participant/list",e)}function _i(e){return w(Gi+"/live/message/list",e)}function ki(e){return x(Gi+"/live/message/publish",e)}function Ii(e){return x(Gi+"/live/message/mute",e)}function Li(e){return x(Gi+"/live/order/buy",e)}var qi=e("../utils/es6-promise.min"),Pi=m(qi),ji=e("./request.js"),Oi=m(ji),Ei=e("../utils/const"),Ni=m(Ei),Mi=e("../utils/const.js"),Ai=m(Mi),Ri=e("../utils/notification"),Bi=m(Ri),Gi=Ni.default.debug?Ni.default.devEndPoint:Ni.default.proEndPoint,Fi=Ni.default.debug?Ni.default.devTongji:Ni.default.proTongji,Hi=Ni.default.debug?Ni.default.devUploadEndPoint:Ni.default.proUploadEndPoint,Ui=Gi.replace("otowap","common"),zi=function(e){switch(e){case 101:return"商品已下架";case 102:return"商品库存不足";case 201:return"收货地址不存在";case 301:return"剩余积分不足";case 401:return"已达到购买次数限制";case 1000101:return"申请已提交，人工审核中，审核通过后需要重新进入小程序查看。";case 1000102:return"您的申请正在审核中,请耐心等待！";case 501:return"此优惠券可领取数量达到上限";case 502:return"优惠券已被领光";case 503:return"用户不存在";case 222000225:return"已经领取过此张会员卡";case 222000226:return'累计消费未满"+card.getConsumeMoney()+"元，暂不能领取';case 11001001:return"appid不能为空";case 11001002:return"收货地址不能为空";case 11001003:return"配送方式不能为空";case 11001004:return"提货人手机号不能为空";case 11001005:return"商品不能为空";case 11001006:return"商品库存不足";case 11001007:return"商品不能为空";case 11001008:return"sku失效";case 11001009:return"来晚了，该团已满！";case 11001010:return"已经有礼品卡使用过了";case 11001011:return"有礼品卡已经过期了！";case 11002001:return"该订单为非0元订单！";case 11001e3:return"用户已撤销，暂不能领取!";case 1001001:return"订单状态为已完成，不能申请退款!";case 1001017:return"当前收货地址不支持配送，请修改收货地址";case 11001019:return"购买金额未达到起送金额";case 13001007:return"砍价活动已下单";case 13001008:return"砍价活动未开始";case 13001009:return"砍价活动已结束";case 121000133:return"微信地址已存在,请重新选择";case 10020100:return"申请失败！招募二维码已失效。";case 10020199:return"评论失败，主播已设置禁言"}};t.exports={loginWx:y,errors:zi,onAppShow:C,onAppHide:T,queryAreas:D,uploadImage:S,init:_,queryWithdrawCheck:Et,queryNewsDetail:da,getIndexMenu:I,getBrandList:L,getStoreList:q,getGoodsList:P,indexSearch:j,saveIndexKeword:O,getIndexKeWordList:E,removeIndexKeWord:N,getIndexCities:M,queryAllCity:A,searchIndexCity:R,selectIndexCity:B,locationIndexCity:G,getBrandListByLocation:z,getStoreListByLocation:V,getStoreDetail:Q,getStorecategoryList:W,getStoreGoodsListByCategory:K,getStoreGoodsList:$,getStoreGoodDetail:Y,getGoodStock:J,checkoutSingleOrder:X,createSingleOrder:ee,queryOrders:te,showOrder:ae,cancelOrder:ne,getLogistics:ie,getLogisticsV2:se,getOrderLogistics:re,dadaGetLogistics:de,checkBeforePay:ce,queryPaySign:le,getOrderConsignee:pe,queryAddressList:he,createAddress:ge,deleteAddress:fe,updataAddress:me,queryAddressDetail:ye,checkAddress:ve,saveMessage:we,getVerifyCode:xe,login:be,saveUserInfo:De,modifyUserInfo:Se,initUser:Ce,getUserLocation:Te,getUserLocationInfo:_e,queryUserInfo:ke,updateWXUserInfo:Le,queryMap:qe,getPageById:F,logout:Ie,queryColor:H,queryCustom:U,queryStoreType:Pe,queryStoreGoodsList:je,queryProjectList:Oe,queryProjectDetail:Ee,queryStaffList:Ne,queryStaffDetail:Me,queryBookSetting:Ae,queryLoadTime:Re,querySelectProjectList:Be,querySelectStaffList:Ge,commitBookOrder:Fe,queryBookList:He,queryBookDetail:Ue,cancelBook:ze,queryAlbumsList:Ve,receiveCoupon:Qe,queryCouponList:We,queryCouponDetail:$e,queryOrderCouponList:Ke,queryCardList:Ye,queryCardDetail:Je,receiveCard:Xe,queryOrderCardList:et,queryCardToBuy:tt,bindMobile:at,checkVerifyCode:it,checkIsBindMobile:nt,checkBindMobileIsExist:ot,queryScoreBannerList:st,queryScoreGoodsList:rt,queryScoreUserCenter:dt,queryScoreGoodsDetail:ut,checkScoreOrder:ct,scoreOrderCreate:lt,scoreOrderList:pt,scoreOrderCount:ht,scoreOrderDetail:gt,getStoreType:Z,bookingCheck:Ze,saleCenter:Ct,mycollectionList:Tt,distributionGoodsList:_t,distributionClientList:It,shareGoodsList:kt,distributionOrderList:Lt,subDistributionList:qt,subDistributerList:Pt,centerToWithdraw:jt,queryWithdraw:Ot,withdrawRecord:Nt,withdrawDetail:Mt,setAccountSave:At,setBankSave:Rt,queryToCenter:Bt,queryCarts:ft,queryStoreCarts:mt,addToCart:yt,updateCartItem:vt,clearCart:xt,clearInvalid:bt,destroyCartItem:wt,queryCartStatics:Dt,queryGoodSku:St,queryDatasourceGoods:Gt,queryDatasourceBrands:Ft,queryDatasourceStores:Ht,queryDatasourceProjects:Ut,queryDatasourceGoodsList:Qt,queryDatasourceMiaosha:zt,queryDatasourceTuan:Vt,queryDatasourceCoupon:Zt,confirmCartOrder:Wt,confirmCartOrderPost:$t,commitCartOrder:Kt,getStates:ue,confirmOrder:oe,getRecruitmentInfo:Yt,applyRecruitment:Jt,queryConcatPhone:k,getRecruitmentDistribute:Xt,getStaticticsOrderNum:ea,getSysConfig:ta,queryOpenTuanDetail:aa,queryTuanGoodsSku:na,queryMyTuanList:va,queryOpeningList:ya,querySupplyBuy:oa,saveSupplyBuy:ia,publishSupplyBuy:sa,querySupplyDetail:ua,querySupplyMy:ca,querySupplyDel:la,queryRegions:pa,queryQuoteRegions:ha,queryNewsinfoList:ga,queryNewsinfoDetail:fa,queryCategoryList:ma,querySupplyList:ra,queryMyTuanId:wa,queryGiftcardList:xa,queryMyGiftcard:ba,queryGiftcardRecordList:Da,queryGiftcardDetail:Sa,queryGiftCardgiveRecorddetail:Ca,queryGiveDetail:Ta,giftcardLargess:_a,queryGiftcardReceive:ka,queryGiftDetail:qa,commitGiftCard:Pa,queryGiftOrderDetail:ja,onShareStore:Na,queryFenxiaoStores:Ma,isOutRange:Aa,clearCartStoreAll:Ra,queryFenxiaoStoreQr:Ba,queryManjianList:Oa,queryOrderGiftCardList:Ea,queryRevokeLargess:Ia,queryUseGiftCard:La,toPay0Money:Ga,negotiationHistory:Ha,queryApply:Fa,queryReturnGoodsDetail:Ua,queryApplyCancel:za,queryLogistics:Za,queryApplyModify:Va,queryRefundList:Qa,indexAllSearch:on,indexStoreSearch:sn,queryStoreDatasource:rn,queryGoodsProperties:dn,queryIndexGoods:un,queryIndexStores:cn,submitFeedback:Wa,queryAddress:$a,queryBalance:Ka,balanceDetailList:Ya,queryToRecharge:Ja,queryImmediateRecharge:Xa,queryIndexCategory:en,queryIndexCategoryV2:tn,bindSimple:an,queryDatasourceGoodsListPost:nn,queryCollectionGoods:ln,queryCollectionStore:pn,followGoods:hn,unfollowGoods:gn,followStore:fn,unfollowStore:mn,seviceCancelOrder:yn,seviceTailPay:vn,seviceToPay:wn,queryActivity:xn,queryCurrentLives:bn,queryHistoryLives:Dn,queryLiveDetail:Sn,queryFavoriteLives:Cn,queryLiveOrders:Tn,queryMyLives:_n,queryPendingLives:kn,queryPoster:qn,checkPusher:In,checkAlive:jn,shareLive:Ln,playLive:Pn,stopLive:On,playVideo:En,startPush:Nn,stopPush:Mn,addLiveFavorite:An,removeLiveFavorite:Rn,gotoEvaluate:Bn,queryEvaluatePublish:Gn,queryEvaluateList:Fn,queryStoreEvaluate:Hn,queryMyEvaluate:Un,querySetAnonymous:zn,updateShareCode:Vn,queryIndexCityV2:Zn,selectIndexCityV2:Qn,queryIndexSearchCity:Wn,confirmFoodCartOrder:Jn,cyOrderList:$n,cyOrderDetail:Kn,cyOrderCancel:Yn,queryCyTimes:to,cyOrderPay:ao,commitFoodCartOrder:Xn,cyPay0Money:no,queryTableById:eo,queryHomePage:oo,queryHotelDetail:io,queryHotelBrandList:so,queryHotelList:ro,queryMyHotelRoomList:uo,payMyHotelBook:co,cancelMyHotelBook:lo,queryMyHotelRoomDetail:po,toHotelOrder:ho,createHotelOrder:go,getHotelOrderPagSign:fo,queryHotelRoomDetail:mo,queryComHotelSetting:yo,queryIndexGroup:vo,queryGroupService:wo,queryGroupInfo:xo,queryGroupSupply:bo,queryPhotoShare:Do,queryFeixiaoOrderDetail:So,feixiaoCategoryDistList:Co,qeuryInfoCategoryByDsId:To,queryDesignerList:_o,freeQuote:ko,designerDetail:Io,feedbackSave:Lo,quoteList:qo,decorateCompanyCity:Po,decorateCompanyList:jo,decorateCompanyDetail:Oo,qeuryInfoCategoryByGroup:Eo,impressionSee:Mo,impressionPraise:No,pictureList:Ao,querySelectItem:Ro,queryCarStoreHomePage:Bo,queryCarProOrderBuy:Go,queryCarProOrderPay:Fo,queryCarStoresDatasource:Ho,queryCarProjectsDatasource:Uo,queryCarProjectOrders:zo,queryCarProjectOrderDetail:Vo,buyCarProject:Zo,cancelCarProjectOrder:Qo,queryCarProjectPaySign:ni,queryTimesCardList:Wo,queryTimesCardDetail:$o,myTimesCardList:Ko,myTimesCardRecordList:Xo,myTimesCardDetail:Yo,myTimesCardRecordDetail:ei,timesCardToBuy:ti,timesCardToPay:ai,timesCardStoreList:Jo,queryEduList:oi,queryEduCategoryList:ii,markCourse:ui,cancelMarkCourse:ci,queryCourseCommentList:ri,queryCourseById:si,queryFavoriteEduList:di,commnetCourse:li,columnCourseList:pi,orderBuyCourse:hi,orderPayCourse:gi,eduColumnList:fi,saveWxAddress:mi,queryCourseOrderList:yi,childCheckAndSave:vi,querySportImg:wi,queryCourseList:xi,queryBargainListByDataSource:bi,toBargain:Di,helpBargain:Si,bargainSponsorList:Ci,bargainList:Ti,queryLiveComments:_i,createLiveComment:ki,setLiveCommentMute:Ii,buyLive:Li}}),window.define("network/request",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.uploadImg=void 0;var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=e("../utils/const"),v=function(e){return e&&e.__esModule?e:{default:e}}(y),w=function(e,t){var a={url:void 0,method:"GET",qs:void 0,body:void 0,headers:void 0,type:"json",contentType:"application/json",crossOrigin:!0,credentials:void 0},n={};return t?(n=t,e&&(n.url=e)):n=e,n=Object.assign({},a,n)},x=function(e,t){var a="",n=e;if(t&&"object"===(void 0===t?"undefined":m(t))){var o=!0,i=!1,s=void 0;try{for(var r,d=Object.keys(t)[Symbol.iterator]();!(o=(r=d.next()).done);o=!0){var u=r.value;a+="&"+u+"="+t[u]}}catch(e){i=!0,s=e}finally{try{!o&&d.return&&d.return()}finally{if(i)throw s}}a.length>0&&(e.split("?").length<2?a=a.substring(1):0===e.split("?")[1].length&&(a=a.substring(1))),n=-1===e.indexOf("?")?e+"?"+a:""+e+a}return n},b=function(e,t){var a=w(e,t),n=a.method,i=a.body,s=a.headers,r=a.qs,d=a.type,u=a.contentType,c=a.url;r&&(c=x(c,r));var l=s;return s&&s["content-type"]||!u||(l=Object.assign({},s,{"content-type":u})),new Promise(function(t,a){o.request({url:c,method:n,data:i,header:l,dataType:d,success:function(n){n.statusCode<200||n.statusCode>=300||!n.data?a({error:-1,errorMessage:"网络连接异常",request:e,data:n}):0!=n.data.status&&a({error:n.data.status,errorMessage:500==n.data.status?"网络连接错误":n.data.error.msg,data:n.data.error,request:n.data.request,serverTime:n.data.serverTime}),console.log(n.data),t(n.data)},fail:function(t){a({error:-1,errorMessage:"网络连接异常",data:t,request:e})}})})},D=function(e,t,a){return new Promise(function(n,i){o.uploadFile({url:e,filePath:t,name:"file",formData:Object.assign({fileName:"/wechat/supply/${date:yyyy}/${date:MM}/${date:dd}/${uuid}.png",secureKey:v.default.debug?v.default.devUploadSecretKey:v.default.proUploadSecretKey,operate:"save"},a),success:function(t){console.log(t,"res");var a=t.data;0==a.status?n(a):i({error:-1,errorMessage:"图片上传失败",data:a,request:e})},fail:function(t){console.log(t),i({error:-1,errorMessage:"网络连接异常",data:t,request:e})}})})};a.default=b,a.uploadImg=D}),window.define("pages/car/components/btn_action/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var m=e("../../../../network/api"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);a.default={cancelOrder:function(e){var t=e.detail?e.detail.id:e,a=this;o.showModal({title:"提示",content:"确定要取消该订单吗？",success:function(e){e.confirm&&(o.showLoading({title:"请稍候"}),y.default.cancelCarProjectOrder({id:t}).then(function(e){console.log(e),o.hideLoading(),a.showZanToast("订单已取消"),"pages/car/projectorders/index"===a.getCurrentPageUrl()?a.onShow():o.navigateTo({url:"/pages/car/projectorders/index?id="+t})}).catch(function(e){console.log(e),o.hideLoading()}))}})},payOrder:function(e,t,a){var n=e.detail?e.detail.id:t,i=e.detail?e.detail.carNo:a,s=this;s.data.isPaying||(s.setData({isPaying:!0}),o.showLoading({title:"请稍候"}),y.default.queryCarProOrderPay({orderId:n,carNo:i}).then(function(e){0===e.status&&(console.log(e.data),o.hideLoading(),o.requestPayment({timeStamp:e.data.timeStamp+"",nonceStr:e.data.nonceStr,package:e.data.package,signType:"MD5",paySign:e.data.paySign,success:function(){s.setData({isPaying:!1}),"pages/car/projectorders/index"===s.getCurrentPageUrl()?s.onShow():o.navigateTo({url:"/pages/hotel/projectorders/index?id="+n})},fail:function(){s.setData({isPaying:!1})}}))}).catch(function(e){console.log(e),e.data&&e.data.data&&e.data.data.length>0?s.setData({errGoodList:e.data.data}):s.showZanTopTips(y.default.errors(e.error)||e.errorMessage||"网络错误"),s.setData({isPaying:!1}),o.hideLoading()}))},getCurrentPageUrl:function(){var e=getCurrentPages();return e[e.length-1].route}}}),window.define("pages/edu/components/audio/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Component({properties:{course:{type:Object,value:{}}},data:{play:!1,current:0,percent:0,left:0},ready:function(){this.init();var e=this;o.getSystemInfo({success:function(t){e.setData({screenWidth:t.windowWidth})}})},detached:function(){this.innerAudioContext.stop(),this.innerAudioContext.destroy()},methods:{init:function(){var e=this,t=o.createInnerAudioContext();this.innerAudioContext=t,t.src=this.data.course.file,t.onPlay(function(){return e.onPlay()}),t.onPause(function(){return e.onPause()}),t.onStop(function(){return e.onStop()}),t.onEnded(function(){return e.onEnded()}),t.onError(function(t){return e.onError(t)}),t.onTimeUpdate(function(){return e.onTimeUpdate()})},px2rpx:function(e){return 750*e/this.data.screenWidth},tooglePlay:function(){console.log("tooglePlay",this.data.play),this.data.play?this.innerAudioContext.pause():this.validate()},handleProgressChange:function(e){var t=e.changedTouches[0].pageX,a=Math.max(Math.min(this.px2rpx(t),623),33),n=a-33,o=100*n/590,i=this.data.course.duration*o*.01;this.setData({left:n,percent:o,current:i}),this.innerAudioContext.seek(i)},onPlay:function(){console.log("---音频开始播放---",this),this.setData({play:!0})},onPause:function(){console.log("---音频暂停播放---"),this.setData({play:!1})},onStop:function(){console.log("---停止播放---")},onEnded:function(){console.log("---播放结束---"),this.setData({play:!1,current:this.data.course.duration,percent:100,left:590})},onError:function(e){console.log(e.errMsg),console.log(e.errCode)},onWaiting:function(){console.log("缓冲中")},onCanplay:function(){console.log("缓冲完毕")},onTimeUpdate:function(){var e=this.innerAudioContext.currentTime,t=100*e/this.data.course.duration,a=parseInt(.01*t*590);this.setData({current:e,percent:t,left:a})},validate:function(){console.log("校验");var e=o.getStorageSync("userinfo");this.setData({mobile:e.mobile}),e.mobile?this.innerAudioContext.play():this.triggerEvent("showmodal",{},{})}}}),Page({})}),window.define("pages/hotel/components/btn_action/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var m=e("../../../../network/api"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);a.default={cancelOrder:function(e){var t=e.detail?e.detail.id:e,a=this;o.showModal({title:"提示",content:"确定要取消该订单吗？",success:function(e){e.confirm&&(o.showLoading({title:"请稍候"}),y.default.cancelMyHotelBook({id:t}).then(function(e){o.hideLoading(),a.showZanToast("订单已取消"),"pages/hotel/order_detail/index"===a.getCurrentPageUrl()?a.onShow():o.navigateTo({url:"/pages/hotel/order_detail/index?id="+t})}).catch(function(e){console.log(e),o.hideLoading()}))}})},payOrder:function(e,t){var a=e.detail?e.detail.orderNo:e,n=e.detail?e.detail.id:t,i=this;i.data.isPaying||(i.setData({isPaying:!0}),o.showLoading({title:"请稍候"}),y.default.payMyHotelBook({orderNo:a}).then(function(e){0===e.status&&(console.log(e.data),o.hideLoading(),o.requestPayment({timeStamp:e.data.timeStamp+"",nonceStr:e.data.nonceStr,package:e.data.package,signType:"MD5",paySign:e.data.paySign,success:function(e){i.setData({isPaying:!1}),"pages/hotel/order_detail/index"===i.getCurrentPageUrl()?i.onShow():o.navigateTo({url:"/pages/hotel/order_detail/index?id="+n})},fail:function(e){i.setData({isPaying:!1})}}))}).catch(function(e){console.log(e),e.data&&e.data.data&&e.data.data.length>0?i.setData({errGoodList:e.data.data}):i.showZanTopTips(y.default.errors(e.error)||e.errorMessage||"网络错误"),i.setData({isPaying:!1}),o.hideLoading()}))},getCurrentPageUrl:function(){var e=getCurrentPages();return e[e.length-1].route}}}),window.define("pages/logs/logs",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../../utils/util.js");Page({data:{logs:[]},onLoad:function(){this.setData({logs:(o.getStorageSync("logs")||[]).map(function(e){return m.formatTime(new Date(e))})})}})}),window.define("pages/mine/user/profile/filter",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={genderName:function(e){switch(e){case"1":return"男";case"2":return"女";default:return"保密"}}}}),window.define("pages/pingjia/component/textarea/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Component({properties:{pingjiaArray:{type:Array,value:[]}},data:{currentType:0},methods:{onEvaluateItem:function(e){var t=e.currentTarget.dataset.index,a=0==t?-1:1==t?1:2==t?2:3==t?3:4;this.setData({currentType:t,evaluate:a}),this.triggerEvent("onquery",{currentType:this.data.currentType,evaluate:this.data.evaluate})}}}),Page({})}),window.define("pages/shop/carts/index.filter",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={countNum:function(e){var t=0;return e&&e.forEach(function(e){e.selected&&(t+=1)}),t},sumNum:function(e){var t=0;return e&&e.forEach(function(e){e.selected&&(t+=e.quantity)}),t},renderSku:function(e){for(var t=e.split(";"),a=[],n=0;n<t.length;n++){var o=t[n].split(":")[1];o&&o.length>10&&(o=o.substring(0,10)+"..."),a.push(o)}return a.join(";")}}}),window.define("pages/shop/components/store_car/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../../../../network/api"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({properties:{shopId:{type:String,value:""}},data:{data:{},indicatorDots:!1,autoplay:!1,interval:5e3,duration:1e3,isOpen1:!0,isOpen2:!1,pingjiaArray:[{name:"全部",num:0},{name:"好评",num:0},{name:"中评",num:0},{name:"差评",num:0},{name:"有图",num:0}],showDialog:!1,modalData:{},imgUrl:["http://imgcdnali.wfenxiao.com.cn/xcx/c/car/store-normal.png"],currentImage:1},attached:function(){this.getProducts()},methods:{getProducts:function(){var e=this;o.showLoading({title:"请稍候"}),y.default.queryCarStoreHomePage({id:this.data.shopId}).then(function(t){o.hideLoading();var a=t.data.evaluateList;e.setData({data:t.data,store:t.data,pingjiaArray:[{name:"全部",num:a?a.reviewsNum:0},{name:"好评",num:a?a.goodReviewsNum:0},{name:"中评",num:a?a.middleReviewsNum:0},{name:"差评",num:a?a.badReviewsNum:0},{name:"有图",num:a?a.imgReviewsNum:0}],openTime:t.data.openTime.map(function(e){return e.time}).join(),isOpen2:0==t.data.projectList.length}),e.triggerEvent("setStoreDetail",{store:t.data},{bubbles:!0,composed:!0})}).catch(function(e){return console.log(e)})},clickDown:function(e){var t=e.currentTarget.dataset.id;"1"===t?this.setData({isOpen1:!this.data.isOpen1}):"2"===t&&this.setData({isOpen2:!this.data.isOpen2})},onQuery:function(e){var t=e.detail.currentType;o.navigateTo({url:"/pages/pingjia/storeevaluate/index?status="+t+"&sType=7&id="+this.data.data.id+"&openevaluate="+this.data.data.openEvaluate})},showModal:function(){this.setData({showDialog:!this.data.showDialog})},toBuy:function(e){0==e.currentTarget.dataset.skulist.length?o.navigateTo({url:"/pages/car/proordercreate/index?id="+e.currentTarget.dataset.id}):this.setData({showDialog:!this.data.showDialog,modalData:e.currentTarget.dataset})},handleStoreMap:function(){var e=this.data.data;o.openLocation({name:e.brandName,address:e.detailAddress,latitude:parseFloat(e.lat),longitude:parseFloat(e.lng),success:function(e){console.log(e)}})},handlePhone:function(){console.log(this.data.data,"phonephonephonephonephonephonephonephonephonephone");var e=this.data.data,t=e.areaNum,a=e.tel,n=e.extNum,i=[],s=t+"-"+a;n?i.push(s+"转"+n):i.push(s),o.showActionSheet({itemList:i,success:function(e){void 0!=e.tapIndex&&o.makePhoneCall({phoneNumber:i[e.tapIndex].replace("-","").split("转")[0]})}})},swiperChange:function(e){this.setData({currentImage:e.detail.current+1})}}}),Page({})}),window.define("pages/shop/components/store_food/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var v=e("../../../../network/api"),w=m(v),x=e("../../../../behaviors/toast.js"),b=m(x);Component({behaviors:[b.default],properties:{shopId:{type:String,value:""},diningTableNo:{type:String}},data:{shopDefault:{loading:!0,store:{},totalNumber:0,query:{pageNo:0},goodList:[],defaultImg:"http://global.zuzuche.com/assets/images/common/zzc-logo.png"}},attached:function(){this.initStoreo2o()},methods:{initStoreo2o:function(){console.log("this.data.shopId;---------------\x3e",this.data.shopId);var e=void 0,t=this.data.shopDefault;t.shopId=this.data.shopId,t.loading=!0,t.classifySelectedId=0,t.classifySelectedName="",t.classifySelectedSecondId=0,t.classifySelectedSecondName="",t.selectGood=e,t.searchUrl="/pages/shop/search/search?storeid="+this.data.shopId,this.setData({shopDefault:t}),this.queryCategoryList(t.shopId)},queryGoodsList:function(e,t,a){var n=this,i=e||{};t&&o.showLoading({title:"请稍候",mask:!0}),w.default.queryStoreGoodsList(i).then(function(s){t&&o.hideLoading();var r=n.data.shopDefault.goodList;if(n.data.selectGood){if(a&&(r=[],r[0]=n.data.selectGood,console.log("goodList---00->",r)),s.data.data){var d=s.data.data.filter(function(e){return e.id!=n.data.selectGood.id});r=r.concat(d)}}else r=a?s.data.data:r.concat(s.data.data);var u=n.data.shopDefault;u.totalNumber=s.data.total,u.selectGood=null,u.isloadingmore=!1,u.goodList=r,u.loading=!1,u.loadmore=s.data.nextCursor>0,u.query={pageNo:s.data.nextCursor,categoryId:e.categoryId,storeId:n.data.shopDefault.shopId,pId:i.pId||"0"},n.setData({shopDefault:u})}).catch(function(e){console.log(e),o.hideLoading()})},queryCategoryList:function(e){var t=this;e&&w.default.getStorecategoryList({storeId:e}).then(function(e){o.hideLoading();var a=t.data.shopDefault;if(a.store=e.data,a.loading=!1,console.log("tempShopDefault------------\x3e",a),t.setData({shopDefault:a},function(){}),0==t.data.shopDefault.classifySelectedId&&0==t.data.shopDefault.classifySelectedSecondId&&e.data.categoryData.length>0){var n=e.data.categoryData[0].id,i=e.data.categoryData[0].name,s=0,r="";e.data.categoryData[0].categoryList&&e.data.categoryData[0].categoryList.length>0?(s=e.data.categoryData[0].categoryList[0].id,r=e.data.categoryData[0].categoryList[0].name,-30==n?t.queryGoodsList({pId:-30,categoryId:s,storeId:t.data.shopDefault.shopId,pageNo:1},!1,!0):t.queryGoodsList({categoryId:s,storeId:t.data.shopDefault.shopId,pageNo:1},!1,!0)):t.queryGoodsList({categoryId:n,storeId:t.data.shopDefault.shopId,pageNo:1},!1,!0);var d=t.data.shopDefault;d.classifySelectedId=n,d.classifySelectedName=i.trim().split(" "),d.classifySelectedSecondId=s,d.classifySelectedSecondName=r.trim().split(" "),t.setData({shopDefault:d})}else if(t.data.classifySelectedId>0&&""==t.data.classifySelectedName){var u=e.data.categoryData.filter(function(e){return e.id==t.data.classifySelectedId});if(u&&u.length>0){var c=t.data.shopDefault;if(c.classifySelectedName=u[0].name,t.setData({shopDefault:c.classifySelectedName}),t.data.shopDefault.classifySelectedSecondId>0&&""==t.data.shopDefault.classifySelectedSecondName&&u[0].categoryList&&u[0].categoryList.length>0){var l=u[0].categoryList.filter(function(e){return e.id==t.data.shopDefault.classifySelectedSecondId});l&&l.length>0&&t.setData({classifySelectedSecondName:l[0].name.trim().split(" ")})}}}}).catch(function(e){console.log(e),o.hideLoading()})},tapClassify:function(e){var t=e.target.dataset.id,a=e.target.dataset.category;console.log("tapClassify",e.target.dataset);var n=this.data.shopDefault;n.classifySelectedId=a.id,n.classifySelectedName=a.name.trim().split(" "),n.classifySelectedSecondId=0,n.classifySelectedSecondName="",this.setData({shopDefault:n}),a.categoryList&&a.categoryList.length>0?(n.classifySelectedSecondId=a.categoryList[0].id,n.classifySelectedSecondName=a.categoryList[0].name.trim().split(" "),this.setData({shopDefault:n}),-30==t?this.queryGoodsList({pId:-30,categoryId:a.categoryList[0].id,storeId:this.data.shopDefault.shopId,pageNo:1},!0,!0):this.queryGoodsList({categoryId:a.categoryList[0].id,storeId:this.data.shopDefault.shopId,pageNo:1},!0,!0)):this.queryGoodsList({categoryId:t,storeId:this.data.shopDefault.shopId,pageNo:1},!0,!0)},tapSecondClassify:function(e){var t=e.target.dataset.pid,a=e.target.dataset.id,n=e.target.dataset.name;console.log("tapSecondClassify",e.target.dataset);var o=this.data.shopDefault;o.classifySelectedSecondId=a,o.classifySelectedSecondName=n.trim().split(" "),this.setData({shopDefault:o}),-30==t?this.queryGoodsList({pId:-30,categoryId:a,storeId:this.data.shopDefault.shopId,pageNo:1},!0,!0):this.queryGoodsList({categoryId:a,storeId:this.data.shopDefault.shopId,pageNo:1},!0,!0)},goodDetail:function(e){console.log("e---》",e);var t=e.currentTarget.dataset.id;o.navigateTo({url:"/pages/products/show/show?id="+t+"&&isFromShop=true"})},addToCart:function(e){var t=this,a=this,n=e.target.dataset.good;this.setData({currentGood:n});var i=this.data.store;o.showLoading({title:"请稍后",mask:!0}),w.default.queryGoodSku({goodsId:n.id}).then(function(e){if(o.hideLoading(),0==e.status){var s=e.data;s&&s.specs&&s.specs.length>0?(t.setData({"currentGood.num":0,"currentGood.specs":s.specs,"currentGood.skus":s.skus,"currentGood.selectedSpec":new Array(s.specs.length)}),a.toggleDialog(),1==s.specs.length&&s.specs.forEach(function(e,a){var n=e.itemId;e.values.forEach(function(e,o){var i=n+":"+e.itemValueId;s.skus.find(function(e){return e.propertiesValue==i}).quantity<=0&&t.setData(y({},"currentGood.specs["+a+"].values["+o+"].disabled",!0))})})):6!=i.storeType&&n.stock<=0?a.showToast("该商品库存不足！"):w.default.addToCart({goodsId:n.id,quantity:1}).then(function(e){o.hideLoading(),0==e.status?(a.showToast("加入购物车成功！"),a.queryCartInfo(t.data.shopId)):a.showToast("网络连接错误！")}).catch(function(e){console.log("err---\x3e",e),a.showToast(e.data&&e.data.msg?e.data.msg:"网络连接错误！"),o.hideLoading()})}}).catch(function(e){o.hideLoading(),console.log(e)})},toggleDialog:function(){console.log("----O2O----");var e=this.selectComponent("#cartpop");e&&e.toggleDialog()},handleAddToCartSuccess:function(){this.queryCartInfo()},queryCartInfo:function(){var e=this.selectComponent("#cart");e&&e.queryCartInfo()},lower:function(){this.data.shopDefault.loadmore&&!this.data.shopDefault.isloadingmore&&(this.setData({"shopDefault.isloadingmore":!0}),this.queryGoodsList(this.data.shopDefault.query,!1,!1))},setStoreDetail:function(e){console.log("------------setStoreDetail-----------"),this.setData({store:e.detail.store})}}}),Page({})}),window.define("pages/shop/components/store_foodheader/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../../../../network/api"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({properties:{shopId:{type:String,value:""},storeDetail:{type:Object,value:{}}},data:{},attached:function(){this.getStoreDetail()},methods:{getStoreDetail:function(){var e=this;console.log("-------getStoreDetail----aaaaaaaaaaaaaaaaa-",this.data.shopId),o.showLoading({title:"请稍后",mask:!0}),y.default.getStoreDetail({id:this.data.shopId}).then(function(t){o.hideLoading(),e.setData({storeDetail:t.data}),e.triggerEvent("setStoreDetail",{store:t.data},{bubbles:!0,composed:!0})})},jumpstoredetail:function(e){var t=e.currentTarget.dataset.id,a=e.currentTarget.dataset.openevaluate;o.navigateTo({url:"/pages/shop/desc/desc?id="+t+"&openevaluate="+a})},collectionOn:function(){var e=this,t=this.data.storeDetail;t.hasCollection?y.default.unfollowStore({storeId:t.id}).then(function(t){t&&0==t.status&&t.data.result&&e.setData({"storeDetail.hasCollection":!1})}):y.default.followStore({storeId:t.id}).then(function(t){t&&0==t.status&&t.data.result&&e.setData({"storeDetail.hasCollection":!0})})}}}),Page({})}),window.define("pages/shop/components/store_hotel/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var v=e("../../../../utils/util.js"),w=m(v),x=e("../../../../network/api"),b=m(x);Component({properties:{shopId:{type:String,value:""}},data:{indicatorDots:!1,autoplay:!1,interval:5e3,duration:1e3},attached:function(){this.getStoreDetail()},detached:function(){console.log("---酒店首页组件-------detached----------------")},methods:{queryHomePage:function(){var e=this;console.log("queryHomePage-----------"),o.showLoading({title:"请稍后"});var t=this.data.inTimeObj,a="";a=t&&t.startDate?w.default.timestampToYMD(t.startDate):w.default.getcurrentTimeYMD(),b.default.queryHomePage({id:this.data.shopId,inTime:a}).then(function(t){o.hideLoading(),e.setData({hotelPageData:t.data,store:t.data,isShow:!0}),t.data.roomList.length>0&&e.setData(y({},"hotelPageData.roomList[0].checked",!0)),e.triggerEvent("setStoreDetail",{store:t.data},{bubbles:!0,composed:!0})}).catch(function(e){return console.log(e)})},handleChangeTime:function(e){console.log(e,"e"),this.setData({inTimeObj:e.detail},function(){this.queryHomePage()})},toggleOn:function(e){console.log(e);var t=e.currentTarget.dataset,a=t.index,n=t.item;console.log(a,n,"当前的第呢些"),this.setData(y({},"hotelPageData.roomList["+a+"].checked",!n.checked))},handleStoreMap:function(e){console.log(e,"llllllllllllllllllllllllll");var t=e.currentTarget.dataset.hotelpagedata;o.openLocation({name:t.brandName,address:t.detailAddress,latitude:parseFloat(t.lat),longitude:parseFloat(t.lng),success:function(e){console.log(e)}})},gotoHomeDetail:function(e){var t=e.currentTarget.dataset.id;o.navigateTo({url:"/pages/hotel/room_detail/index?id="+t})},toOrder:function(e){var t=o.getStorageSync("userinfo");if(console.log("userinfo",t),!t||!t.mobile)return void this.setData({showModal:!0,url:"/pages/login/login"});var a=this.selectComponent("#hotel-time");i().setFlash("inTimeObj",{startDate:a.data.startDate||0,endDate:a.data.endDate,statistics_data:a.data.statistics_data,inTime_data:a.data.inTime_data,leaveTime_data:a.data.leaveTime_data}),o.navigateTo({url:"/pages/hotel/order_create/index?roomId="+e.currentTarget.dataset.roomid+"&strategyId="+e.currentTarget.dataset.strategyid+"&storeName="+e.currentTarget.dataset.strategyid+"&roomPrice="+e.currentTarget.dataset.strategyid})}}})}),window.define("pages/shop/components/store_o2o/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var v=e("../../../../network/api"),w=m(v),x=e("../../../../behaviors/toast.js"),b=m(x);Component({behaviors:[b.default],properties:{shopId:{type:String,value:""}},data:{shopDefault:{loading:!0,store:{},totalNumber:0,query:{pageNo:0},goodList:[],defaultImg:"http://global.zuzuche.com/assets/images/common/zzc-logo.png"}},attached:function(){this.initStoreo2o()},methods:{initStoreo2o:function(){console.log("this.data.shopId;---------------\x3e",this.data.shopId);var e=void 0,t=this.data.shopDefault;t.shopId=this.data.shopId,t.loading=!0,t.classifySelectedId=0,t.classifySelectedName="",t.classifySelectedSecondId=0,t.classifySelectedSecondName="",t.selectGood=e,t.searchUrl="/pages/shop/search/search?storeid="+this.data.shopId,this.setData({shopDefault:t}),this.queryCategoryList(t.shopId)},queryGoodsList:function(e,t,a){var n=this,i=e||{};t&&o.showLoading({title:"请稍候",mask:!0}),w.default.getStoreGoodsListByCategory(i).then(function(s){t&&o.hideLoading();var r=n.data.shopDefault.goodList;if(n.data.selectGood){if(a&&(r=[],r[0]=n.data.selectGood,console.log("goodList---00->",r)),s.data.data){var d=s.data.data.filter(function(e){return e.id!=n.data.selectGood.id});r=r.concat(d)}}else r=a?s.data.data:r.concat(s.data.data);var u=n.data.shopDefault;u.totalNumber=s.data.total,u.selectGood=null,u.isloadingmore=!1,u.goodList=r,u.loading=!1,u.loadmore=s.data.nextCursor>0,u.query={pageNo:s.data.nextCursor,categoryId:e.categoryId,storeId:n.data.shopDefault.shopId,pId:i.pId||"0"},n.setData({shopDefault:u})}).catch(function(e){console.log(e),o.hideLoading()})},queryCategoryList:function(e){var t=this;e&&w.default.getStorecategoryList({storeId:e}).then(function(e){o.hideLoading();var a=t.data.shopDefault;if(a.store=e.data,a.loading=!1,console.log("tempShopDefault------------\x3e",a),t.setData({shopDefault:a},function(){}),0==t.data.shopDefault.classifySelectedId&&0==t.data.shopDefault.classifySelectedSecondId&&e.data.categoryData.length>0){var n=e.data.categoryData[0].id,i=e.data.categoryData[0].name,s=0,r="";e.data.categoryData[0].categoryList&&e.data.categoryData[0].categoryList.length>0?(s=e.data.categoryData[0].categoryList[0].id,r=e.data.categoryData[0].categoryList[0].name,-30==n?t.queryGoodsList({pId:-30,categoryId:s,storeId:t.data.shopDefault.shopId,pageNo:1},!1,!0):t.queryGoodsList({categoryId:s,storeId:t.data.shopDefault.shopId,pageNo:1},!1,!0)):t.queryGoodsList({categoryId:n,storeId:t.data.shopDefault.shopId,pageNo:1},!1,!0);var d=t.data.shopDefault;d.classifySelectedId=n,d.classifySelectedName=i.trim().split(" "),d.classifySelectedSecondId=s,d.classifySelectedSecondName=r.trim().split(" "),t.setData({shopDefault:d})}else if(t.data.classifySelectedId>0&&""==t.data.classifySelectedName){var u=e.data.categoryData.filter(function(e){return e.id==t.data.classifySelectedId});if(u&&u.length>0){var c=t.data.shopDefault;if(c.classifySelectedName=u[0].name,t.setData({shopDefault:c.classifySelectedName}),t.data.shopDefault.classifySelectedSecondId>0&&""==t.data.shopDefault.classifySelectedSecondName&&u[0].categoryList&&u[0].categoryList.length>0){var l=u[0].categoryList.filter(function(e){return e.id==t.data.shopDefault.classifySelectedSecondId});l&&l.length>0&&t.setData({classifySelectedSecondName:l[0].name.trim().split(" ")})}}}}).catch(function(e){console.log(e),o.hideLoading()})},tapClassify:function(e){var t=e.target.dataset.id,a=e.target.dataset.category;console.log("tapClassify",e.target.dataset);var n=this.data.shopDefault;n.classifySelectedId=a.id,n.classifySelectedName=a.name.trim().split(" "),n.classifySelectedSecondId=0,n.classifySelectedSecondName="",this.setData({shopDefault:n}),a.categoryList&&a.categoryList.length>0?(n.classifySelectedSecondId=a.categoryList[0].id,n.classifySelectedSecondName=a.categoryList[0].name.trim().split(" "),this.setData({shopDefault:n}),-30==t?this.queryGoodsList({pId:-30,categoryId:a.categoryList[0].id,storeId:this.data.shopDefault.shopId,pageNo:1},!0,!0):this.queryGoodsList({categoryId:a.categoryList[0].id,storeId:this.data.shopDefault.shopId,pageNo:1},!0,!0)):this.queryGoodsList({categoryId:t,storeId:this.data.shopDefault.shopId,pageNo:1},!0,!0)},tapSecondClassify:function(e){var t=e.target.dataset.pid,a=e.target.dataset.id,n=e.target.dataset.name;console.log("tapSecondClassify",e.target.dataset);var o=this.data.shopDefault;o.classifySelectedSecondId=a,o.classifySelectedSecondName=n.trim().split(" "),this.setData({shopDefault:o}),-30==t?this.queryGoodsList({pId:-30,categoryId:a,storeId:this.data.shopDefault.shopId,pageNo:1},!0,!0):this.queryGoodsList({categoryId:a,storeId:this.data.shopDefault.shopId,pageNo:1},!0,!0)},goodDetail:function(e){console.log("e---》",e);var t=e.currentTarget.dataset.id;o.navigateTo({url:"/pages/products/show/show?id="+t+"&&isFromShop=true"})},addToCart:function(e){var t=this,a=this,n=e.target.dataset.good;this.setData({currentGood:n}),o.showLoading({title:"请稍后",mask:!0}),w.default.queryGoodSku({goodsId:n.id}).then(function(e){if(o.hideLoading(),0==e.status){var i=e.data;i&&i.specs&&i.specs.length>0?(t.setData({"currentGood.num":0,"currentGood.specs":i.specs,"currentGood.skus":i.skus,"currentGood.selectedSpec":new Array(i.specs.length)}),a.toggleDialog(),1==i.specs.length&&i.specs.forEach(function(e,a){var n=e.itemId;e.values.forEach(function(e,o){var s=n+":"+e.itemValueId;i.skus.find(function(e){return e.propertiesValue==s}).quantity<=0&&t.setData(y({},"currentGood.specs["+a+"].values["+o+"].disabled",!0))})})):n.stock<=0?a.showToast("该商品库存不足！"):w.default.addToCart({goodsId:n.id,quantity:1}).then(function(e){o.hideLoading(),0==e.status?(a.showToast("加入购物车成功！"),a.queryCartInfo(t.data.shopId)):a.showToast("网络连接错误！")}).catch(function(e){console.log("err---\x3e",e),a.showToast(e.data&&e.data.msg?e.data.msg:"网络连接错误！"),o.hideLoading()})}}).catch(function(e){o.hideLoading(),console.log(e)})},toggleDialog:function(){console.log("----O2O----");var e=this.selectComponent("#cartpop");e&&e.toggleDialog()},handleAddToCartSuccess:function(){this.queryCartInfo()},queryCartInfo:function(){var e=this.selectComponent("#cart");e&&e.queryCartInfo()},lower:function(){this.data.shopDefault.loadmore&&!this.data.shopDefault.isloadingmore&&(this.setData({"shopDefault.isloadingmore":!0}),this.queryGoodsList(this.data.shopDefault.query,!1,!1))},setStoreDetail:function(e){this.setData({store:e.detail.store}),console.log(this.data.store,"+++")}}}),Page({})}),window.define("pages/shop/components/store_searchbar/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../../../../network/api");!function(e){e&&e.__esModule}(m);Component({properties:{searchUrl:{type:String,value:"/pages/shop/search/search"},q:{type:String,value:"搜索店内商品"},openType:{type:String,value:"navigate"},shopId:{type:Number}},data:{},attached:function(){},methods:{jumpstoredetail:function(e){var t=e.currentTarget.dataset.id;o.navigateTo({url:"/pages/shop/desc/desc?id="+t})}}}),Page({})}),window.define("pages/shop/components/store_service/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../../../../network/api"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({properties:{shopId:{type:String,value:""}},data:{shopService:{shop:{},products:{data:[],nextCursor:1},loadmore:!1}},attached:function(){},methods:{getProducts:function(e){var t=this,a=e.shopId,n=e.pageNo,o=void 0===n?1:n,i=e.pageSize,s=void 0===i?10:i,r=this.data.shopService.products;y.default.queryStoreGoodsList({storeId:a,pageNo:o,pageSize:s}).then(function(e){var a=[];e&&e.data&&e.data.data&&e.data.data.length>0&&r.pageNo!=e.data.nextCursor&&(a=r.data.concat(e.data.data)),console.log("shopService.products.data-------\x3e",t.data.shopService.products.data),t.setData({"shopService.products":e.data,"shopService.products.data":a})})},onReachBottom:function(){console.log("onReachBottom"),3!=this.data.shopService.shop.storeType&&this.data.shopService.products.nextCursor>0&&!this.data.shopService.loadmore&&(this.setData({"shopServcie.loadmore":!0}),this.getProducts({shopId:this.data.shopId,pageNo:this.data.shopService.products.nextCursor,pageSize:10}))},handleOpenMap:function(){var e=this.data.shopService.shop;console.log("store",e),o.openLocation({name:e.storeName,address:e.detailAddress,latitude:parseFloat(e.lat),longitude:parseFloat(e.lng),success:function(e){console.log(e)}})},callShop:function(e){var t=e.currentTarget.dataset.areanum,a=e.currentTarget.dataset.phone;o.makePhoneCall({phoneNumber:t.toString()+a.toString()})},jumpstoredetail:function(e){var t=e.currentTarget.dataset.id,a=e.currentTarget.dataset.openevaluate;o.navigateTo({url:"/pages/shop/desc/desc?id="+t+"&openevaluate="+a})},setStoreDetail:function(e){this.setData({"shopService.shop":e.detail.store}),3!=e.detail.store.storeType&&this.getProducts({shopId:this.data.shopId})}}}),Page({})}),window.define("utils/bomPolyfill",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};"object"===("undefined"==typeof global?"undefined":m(global))&&(global.Array=Array,global.DataView=DataView,global.Date=Date,global.Error=Error,global.Float32Array=Float32Array,global.Float64Array=Float64Array,global.Function=Function,global.Int8Array=Int8Array,global.Int16Array=Int16Array,global.Int32Array=Int32Array,global.Math=Math,global.Object=Object,global.Promise=Promise,global.RegExp=RegExp,global.String=String,global.TypeError=TypeError,global.Uint8Array=Uint8Array,global.Uint8ClampedArray=Uint8ClampedArray,global.Uint16Array=Uint16Array,global.Uint32Array=Uint32Array,global.WeakMap=WeakMap,global.clearTimeout=clearTimeout,global.isFinite=isFinite,global.parseInt=parseInt,global.setTimeout=setTimeout,void 0===s&&(global.window=global))}),window.define("utils/city",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){for(var t=[],a=0;a<y.length;a++){var n=y[a],o=[],i={};i.initial=n;for(var s=0;s<e.length;s++)n==e[s].initial&&o.push(e[s]);i.cityInfo=o,t.push(i)}return t}Object.defineProperty(a,"__esModule",{value:!0});var y=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","Q","R","S","T","W","X","Y","Z"];a.default={searchLetter:y,cityList:m}}),window.define("utils/const",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={debug:!1,log:!0,devEndPoint:"https://test.huokebao.net/otowap/s/baidu",proEndPoint:"https://xcx.huokebao.net/otowap/s/baidu",devTongji:"https://xcx.yunfenxiao.com.cn/otowap/s",proTongji:"https://xcx.huokebao.net/xcxtj/s",devUploadEndPoint:"https://test.huokebao.net/imgmgr/",proUploadEndPoint:"https://xcx.huokebao.net/imgupload/",devUploadSecretKey:"xcvb0c8vf0b8d0f8gsdf0sd",proUploadSecretKey:"12345678",action:{LOGIN:"LOGIN",ORDER_PAID:"ORDER_PAI",ORDER_CREATED:"ORDER_CREATED",LOCATION_CHANGED:"LOCATION_CHANGED",HOTEL_LOCATION_CHANGED:"HOTEL_LOCATION_CHANGED",ADDRESS_CHANGED:"ADDRESS_CHANGED",GOTO_SHOP:"GOTO_SHOP",NEW_ORDER:"NEW_ORDER",SELECT_CARD_AND_COUPON:"SELECT_CARD_AND_COUPON",SELECT_GIFTCARD:"SELECT_GIFTCARD",ADDRESS_SUCCESS:"ADDRESS_SUCCESS",ADDRESS_LOCATION_SUCCESS:"ADDRESS_LOCATION_SUCCESS",YUYUE_SERVICE:"YUYUE_SERVICE",YUYUE_STAFF:"YUYUE_STAFF",SEARCH_CITY:"SEARCH_CITY",SUPPLY_TYPE:"SUPPLY_TYPE",QUERY_CONFIG_SUCCESS:"QUERY_CONFIG_SUCCESS",BIND_PHONE_SUCCESS:"BIND_PHONE_SUCCESS",HOTEL_DATE_CHANGED:"HOTEL_DATE_CHANGED",HOTEL_SEARCH_DATA:"HOTEL_SEARCH_DATA",CUT_PRICE_SUCCESS:"CUT_PRICE_SUCCESS"}}}),window.define("utils/es6-promise.min",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,o){"object"==(void 0===a?"undefined":m(a))&&void 0!==t?t.exports=o():"function"==typeof n&&n.amd?n(o):e.ES6Promise=o()}(void 0,function(){function t(e){return"function"==typeof e||"object"==(void 0===e?"undefined":m(e))&&null!==e}function a(e){return"function"==typeof e}function n(e){Q=e}function o(e){W=e}function i(){return void 0!==Z?function(){Z(c)}:d()}function d(){var e=setTimeout;return function(){return e(c,1)}}function c(){for(var e=0;e<V;e+=2){(0,ee[e])(ee[e+1]),ee[e]=void 0,ee[e+1]=void 0}V=0}function l(e,t){var a=arguments,n=this,o=new this.constructor(h);void 0===o[ae]&&O(o);var i=n._state;return i?function(){var e=a[i-1];W(function(){return q(i,o,e,n._result)})}():_(n,o,e,t),o}function p(e){var t=this;if(e&&"object"==(void 0===e?"undefined":m(e))&&e.constructor===t)return e;var a=new t(h);return D(a,e),a}function h(){}function g(){return new TypeError("You cannot resolve a promise with itself")}function f(){return new TypeError("A promises callback cannot return that same promise.")}function y(e){try{return e.then}catch(e){return se.error=e,se}}function v(e,t,a,n){try{e.call(t,a,n)}catch(e){return e}}function w(e,t,a){W(function(e){var n=!1,o=v(a,t,function(a){n||(n=!0,t!==a?D(e,a):C(e,a))},function(t){n||(n=!0,T(e,t))},"Settle: "+(e._label||" unknown promise"));!n&&o&&(n=!0,T(e,o))},e)}function x(e,t){t._state===oe?C(e,t._result):t._state===ie?T(e,t._result):_(t,void 0,function(t){return D(e,t)},function(t){return T(e,t)})}function b(e,t,n){t.constructor===e.constructor&&n===l&&t.constructor.resolve===p?x(e,t):n===se?(T(e,se.error),se.error=null):void 0===n?C(e,t):a(n)?w(e,t,n):C(e,t)}function D(e,a){e===a?T(e,g()):t(a)?b(e,a,y(a)):C(e,a)}function S(e){e._onerror&&e._onerror(e._result),k(e)}function C(e,t){e._state===ne&&(e._result=t,e._state=oe,0!==e._subscribers.length&&W(k,e))}function T(e,t){e._state===ne&&(e._state=ie,e._result=t,W(S,e))}function _(e,t,a,n){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+oe]=a,o[i+ie]=n,0===i&&e._state&&W(k,e)}function k(e){var t=e._subscribers,a=e._state;if(0!==t.length){for(var n=void 0,o=void 0,i=e._result,s=0;s<t.length;s+=3)n=t[s],o=t[s+a],n?q(a,n,o,i):o(i);e._subscribers.length=0}}function I(){this.error=null}function L(e,t){try{return e(t)}catch(e){return re.error=e,re}}function q(e,t,n,o){var i=a(n),s=void 0,r=void 0,d=void 0,u=void 0;if(i){if(s=L(n,o),s===re?(u=!0,r=s.error,s.error=null):d=!0,t===s)return void T(t,f())}else s=o,d=!0;t._state!==ne||(i&&d?D(t,s):u?T(t,r):e===oe?C(t,s):e===ie&&T(t,s))}function P(e,t){try{t(function(t){D(e,t)},function(t){T(e,t)})}catch(t){T(e,t)}}function j(){return de++}function O(e){e[ae]=de++,e._state=void 0,e._result=void 0,e._subscribers=[]}function E(e,t){this._instanceConstructor=e,this.promise=new e(h),this.promise[ae]||O(this.promise),z(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?C(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&C(this.promise,this._result))):T(this.promise,N())}function N(){return new Error("Array Methods must be provided an Array")}function M(e){return new E(this,e).promise}function A(e){var t=this;return new t(z(e)?function(a,n){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(a,n)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function R(e){var t=this,a=new t(h);return T(a,e),a}function B(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function G(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function F(e){this[ae]=j(),this._result=this._state=void 0,this._subscribers=[],h!==e&&("function"!=typeof e&&B(),this instanceof F?P(this,e):G())}function H(){var e=void 0;if("undefined"!=typeof global)e=global;else if(void 0!==u)e=u;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var a=null;try{a=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===a&&!t.cast)return}e.Promise=F}var U=void 0;U=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var z=U,V=0,Z=void 0,Q=void 0,W=function(e,t){ee[V]=e,ee[V+1]=t,2===(V+=2)&&(Q?Q(c):te())},$=void 0!==s?s:void 0,K=$||{},Y=K.MutationObserver||K.WebKitMutationObserver,J=void 0===u&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),X="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ee=new Array(1e3),te=void 0;te=J?function(){return function(){return process.nextTick(c)}}():Y?function(){var e=0,t=new Y(c),a=r.createTextNode("");return t.observe(a,{characterData:!0}),function(){a.data=e=++e%2}}():X?function(){var e=new MessageChannel;return e.port1.onmessage=c,function(){return e.port2.postMessage(0)}}():void 0===$&&"function"==typeof e?function(){try{var t=e,a=t("vertx");return Z=a.runOnLoop||a.runOnContext,i()}catch(e){return d()}}():d();var ae=Math.random().toString(36).substring(16),ne=void 0,oe=1,ie=2,se=new I,re=new I,de=0;return E.prototype._enumerate=function(){for(var e=this.length,t=this._input,a=0;this._state===ne&&a<e;a++)this._eachEntry(t[a],a)},E.prototype._eachEntry=function(e,t){var a=this._instanceConstructor,n=a.resolve;if(n===p){var o=y(e);if(o===l&&e._state!==ne)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(a===F){var i=new a(h);b(i,e,o),this._willSettleAt(i,t)}else this._willSettleAt(new a(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},E.prototype._settledAt=function(e,t,a){var n=this.promise;n._state===ne&&(this._remaining--,e===ie?T(n,a):this._result[t]=a),0===this._remaining&&C(n,this._result)},E.prototype._willSettleAt=function(e,t){var a=this;_(e,void 0,function(e){return a._settledAt(oe,t,e)},function(e){return a._settledAt(ie,t,e)})},F.all=M,F.race=A,F.resolve=p,F.reject=R,F._setScheduler=n,F._setAsap=o,F._asap=W,F.prototype={constructor:F,then:l,catch:function(e){return this.then(null,e)}},F.polyfill=H,F.Promise=F,F})}),window.define("utils/form",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var m={id:1,name:"我是自定义表单",config:{mode:"row/column",marginBottom:"10rpx",backgroundColor:"#ffffff"},submit:{name:"确定",backgroundColor:"red",fontColor:"black",toast:"表单提交成功"},fields:[{name:"field99",label:"我是个picker",type:"picker",placeholder:"请选择",options:[{id:1,value:"男",checked:!0},{id:2,value:"女"}],validations:{presence:{allowEmpty:!1}}},{name:"field1",label:"姓名",type:"text",placeholder:"请填写姓名",validations:{presence:{allowEmpty:!1}}},{name:"field2",label:"手机号",type:"text",placeholder:"请填写手机号码",validations:{presence:{allowEmpty:!1},cellphone:!0}},{name:"field3",label:"电子邮箱",type:"text",placeholder:"请填写电子邮箱",validations:{presence:{allowEmpty:!1},email:!0}},{name:"field4",label:"个人主页",type:"text",placeholder:"请填写个人主页地址",validations:{presence:{allowEmpty:!1},url:!0}},{name:"field5",label:"身份证号",type:"text",placeholder:"请填写身份证号码",validations:{presence:{allowEmpty:!1},idcard:!0}},{name:"field15",label:"电话号码",type:"number",placeholder:"请填写身份证号码",validations:{presence:{allowEmpty:!1},numericality:{onlyInteger:!1,greaterThanOrEqualTo:0,lessThanOrEqualTo:30,decimal:2}}},{name:"field6",type:"radio",mode:"text",label:"性别",options:[{id:1,value:"男",checked:!0},{id:2,value:"女"}],validations:{presence:{allowEmpty:!1}}},{name:"field7",type:"radio",mode:"image",label:"请选择照片",options:[{id:1,checked:!0,imgUrl:"https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=1287740963,2048179542&fm=27&gp=0.jpg",value:"男"},{id:2,imgUrl:"https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=343974559,780603549&fm=27&gp=0.jpg",value:"女"},{id:3,imgUrl:"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=3702339158,635303188&fm=11&gp=0.jpg",value:"女"},{id:4,imgUrl:"https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=3052387893,146229132&fm=27&gp=0.jpg",value:"女"},{id:5,imgUrl:"https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=2242980108,2232816867&fm=27&gp=0.jpg",value:"女"},{id:6,imgUrl:"https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=752075015,280752760&fm=27&gp=0.jpg",value:"女"}],validations:{presence:{allowEmpty:!1}}},{name:"field8",type:"checkbox",label:"爱好",mode:"text",options:[{id:1,value:"请选择出生日期请选择出生日期请选择出生日期请选择出生日期请选择出生日期哈哈哈",checked:!0},{id:2,value:"呵呵呵",checked:!0}],validations:{presence:{allowEmpty:!1}}},{name:"field9",type:"checkbox",label:"喜欢的美女",mode:"image",options:[{id:1,imgUrl:"https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=898521012,1901217851&fm=27&gp=0.jpg",value:"哈哈哈"},{id:2,imgUrl:"https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=1341080178,3231779462&fm=200&gp=0.jpg",value:"呵呵呵"}],validations:{presence:{allowEmpty:!1}}},{name:"field10",type:"date",mode:"date",label:"出生日期",placeholder:"请选择出生日期",validations:{presence:{allowEmpty:!1}}},{name:"field11",type:"date",mode:"datetime",label:"到店时间",placeholder:"请选择到店时间",validations:{presence:{allowEmpty:!1}}},{name:"field12",type:"date",mode:"time",label:"每天郁闷时间",placeholder:"请选择时间",validations:{presence:{allowEmpty:!1}}},{name:"field13",type:"location",label:"家庭住址",placeholder:"请填写家庭住址",validations:{presence:{allowEmpty:!1}}},{name:"field14",type:"upload",label:"上传个人美拍照",validations:{presence:{allowEmpty:!1},length:{maximum:3}}},{name:"field17",type:"textarea",label:"上传个人美拍照",placeholder:"上传个人美拍照",validations:{presence:{allowEmpty:!1}}}]};a.default=m}),window.define("utils/location",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var y=e("../network/api.js"),v=m(y),w=e("./es6-promise.min.js"),x=m(w),b=e("./notification"),D=m(b),S=e("./const.js"),C=m(S),c={authLocation:function(){return new x.default(function(e,t){o.getSetting({success:function(a){console.log(a),a.authSetting["scope.userLocation"]?e(!0):o.authorize({scope:"scope.userLocation",success:function(t){e(t)},fail:function(){t("auth failed")}})},fail:function(){t("open setting failed")}})})},queryLocation:function(){var e={},t=new x.default(function(e,t){setTimeout(function(){t("timeout")},5e3)}),a=new x.default(function(t,a){o.getLocation({type:"wgs84",success:function(a){a.latitude,a.longitude;e=Object.assign({},e,a),t(e)},fail:function(){console.log("---get location failed----"),a("get location failed")}})});return x.default.race([t,a])},getLocation:function(){var e={};return this.queryLocation().then(function(t){return e=Object.assign({},e,t),v.default.getUserLocation({latitude:e.latitude,longitude:e.longitude,type:1})}).then(function(t){return e=Object.assign({},e,t.data),i().globalData.location=e,o.setStorageSync("location",e),D.default.post(C.default.action.LOCATION_CHANGED,e),x.default.resolve(t.data)})},getLocationInfo:function(){var e={};return this.queryLocation().then(function(t){return e=Object.assign({},e,t),v.default.getUserLocationInfo({latitude:e.latitude,longitude:e.longitude,type:1})}).then(function(t){return e=Object.assign({},e,t.data),x.default.resolve(t.data)})},ensureLocation:function(e){var t=this;return e.isEnableLocation?this.authLocation().then(function(e){return t.getLocation()}).catch(function(e){return x.default.reject(e)}):x.default.resolve("no need location")}};a.default=c}),window.define("utils/notification",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var m={notificationCenter:{},register:function(e,t,a){if(e&&t&&a){console.log("注册通知：",e,t);var n=this.notificationCenter,o=n[e];o||(o=[]),this.remove(e,t),o.push({observer:t,func:a}),n[e]=o}},remove:function(e,t){if(e&&t){console.log("移除通知：",e);var a=this.notificationCenter,n=a[e];if(n){var o,i;for(o=0;o<n.length;o++){var s=n[o];if(s.observer==t){i=s;break}}i&&n.splice(o,1),a[e]=n}}},post:function(e,t){var a={};if(a.data=t,e){console.log("发送通知：",e,t);var n=this.notificationCenter[e];n&&0!=n.length&&(a.name=e,n.forEach(function(e){if(e.observer){var t;e.action&&(t=e.observer[e.action]),t||(t=e.func),t&&(a.observer=e.observer,t(a))}}),console.log("完成向 ",n.length," 个监听者发出通知：",e))}}};a.default=m}),window.define("utils/util",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(){for(var e=arguments[0],t=arguments.length,a=1;a<t;a++){var n=arguments[a];for(var o in n)if("object"==q(n[o])){var i=n[o];e.data||(e.data={}),e.data[o]=i}else e[o]=n[o]}return e}function y(e){return"function"==typeof e}function v(e){return encodeURIComponent(JSON.stringify(e))}function w(e){return JSON.parse(decodeURIComponent(e))}function x(e){return!!/^1(3|4|5|7|8)\d{9}$/.test(e)}function b(e){if(e<=0)return{days:"00",hours:"00",minutes:"00",seconds:"00"};var t=parseInt(e/60/60/24,10),a=parseInt(e/60/60%24,10),n=parseInt(e/60%60,10),o=parseInt(e%60,10);return t=D(t),a=D(a),n=D(n),o=D(o),{days:t,hours:a,minutes:n,seconds:o}}function D(e){return e<10&&(e="0"+e),e}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd hh:mm:ss",a={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in a)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?a[n]:("00"+a[n]).substr((""+a[n]).length)));return t}function C(e){var t=new Date;t.setDate(t.getDate()+e);var a=t.getMonth()+1,n=t.getDate();return(a>9?a:"0"+a+"月")+(n>9?n:"0"+n)+"日"}function T(e,t){var a=new Date(e),n=a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1,o=a.getDate(),i=(e-new Date((new Date).setHours(0,0,0,0)))/864e5,s="";if(t)switch(i){case 0:s=" 今天";break;case 1:s=" 明天";break;case 2:s=" 后天"}return n+"月"+(o>9?o:"0"+o)+"日"+s}function _(e){var t=new Date(e),a=t.getFullYear(),n=t.getMonth()+1;n=n<10?"0"+n:n;var o=t.getDate();return o=o<10?"0"+o:o,a+"-"+n+"-"+o}function k(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1;a=a<10?"0"+a:a;var n=e.getDate();return n=n<10?"0"+n:n,console.log("getcurrentTimeYMD===>",t+"-"+a+"-"+n),t+"-"+a+"-"+n}function I(e){var t=new Date;t.setDate(t.getDate()+e);var a=t.getFullYear(),n=t.getMonth()+1,o=t.getDate();return a+"-"+(n>9?n:"0"+n+"-")+(o>9?o:"0"+o)}function L(e,t){if(t.properties){e.properties||(e.properties={});for(var a in t.properties)e.properties[a]=t.properties[a]}if(t.data){e.data||(e.data={});for(var n in t.data)e.data[n]=t.data[n]}if(t.methods)for(var o in t.methods)e[o]=t.methods[o].bind(e)}Object.defineProperty(a,"__esModule",{value:!0});var q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};a.bindBehavior=L,t.exports={bindBehavior:L,renderTimer:b,testMobile:x,registComp:m,isFunction:y,stringify:v,parse:w,formatTime:S,getDateStr:C,timestampToTime:T,getcurrentTimeYMD:k,timestampToYMD:_,getDateYMD:I}}),window.define("utils/validate",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(e,t,a){var n=function e(t,a,n){n=o.extend({},o.options,n);var i=o.runValidations(t,a,n);if(i.some(function(e){return o.isPromise(e.error)}))throw new Error("Use validate.async if you want support for promises");return e.processValidationResults(i,n)},o=n;o.extend=function(e){return[].slice.call(arguments,1).forEach(function(t){for(var a in t)e[a]=t[a]}),e},o.extend(n,{version:{major:0,minor:12,patch:0,metadata:"development",toString:function(){var e=o.format("%{major}.%{minor}.%{patch}",o.version);return o.isEmpty(o.version.metadata)||(e+="+"+o.version.metadata),e}},Promise:"undefined"!=typeof Promise?Promise:null,EMPTY_STRING_REGEXP:/^\s*$/,runValidations:function(e,t,a){var n,i,s,r,d,u,c,l=[];(o.isDomElement(e)||o.isJqueryElement(e))&&(e=o.collectFormValues(e));for(n in t){s=o.getDeepObjectValue(e,n),r=o.result(t[n],s,e,n,a,t);for(i in r){if(!(d=o.validators[i]))throw c=o.format("Unknown validator %{name}",{name:i}),new Error(c);u=r[i],u=o.result(u,s,e,n,a,t),u&&l.push({attribute:n,value:s,validator:i,globalOptions:a,attributes:e,options:u,error:d.call(d,s,u,n,e,a)})}}return l},processValidationResults:function(e,t){e=o.pruneEmptyErrors(e,t),e=o.expandMultipleErrors(e,t);var a=t.format||"grouped";if("function"!=typeof o.formatters[a])throw new Error(o.format("Unknown format %{format}",t));return e=o.formatters[a](e),o.isEmpty(e)?void 0:e},async:function(e,t,a){a=o.extend({},o.async.options,a);var n=a.wrapErrors||function(e){return e};!1!==a.cleanAttributes&&(e=o.cleanAttributes(e,t));var i=o.runValidations(e,t,a);return new o.Promise(function(s,r){o.waitForResults(i).then(function(){var d=o.processValidationResults(i,a);d?r(new n(d,a,e,t)):s(e)},function(e){r(e)})})},single:function(e,t,a){return a=o.extend({},o.single.options,a,{format:"flat",fullMessages:!1}),o({single:e},{single:t},a)},waitForResults:function(e){return e.reduce(function(e,t){return o.isPromise(t.error)?e.then(function(){return t.error.then(function(e){t.error=e||null})}):e},new o.Promise(function(e){e()}))},result:function(e){var t=[].slice.call(arguments,1);return"function"==typeof e&&(e=e.apply(null,t)),e},isNumber:function(e){return"number"==typeof e&&!isNaN(e)},isFunction:function(e){return"function"==typeof e},isInteger:function(e){return o.isNumber(e)&&e%1==0},isBoolean:function(e){return"boolean"==typeof e},isObject:function(e){return e===Object(e)},isDate:function(e){return e instanceof Date},isDefined:function(e){return null!==e&&void 0!==e},isPromise:function(e){return!!e&&o.isFunction(e.then)},isJqueryElement:function(e){return e&&o.isString(e.jquery)},isDomElement:function(e){return!!e&&(!(!e.querySelectorAll||!e.querySelector)&&(!(!o.isObject(r)||e!==r)||("object"===("undefined"==typeof HTMLElement?"undefined":m(HTMLElement))?e instanceof HTMLElement:e&&"object"===(void 0===e?"undefined":m(e))&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName)))},isEmpty:function(e){var t;if(!o.isDefined(e))return!0;if(o.isFunction(e))return!1;if(o.isString(e))return o.EMPTY_STRING_REGEXP.test(e);if(o.isArray(e))return 0===e.length;if(o.isDate(e))return!1;if(o.isObject(e)){for(t in e)return!1;return!0}return!1},format:o.extend(function(e,t){return o.isString(e)?e.replace(o.format.FORMAT_REGEXP,function(e,a,n){return"%"===a?"%{"+n+"}":String(t[n])}):e},{FORMAT_REGEXP:/(%?)%\{([^\}]+)\}/g}),prettify:function(e){return o.isNumber(e)?100*e%1==0?""+e:parseFloat(Math.round(100*e)/100).toFixed(2):o.isArray(e)?e.map(function(e){return o.prettify(e)}).join(", "):o.isObject(e)?e.toString():(e=""+e,e.replace(/([^\s])\.([^\s])/g,"$1 $2").replace(/\\+/g,"").replace(/[_-]/g," ").replace(/([a-z])([A-Z])/g,function(e,t,a){return t+" "+a.toLowerCase()}).toLowerCase())},stringifyValue:function(e,t){return(t&&t.prettify||o.prettify)(e)},isString:function(e){return"string"==typeof e},isArray:function(e){return"[object Array]"==={}.toString.call(e)},isHash:function(e){return o.isObject(e)&&!o.isArray(e)&&!o.isFunction(e)},contains:function(e,t){return!!o.isDefined(e)&&(o.isArray(e)?-1!==e.indexOf(t):t in e)},unique:function(e){return o.isArray(e)?e.filter(function(e,t,a){return a.indexOf(e)==t}):e},forEachKeyInKeypath:function(e,t,a){if(o.isString(t)){var n,i="",s=!1;for(n=0;n<t.length;++n)switch(t[n]){case".":s?(s=!1,i+="."):(e=a(e,i,!1),i="");break;case"\\":s?(s=!1,i+="\\"):s=!0;break;default:s=!1,i+=t[n]}return a(e,i,!0)}},getDeepObjectValue:function(e,t){if(o.isObject(e))return o.forEachKeyInKeypath(e,t,function(e,t){if(o.isObject(e))return e[t]})},collectFormValues:function(e,t){var a,n,i,s,r,d,u={};if(o.isJqueryElement(e)&&(e=e[0]),!e)return u;for(t=t||{},s=e.querySelectorAll("input[name], textarea[name]"),a=0;a<s.length;++a)i=s.item(a),o.isDefined(i.getAttribute("data-ignored"))||(name=i.name.replace(/\./g,"\\\\."),d=o.sanitizeFormValue(i.value,t),"number"===i.type?d=d?+d:null:"checkbox"===i.type?i.attributes.value?i.checked||(d=u[name]||null):d=i.checked:"radio"===i.type&&(i.checked||(d=u[name]||null)),u[name]=d);for(s=e.querySelectorAll("select[name]"),a=0;a<s.length;++a)if(i=s.item(a),!o.isDefined(i.getAttribute("data-ignored"))){if(i.multiple){d=[];for(n in i.options)(r=i.options[n])&&r.selected&&d.push(o.sanitizeFormValue(r.value,t))}else{var c=void 0!==i.options[i.selectedIndex]?i.options[i.selectedIndex].value:"";d=o.sanitizeFormValue(c,t)}u[i.name]=d}return u},sanitizeFormValue:function(e,t){return t.trim&&o.isString(e)&&(e=e.trim()),!1!==t.nullify&&""===e?null:e},capitalize:function(e){return o.isString(e)?e[0].toUpperCase()+e.slice(1):e},pruneEmptyErrors:function(e){return e.filter(function(e){return!o.isEmpty(e.error)})},expandMultipleErrors:function(e){var t=[];return e.forEach(function(e){o.isArray(e.error)?e.error.forEach(function(a){t.push(o.extend({},e,{error:a}))}):t.push(e)}),t},convertErrorMessages:function(e,t){t=t||{};var a=[],n=t.prettify||o.prettify;return e.forEach(function(e){var i=o.result(e.error,e.value,e.attribute,e.options,e.attributes,e.globalOptions);if(!o.isString(i))return void a.push(e);"^"===i[0]?i=i.slice(1):!1!==t.fullMessages&&(i=o.capitalize(n(e.attribute))+" "+i),i=i.replace(/\\\^/g,"^"),i=o.format(i,{value:o.stringifyValue(e.value,t)}),a.push(o.extend({},e,{error:i}))}),a},groupErrorsByAttribute:function(e){var t={};return e.forEach(function(e){var a=t[e.attribute];a?a.push(e):t[e.attribute]=[e]}),t},flattenErrorsToArray:function(e){return e.map(function(e){return e.error}).filter(function(e,t,a){return a.indexOf(e)===t})},cleanAttributes:function(e,t){function a(e,t,a){return o.isObject(e[t])?e[t]:e[t]=!!a||{}}function n(e,t){if(!o.isObject(e))return e;var a,i,s=o.extend({},e);for(i in e)a=t[i],o.isObject(a)?s[i]=n(s[i],a):a||delete s[i];return s}return o.isObject(t)&&o.isObject(e)?(t=function(e){var t,n={};for(t in e)e[t]&&o.forEachKeyInKeypath(n,t,a);return n}(t),n(e,t)):{}},exposeModule:function(e,t,a,n,o){a?(n&&n.exports&&(a=n.exports=e),a.validate=e):(t.validate=e,e.isFunction(o)&&o.amd&&o([],function(){return e}))},warn:function(e){"undefined"!=typeof console&&console.warn&&console.warn("[validate.js] "+e)},error:function(e){"undefined"!=typeof console&&console.error&&console.error("[validate.js] "+e)}}),n.validators={presence:function(e,t){if(t=o.extend({},this.options,t),!1!==t.allowEmpty?!o.isDefined(e):o.isEmpty(e))return"不能为空"},length:function(e,t,a){if(o.isDefined(e)){t=o.extend({},this.options,t);var n,i=t.is,s=t.maximum,r=t.minimum,d=t.tokenizer||function(e){return e},u=[];e=d(e);var c=e.length;return o.isNumber(c)?(o.isNumber(i)&&c!==i&&(n=t.wrongLength||this.wrongLength||"is the wrong length (should be %{count} characters)",u.push(o.format(n,{count:i}))),o.isNumber(r)&&c<r&&(n=t.tooShort||this.tooShort||"is too short (minimum is %{count} characters)",u.push(o.format(n,{count:r}))),o.isNumber(s)&&c>s&&(n=t.tooLong||this.tooLong||"is too long (maximum is %{count} characters)",u.push(o.format(n,{count:s}))),u.length>0?t.message||u:void 0):t.message||this.notValid||"has an incorrect length"}},numericality:function(e,t,a,n,i){if(o.isDefined(e)&&!o.isEmpty(e)){t=o.extend({},this.options,t);var s,r,d=[],u={greaterThan:function(e,t){return e>t},greaterThanOrEqualTo:function(e,t){return e>=t},equalTo:function(e,t){return e===t},lessThan:function(e,t){return e<t},lessThanOrEqualTo:function(e,t){return e<=t},divisibleBy:function(e,t){return e%t==0}},c=t.prettify||i&&i.prettify||o.prettify;if(o.isString(e)&&t.strict){var l="^-?(0|[1-9]\\d*)";if(t.onlyInteger||(l+="(\\.\\d+)?"),l+="$",!new RegExp(l).test(e))return t.message||t.notValid||this.notValid||this.message||"必须是数字"}if(!0!==t.noStrings&&o.isString(e)&&!o.isEmpty(e)&&(e=+e),!o.isNumber(e))return t.message||t.notValid||this.notValid||this.message||"必须是数字";if(t.onlyInteger&&!o.isInteger(e))return t.message||t.notInteger||this.notInteger||this.message||"必须是整数";if(!t.onlyInteger&&t.decimal){var p=e.toString().split(".")[1];if(p&&p.length>t.decimal)return"最多允许"+t.decimal+"位小数"}for(s in u)if(r=t[s],o.isNumber(r)&&!u[s](e,r)){var h="not"+o.capitalize(s),g=t[h]||this[h]||this.message||"必须%{type} %{count}",f=void 0;switch(s){case"greaterThan":f="大于";break;case"greaterThanOrEqualTo":f="大于等于";break;case"lessThan":f="小于";break;case"lessThanOrEqualTo":f="小于等于";break;default:f=s}d.push(o.format(g,{count:r,type:c(f)}))}return t.odd&&e%2!=1&&d.push(t.notOdd||this.notOdd||this.message||"must be odd"),t.even&&e%2!=0&&d.push(t.notEven||this.notEven||this.message||"must be even"),d.length?t.message||d:void 0}},datetime:o.extend(function(e,t){if(!o.isFunction(this.parse)||!o.isFunction(this.format))throw new Error("Both the parse and format functions needs to be set to use the datetime/date validator");if(o.isDefined(e)){t=o.extend({},this.options,t);var a,n=[],i=t.earliest?this.parse(t.earliest,t):NaN,s=t.latest?this.parse(t.latest,t):NaN;return e=this.parse(e,t),isNaN(e)||t.dateOnly&&e%864e5!=0?(a=t.notValid||t.message||this.notValid||"must be a valid date",o.format(a,{value:arguments[0]})):(!isNaN(i)&&e<i&&(a=t.tooEarly||t.message||this.tooEarly||"must be no earlier than %{date}",a=o.format(a,{value:this.format(e,t),date:this.format(i,t)}),n.push(a)),!isNaN(s)&&e>s&&(a=t.tooLate||t.message||this.tooLate||"must be no later than %{date}",a=o.format(a,{date:this.format(s,t),value:this.format(e,t)}),n.push(a)),n.length?o.unique(n):void 0)}},{parse:null,format:null}),date:function(e,t){return t=o.extend({},t,{dateOnly:!0}),o.validators.datetime.call(o.validators.datetime,e,t)},format:function(e,t){(o.isString(t)||t instanceof RegExp)&&(t={pattern:t}),t=o.extend({},this.options,t);var a,n=t.message||this.message||"is invalid",i=t.pattern;if(o.isDefined(e))return o.isString(e)?(o.isString(i)&&(i=new RegExp(t.pattern,t.flags)),a=i.exec(e),a&&a[0].length==e.length?void 0:n):n},inclusion:function(e,t){if(o.isDefined(e)&&(o.isArray(t)&&(t={within:t}),t=o.extend({},this.options,t),!o.contains(t.within,e))){var a=t.message||this.message||"^%{value} is not included in the list";return o.format(a,{value:e})}},exclusion:function(e,t){if(o.isDefined(e)&&(o.isArray(t)&&(t={within:t}),t=o.extend({},this.options,t),o.contains(t.within,e))){var a=t.message||this.message||"^%{value} is restricted";return o.isString(t.within[e])&&(e=t.within[e]),o.format(a,{value:e})}},email:o.extend(function(e,t){t=o.extend({},this.options,t);var a=t.message||this.message||"请输入合法的email";if(o.isDefined(e)&&!o.isEmpty(e))return o.isString(e)&&this.PATTERN.exec(e)?void 0:a},{PATTERN:/^(?:[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i}),equality:function(e,t,a,n,i){if(o.isDefined(e)){o.isString(t)&&(t={attribute:t}),t=o.extend({},this.options,t);var s=t.message||this.message||"is not equal to %{attribute}";if(o.isEmpty(t.attribute)||!o.isString(t.attribute))throw new Error("The attribute must be a non empty string");var r=o.getDeepObjectValue(n,t.attribute),d=t.comparator||function(e,t){return e===t},u=t.prettify||i&&i.prettify||o.prettify;return d(e,r,t,a,n)?void 0:o.format(s,{attribute:u(t.attribute)})}},url:function(e,t){if(o.isDefined(e)&&!o.isEmpty(e)){t=o.extend({},this.options,t);var a=t.message||this.message||"请输入合法的网址，http或者https开头",n=t.schemes||this.schemes||["http","https"],i=t.allowLocal||this.allowLocal||!1;if(!o.isString(e))return a;var s="^(?:(?:"+n.join("|")+")://)(?:\\S+(?::\\S*)?@)?(?:",r="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))";i?r+="?":s+="(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})",s+="(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*"+r+")(?::\\d{2,5})?(?:[/?#]\\S*)?$";return new RegExp(s,"i").exec(e)?void 0:a}},cellphone:o.extend(function(e,t){t=o.extend({},this.options,t);var a=t.message||this.message||"请输入正确的手机号码";if(o.isDefined(e)&&!o.isEmpty(e))return o.isString(e)&&this.PATTERN.exec(e)?void 0:a},{PATTERN:/^1(3|4|5|7|8)\d{9}$/}),idcard:o.extend(function(e,t){t=o.extend({},this.options,t);var a=t.message||this.message||"请输入合法的身份证号码";if(o.isDefined(e)&&!o.isEmpty(e))return o.isString(e)&&this.PATTERN.exec(e)?void 0:a},{PATTERN:/^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/})},n.formatters={detailed:function(e){return e},flat:o.flattenErrorsToArray,grouped:function(e){var t;e=o.groupErrorsByAttribute(e);for(t in e)e[t]=o.flattenErrorsToArray(e[t]);return e},constraint:function(e){var t;e=o.groupErrorsByAttribute(e);for(t in e)e[t]=e[t].map(function(e){return e.validator}).sort();return e}},n.formatters.array=function(e){return e.map(function(e){return e.error})},n.exposeModule(n,this,e,t,a)}).call(void 0,void 0!==a?a:null,void 0!==t?t:null,void 0!==n?n:null)}),window.define("utils/wxParse/html2json",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){for(var t={},a=e.split(","),n=0;n<a.length;n++)t[a[n]]=!0;return t}function y(e){return e.replace(/<\?xml.*\?>\n/,"").replace(/<.*!doctype.*\>\n/,"").replace(/<.*!DOCTYPE.*\>\n/,"").replace(/&quot;/g,"").replace(/&nbsp;/g,"").replace(/&lt;/g,"").replace(/&gt;/g,"").replace(/&amp;/g,"").replace(/&apos;/g,"").replace(/&ensp;/g,"").replace(/&emsp;/g,"")}function v(e){return e.replace(/\r?\n+/g,"").replace(/<!--.*?-->/gi,"").replace(/\/\*.*?\*\//gi,"").replace(/[ ]+</gi,"<")}function w(e,t){e=y(e),e=v(e),e=_.strDiscode(e);var a=[],n={node:t,nodes:[],images:[],imageUrls:[]},o=0;return k(e,{start:function(e,i,s){var r={node:"element",tag:e};if(0===a.length)r.index=o.toString(),o+=1;else{var d=a[0];void 0===d.nodes&&(d.nodes=[]),r.index=d.index+"."+d.nodes.length}if(I[e]?r.tagType="block":L[e]?r.tagType="inline":q[e]&&(r.tagType="closeSelf"),0!==i.length&&(r.attr=i.reduce(function(e,t){var a=t.name,n=t.value;return"class"==a&&(r.classStr=n),"style"==a&&(r.styleStr=n),n.match(/ /)&&(n=n.split(" ")),e[a]?Array.isArray(e[a])?e[a].push(n):e[a]=[e[a],n]:e[a]=n,e},{})),"img"===r.tag){r.imgIndex=n.images.length;var u=r.attr.src;""==u[0]&&u.splice(0,1),u=_.urlToHttpUrl(u,D),r.attr.src=u,r.from=t,n.images.push(r),n.imageUrls.push(u)}if("font"===r.tag){var c=["x-small","small","medium","large","x-large","xx-large","-webkit-xxx-large"],l={color:"color",face:"font-family",size:"font-size"};r.attr.style||(r.attr.style=[]),r.styleStr||(r.styleStr="");for(var p in l)if(r.attr[p]){var h="size"===p?c[r.attr[p]-1]:r.attr[p];r.attr.style.push(l[p]),r.attr.style.push(h),r.styleStr+=l[p]+": "+h+";"}}if("source"===r.tag&&(n.source=r.attr.src),s){var d=a[0]||n;void 0===d.nodes&&(d.nodes=[]),d.nodes.push(r)}else a.unshift(r)},end:function(e){var t=a.shift();if(t.tag!==e&&console.error("invalid state: mismatch end tag"),"video"===t.tag&&n.source&&(t.attr.src=n.source,delete n.source),0===a.length)n.nodes.push(t);else{var o=a[0];void 0===o.nodes&&(o.nodes=[]),o.nodes.push(t)}},chars:function(e){var t={node:"text",text:e,textArray:x(e)};if(0===a.length)t.index=o.toString(),o+=1,n.nodes.push(t);else{var i=a[0];void 0===i.nodes&&(i.nodes=[]),t.index=i.index+"."+i.nodes.length,i.nodes.push(t)}},comment:function(e){}}),n}function x(e){var t=[];if(0==S.length||!T){var a={};return a.node="text",a.text=e,o=[a]}e=e.replace(/\[([^\[\]]+)\]/g,":$1:");for(var n=new RegExp("[:]"),o=e.split(n),i=0;i<o.length;i++){var s=o[i],a={};T[s]?(a.node="element",a.tag="emoji",a.text=T[s],a.baseSrc=C):(a.node="text",a.text=s),t.push(a)}return t}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/wxParse/emojis/",a=arguments[2];S=e,C=t,T=a}var D="https",S="",C="",T={},_=e("./wxDiscode.js"),k=e("./htmlparser.js"),I=(m("area,base,basefont,br,col,frame,hr,img,input,link,meta,param,embed,command,keygen,source,track,wbr"),m("br,a,code,address,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video")),L=m("abbr,acronym,applet,b,basefont,bdo,big,button,cite,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),q=m("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");m("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),m("wxxxcode-style,script,style,view,scroll-view,block");t.exports={html2json:w,emojisInit:b}}),window.define("utils/wxParse/htmlparser",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e,t){function a(e,a,o,i){if(a=a.toLowerCase(),D[a])for(;r.last()&&S[r.last()];)n("",r.last());if(C[a]&&r.last()==a&&n("",a),i=b[a]||!!i,i||r.push(a),t.start){var s=[];o.replace(x,function(e,t){var a=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:T[t]?t:"";s.push({name:t,value:a,escaped:a.replace(/(^|[^\\])"/g,'$1\\"')})}),t.start&&t.start(a,s,i)}}function n(e,a){if(a){a=a.toLowerCase();for(var n=r.length-1;n>=0&&r[n]!=a;n--);}else var n=0;if(n>=0){for(var o=r.length-1;o>=n;o--)t.end&&t.end(r[o]);r.length=n}}var o,i,s,r=[],d=e;for(r.last=function(){return this[this.length-1]};e;){if(i=!0,r.last()&&_[r.last()])e=e.replace(new RegExp("([\\s\\S]*?)</"+r.last()+"[^>]*>"),function(e,a){return a=a.replace(/<!--([\s\S]*?)-->|<!\[CDATA\[([\s\S]*?)]]>/g,"$1$2"),t.chars&&t.chars(a),""}),n("",r.last());else if(0==e.indexOf("\x3c!--")?(o=e.indexOf("--\x3e"))>=0&&(t.comment&&t.comment(e.substring(4,o)),e=e.substring(o+3),i=!1):0==e.indexOf("</")?(s=e.match(w))&&(e=e.substring(s[0].length),s[0].replace(w,n),i=!1):0==e.indexOf("<")&&(s=e.match(v))&&(e=e.substring(s[0].length),s[0].replace(v,a),i=!1),i){o=e.indexOf("<");for(var u="";0===o;)u+="<",e=e.substring(1),o=e.indexOf("<");u+=o<0?e:e.substring(0,o),e=o<0?"":e.substring(o),t.chars&&t.chars(u)}if(e==d)throw"Parse Error: "+e;d=e}n()}function y(e){for(var t={},a=e.split(","),n=0;n<a.length;n++)t[a[n]]=!0;return t}var v=/^<([-A-Za-z0-9_]+)((?:\s+[a-zA-Z_:][-a-zA-Z0-9_:.]*(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,w=/^<\/([-A-Za-z0-9_]+)[^>]*>/,x=/([a-zA-Z_:][-a-zA-Z0-9_:.]*)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,b=y("area,base,basefont,br,col,frame,hr,img,input,link,meta,param,embed,command,keygen,source,track,wbr"),D=y("a,address,code,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video"),S=y("abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),C=y("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),T=y("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),_=y("wxxxcode-style,script,style,view,scroll-view,block");t.exports=m}),window.define("utils/wxParse/showdown",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){var t={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Specify a prefix to generated header ids",type:"string"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,description:"Tries to smartly fix identation in es6 strings",type:"boolean"}};if(!1===e)return JSON.parse(JSON.stringify(t));var a={};for(var n in t)t.hasOwnProperty(n)&&(a[n]=t[n].defaultValue);return a}function y(e,t){var a=t?"Error in "+t+" extension->":"Error in unnamed extension",n={valid:!0,error:""};x.helper.isArray(e)||(e=[e]);for(var o=0;o<e.length;++o){var i=a+" sub-extension "+o+": ",s=e[o];if("object"!==(void 0===s?"undefined":w(s)))return n.valid=!1,n.error=i+"must be an object, but "+(void 0===s?"undefined":w(s))+" given",n;if(!x.helper.isString(s.type))return n.valid=!1,n.error=i+'property "type" must be a string, but '+w(s.type)+" given",n;var r=s.type=s.type.toLowerCase();if("language"===r&&(r=s.type="lang"),"html"===r&&(r=s.type="output"),"lang"!==r&&"output"!==r&&"listener"!==r)return n.valid=!1,n.error=i+"type "+r+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',n;if("listener"===r){if(x.helper.isUndefined(s.listeners))return n.valid=!1,n.error=i+'. Extensions of type "listener" must have a property called "listeners"',n}else if(x.helper.isUndefined(s.filter)&&x.helper.isUndefined(s.regex))return n.valid=!1,n.error=i+r+' extensions must define either a "regex" property or a "filter" method',n;if(s.listeners){if("object"!==w(s.listeners))return n.valid=!1,n.error=i+'"listeners" property must be an object but '+w(s.listeners)+" given",n;for(var d in s.listeners)if(s.listeners.hasOwnProperty(d)&&"function"!=typeof s.listeners[d])return n.valid=!1,n.error=i+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+d+" must be a function but "+w(s.listeners[d])+" given",n}if(s.filter){if("function"!=typeof s.filter)return n.valid=!1,n.error=i+'"filter" must be a function, but '+w(s.filter)+" given",n}else if(s.regex){if(x.helper.isString(s.regex)&&(s.regex=new RegExp(s.regex,"g")),!s.regex instanceof RegExp)return n.valid=!1,n.error=i+'"regex" property must either be a string or a RegExp object, but '+w(s.regex)+" given",n;if(x.helper.isUndefined(s.replace))return n.valid=!1,n.error=i+'"regex" extensions must implement a replace string or function',n}}return n}function v(e,t){return"~E"+t.charCodeAt(0)+"E"}var w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x={},b={},D={},S=m(!0),C={github:{omitExtraWLInCodeBlocks:!0,prefixHeaderId:"user-content-",simplifiedAutoLink:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0},vanilla:m(!0)};x.helper={},x.extensions={},x.setOption=function(e,t){return S[e]=t,this},x.getOption=function(e){return S[e]},x.getOptions=function(){return S},x.resetOptions=function(){S=m(!0)},x.setFlavor=function(e){if(C.hasOwnProperty(e)){var t=C[e];for(var a in t)t.hasOwnProperty(a)&&(S[a]=t[a])}},x.getDefaultOptions=function(e){return m(e)},x.subParser=function(e,t){if(x.helper.isString(e)){if(void 0===t){if(b.hasOwnProperty(e))return b[e];throw Error("SubParser named "+e+" not registered!")}b[e]=t}},x.extension=function(e,t){if(!x.helper.isString(e))throw Error("Extension 'name' must be a string");if(e=x.helper.stdExtName(e),x.helper.isUndefined(t)){if(!D.hasOwnProperty(e))throw Error("Extension named "+e+" is not registered!");return D[e]}"function"==typeof t&&(t=t()),x.helper.isArray(t)||(t=[t]);var a=y(t,e);if(!a.valid)throw Error(a.error);D[e]=t},x.getAllExtensions=function(){return D},x.removeExtension=function(e){delete D[e]},x.resetExtensions=function(){D={}},x.validateExtension=function(e){var t=y(e,null);return!!t.valid||(console.warn(t.error),!1)},x.hasOwnProperty("helper")||(x.helper={}),x.helper.isString=function(e){return"string"==typeof e||e instanceof String},x.helper.isFunction=function(e){var t={};return e&&"[object Function]"===t.toString.call(e)},x.helper.forEach=function(e,t){if("function"==typeof e.forEach)e.forEach(t);else for(var a=0;a<e.length;a++)t(e[a],a,e)},x.helper.isArray=function(e){return e.constructor===Array},x.helper.isUndefined=function(e){return void 0===e},x.helper.stdExtName=function(e){return e.replace(/[_-]||\s/g,"").toLowerCase()},x.helper.escapeCharactersCallback=v,x.helper.escapeCharacters=function(e,t,a){var n="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";a&&(n="\\\\"+n);var o=new RegExp(n,"g");return e=e.replace(o,v)};var T=function(e,t,a,n){var o,i,s,r,d,u=n||"",c=u.indexOf("g")>-1,l=new RegExp(t+"|"+a,"g"+u.replace(/g/g,"")),p=new RegExp(t,u.replace(/g/g,"")),h=[];do{for(o=0;s=l.exec(e);)if(p.test(s[0]))o++||(i=l.lastIndex,r=i-s[0].length);else if(o&&!--o){d=s.index+s[0].length;var g={left:{start:r,end:i},match:{start:i,end:s.index},right:{start:s.index,end:d},wholeMatch:{start:r,end:d}};if(h.push(g),!c)return h}}while(o&&(l.lastIndex=i));return h};x.helper.matchRecursiveRegExp=function(e,t,a,n){for(var o=T(e,t,a,n),i=[],s=0;s<o.length;++s)i.push([e.slice(o[s].wholeMatch.start,o[s].wholeMatch.end),e.slice(o[s].match.start,o[s].match.end),e.slice(o[s].left.start,o[s].left.end),e.slice(o[s].right.start,o[s].right.end)]);return i},x.helper.replaceRecursiveRegExp=function(e,t,a,n,o){if(!x.helper.isFunction(t)){var i=t;t=function(){return i}}var s=T(e,a,n,o),r=e,d=s.length;if(d>0){var u=[];0!==s[0].wholeMatch.start&&u.push(e.slice(0,s[0].wholeMatch.start));for(var c=0;c<d;++c)u.push(t(e.slice(s[c].wholeMatch.start,s[c].wholeMatch.end),e.slice(s[c].match.start,s[c].match.end),e.slice(s[c].left.start,s[c].left.end),e.slice(s[c].right.start,s[c].right.end))),c<d-1&&u.push(e.slice(s[c].wholeMatch.end,s[c+1].wholeMatch.start));s[d-1].wholeMatch.end<e.length&&u.push(e.slice(s[d-1].wholeMatch.end)),r=u.join("")}return r},x.helper.isUndefined(console)&&(console={warn:function(e){alert(e)},log:function(e){alert(e)},error:function(e){throw e}}),x.Converter=function(e){function t(e,t){if(t=t||null,x.helper.isString(e)){if(e=x.helper.stdExtName(e),t=e,x.extensions[e])return console.warn("DEPRECATION WARNING: "+e+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),void a(x.extensions[e],e);if(x.helper.isUndefined(D[e]))throw Error('Extension "'+e+'" could not be loaded. It was either not found or is not a valid extension.');e=D[e]}"function"==typeof e&&(e=e()),x.helper.isArray(e)||(e=[e]);var o=y(e,t);if(!o.valid)throw Error(o.error);for(var i=0;i<e.length;++i){switch(e[i].type){case"lang":s.push(e[i]);break;case"output":r.push(e[i])}if(e[i].hasOwnProperty(d))for(var u in e[i].listeners)e[i].listeners.hasOwnProperty(u)&&n(u,e[i].listeners[u])}}function a(e,t){"function"==typeof e&&(e=e(new x.Converter)),x.helper.isArray(e)||(e=[e]);var a=y(e,t);if(!a.valid)throw Error(a.error);for(var n=0;n<e.length;++n)switch(e[n].type){case"lang":s.push(e[n]);break;case"output":r.push(e[n]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function n(e,t){if(!x.helper.isString(e))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+(void 0===e?"undefined":w(e))+" given");if("function"!=typeof t)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+(void 0===t?"undefined":w(t))+" given");d.hasOwnProperty(e)||(d[e]=[]),d[e].push(t)}function o(e){var t=e.match(/^\s*/)[0].length,a=new RegExp("^\\s{0,"+t+"}","gm");return e.replace(a,"")}var i={},s=[],r=[],d={};!function(){e=e||{};for(var a in S)S.hasOwnProperty(a)&&(i[a]=S[a]);if("object"!==(void 0===e?"undefined":w(e)))throw Error("Converter expects the passed parameter to be an object, but "+(void 0===e?"undefined":w(e))+" was passed instead.");for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);i.extensions&&x.helper.forEach(i.extensions,t)}(),this._dispatch=function(e,t,a,n){if(d.hasOwnProperty(e))for(var o=0;o<d[e].length;++o){var i=d[e][o](e,t,this,a,n);i&&void 0!==i&&(t=i)}return t},this.listen=function(e,t){return n(e,t),this},this.makeHtml=function(e){if(!e)return e;var t={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:s,outputModifiers:r,converter:this,ghCodeBlocks:[]};return e=e.replace(/~/g,"~T"),e=e.replace(/\$/g,"~D"),e=e.replace(/\r\n/g,"\n"),e=e.replace(/\r/g,"\n"),i.smartIndentationFix&&(e=o(e)),e=e,e=x.subParser("detab")(e,i,t),e=x.subParser("stripBlankLines")(e,i,t),x.helper.forEach(s,function(a){e=x.subParser("runExtension")(a,e,i,t)}),e=x.subParser("hashPreCodeTags")(e,i,t),e=x.subParser("githubCodeBlocks")(e,i,t),e=x.subParser("hashHTMLBlocks")(e,i,t),e=x.subParser("hashHTMLSpans")(e,i,t),e=x.subParser("stripLinkDefinitions")(e,i,t),e=x.subParser("blockGamut")(e,i,t),e=x.subParser("unhashHTMLSpans")(e,i,t),e=x.subParser("unescapeSpecialChars")(e,i,t),e=e.replace(/~D/g,"$$"),e=e.replace(/~T/g,"~"),x.helper.forEach(r,function(a){e=x.subParser("runExtension")(a,e,i,t)}),e},this.setOption=function(e,t){i[e]=t},this.getOption=function(e){return i[e]},this.getOptions=function(){return i},this.addExtension=function(e,a){a=a||null,t(e,a)},this.useExtension=function(e){t(e)},this.setFlavor=function(e){if(C.hasOwnProperty(e)){var t=C[e];for(var a in t)t.hasOwnProperty(a)&&(i[a]=t[a])}},this.removeExtension=function(e){x.helper.isArray(e)||(e=[e]);for(var t=0;t<e.length;++t){for(var a=e[t],n=0;n<s.length;++n)s[n]===a&&s[n].splice(n,1);for(;0<r.length;++n)r[0]===a&&r[0].splice(n,1)}},this.getAllExtensions=function(){return{language:s,output:r}}},x.subParser("anchors",function(e,t,a){e=a.converter._dispatch("anchors.before",e,t,a);var n=function(e,t,n,o,i,s,r,d){x.helper.isUndefined(d)&&(d=""),e=t;var u=n,c=o.toLowerCase(),l=i,p=d;if(!l)if(c||(c=u.toLowerCase().replace(/ ?\n/g," ")),l="#"+c,x.helper.isUndefined(a.gUrls[c])){if(!(e.search(/\(\s*\)$/m)>-1))return e;l=""}else l=a.gUrls[c],x.helper.isUndefined(a.gTitles[c])||(p=a.gTitles[c]);l=x.helper.escapeCharacters(l,"*_",!1);var h='<a href="'+l+'"';return""!==p&&null!==p&&(p=p.replace(/"/g,"&quot;"),p=x.helper.escapeCharacters(p,"*_",!1),h+=' title="'+p+'"'),h+=">"+u+"</a>"};return e=e.replace(/(\[((?:\[[^\]]*]|[^\[\]])*)][ ]?(?:\n[ ]*)?\[(.*?)])()()()()/g,n),e=e.replace(/(\[((?:\[[^\]]*]|[^\[\]])*)]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,n),e=e.replace(/(\[([^\[\]]+)])()()()()()/g,n),e=a.converter._dispatch("anchors.after",e,t,a)}),x.subParser("autoLinks",function(e,t,a){function n(e,t){var a=t;return/^www\./i.test(t)&&(t=t.replace(/^www\./i,"http://www.")),'<a href="'+t+'">'+a+"</a>"}function o(e,t){var a=x.subParser("unescapeSpecialChars")(t);return x.subParser("encodeEmailAddress")(a)}e=a.converter._dispatch("autoLinks.before",e,t,a);var i=/\b(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+)(?=\s|$)(?!["<>])/gi,s=/<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)>/gi,r=/(?:^|[ \n\t])([A-Za-z0-9!#$%&'*+-\/=?^_`\{|}~\.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?:$|[ \n\t])/gi,d=/<(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi;return e=e.replace(s,n),e=e.replace(d,o),t.simplifiedAutoLink&&(e=e.replace(i,n),e=e.replace(r,o)),e=a.converter._dispatch("autoLinks.after",e,t,a)}),x.subParser("blockGamut",function(e,t,a){e=a.converter._dispatch("blockGamut.before",e,t,a),e=x.subParser("blockQuotes")(e,t,a),e=x.subParser("headers")(e,t,a);var n=x.subParser("hashBlock")("<hr />",t,a);return e=e.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,n),e=e.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,n),e=e.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,n),e=x.subParser("lists")(e,t,a),e=x.subParser("codeBlocks")(e,t,a),e=x.subParser("tables")(e,t,a),e=x.subParser("hashHTMLBlocks")(e,t,a),e=x.subParser("paragraphs")(e,t,a),e=a.converter._dispatch("blockGamut.after",e,t,a)}),x.subParser("blockQuotes",function(e,t,a){return e=a.converter._dispatch("blockQuotes.before",e,t,a),e=e.replace(/((^[ \t]{0,3}>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(e,n){var o=n;return o=o.replace(/^[ \t]*>[ \t]?/gm,"~0"),o=o.replace(/~0/g,""),o=o.replace(/^[ \t]+$/gm,""),o=x.subParser("githubCodeBlocks")(o,t,a),o=x.subParser("blockGamut")(o,t,a),o=o.replace(/(^|\n)/g,"$1  "),o=o.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,t){var a=t;return a=a.replace(/^  /gm,"~0"),a=a.replace(/~0/g,"")}),x.subParser("hashBlock")("<blockquote>\n"+o+"\n</blockquote>",t,a)}),e=a.converter._dispatch("blockQuotes.after",e,t,a)}),x.subParser("codeBlocks",function(e,t,a){e=a.converter._dispatch("codeBlocks.before",e,t,a),e+="~0";var n=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g;return e=e.replace(n,function(e,n,o){var i=n,s=o,r="\n";return i=x.subParser("outdent")(i),i=x.subParser("encodeCode")(i),i=x.subParser("detab")(i),i=i.replace(/^\n+/g,""),i=i.replace(/\n+$/g,""),t.omitExtraWLInCodeBlocks&&(r=""),i="<pre><code>"+i+r+"</code></pre>",x.subParser("hashBlock")(i,t,a)+s}),e=e.replace(/~0/,""),e=a.converter._dispatch("codeBlocks.after",e,t,a)}),x.subParser("codeSpans",function(e,t,a){return e=a.converter._dispatch("codeSpans.before",e,t,a),void 0===e&&(e=""),e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(e,t,a,n){var o=n;return o=o.replace(/^([ \t]*)/g,""),o=o.replace(/[ \t]*$/g,""),o=x.subParser("encodeCode")(o),t+"<code>"+o+"</code>"}),e=a.converter._dispatch("codeSpans.after",e,t,a)}),x.subParser("detab",function(e){return e=e.replace(/\t(?=\t)/g,"    "),e=e.replace(/\t/g,"~A~B"),e=e.replace(/~B(.+?)~A/g,function(e,t){for(var a=t,n=4-a.length%4,o=0;o<n;o++)a+=" ";return a}),e=e.replace(/~A/g,"    "),e=e.replace(/~B/g,"")}),x.subParser("encodeAmpsAndAngles",function(e){return e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),e=e.replace(/<(?![a-z\/?\$!])/gi,"&lt;")}),x.subParser("encodeBackslashEscapes",function(e){return e=e.replace(/\\(\\)/g,x.helper.escapeCharactersCallback),e=e.replace(/\\([`*_{}\[\]()>#+-.!])/g,x.helper.escapeCharactersCallback)}),x.subParser("encodeCode",function(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=x.helper.escapeCharacters(e,"*_{}[]\\",!1)}),x.subParser("encodeEmailAddress",function(e){var t=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+e.charCodeAt(0).toString(16)+";"},function(e){return e}];return e="mailto:"+e,e=e.replace(/./g,function(e){if("@"===e)e=t[Math.floor(2*Math.random())](e);else if(":"!==e){var a=Math.random();e=a>.9?t[2](e):a>.45?t[1](e):t[0](e)}return e}),e='<a href="'+e+'">'+e+"</a>",e=e.replace(/">.+:/g,'">')}),x.subParser("escapeSpecialCharsWithinTagAttributes",function(e){var t=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return e=e.replace(t,function(e){var t=e.replace(/(.)<\/?code>(?=.)/g,"$1`");return t=x.helper.escapeCharacters(t,"\\`*_",!1)})}),x.subParser("githubCodeBlocks",function(e,t,a){return t.ghCodeBlocks?(e=a.converter._dispatch("githubCodeBlocks.before",e,t,a),e+="~0",e=e.replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(e,n,o){var i=t.omitExtraWLInCodeBlocks?"":"\n";return o=x.subParser("encodeCode")(o),o=x.subParser("detab")(o),o=o.replace(/^\n+/g,""),o=o.replace(/\n+$/g,""),o="<pre><code"+(n?' class="'+n+" language-"+n+'"':"")+">"+o+i+"</code></pre>",o=x.subParser("hashBlock")(o,t,a),"\n\n~G"+(a.ghCodeBlocks.push({text:e,codeblock:o})-1)+"G\n\n"}),e=e.replace(/~0/,""),a.converter._dispatch("githubCodeBlocks.after",e,t,a)):e}),x.subParser("hashBlock",function(e,t,a){return e=e.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(a.gHtmlBlocks.push(e)-1)+"K\n\n"}),x.subParser("hashElement",function(e,t,a){return function(e,t){var n=t;return n=n.replace(/\n\n/g,"\n"),n=n.replace(/^\n/,""),n=n.replace(/\n+$/g,""),n="\n\n~K"+(a.gHtmlBlocks.push(n)-1)+"K\n\n"}}),x.subParser("hashHTMLBlocks",function(e,t,a){for(var n=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],o=function(e,t,n,o){var i=e;return-1!==n.search(/\bmarkdown\b/)&&(i=n+a.converter.makeHtml(t)+o),"\n\n~K"+(a.gHtmlBlocks.push(i)-1)+"K\n\n"},i=0;i<n.length;++i)e=x.helper.replaceRecursiveRegExp(e,o,"^(?: |\\t){0,3}<"+n[i]+"\\b[^>]*>","</"+n[i]+">","gim");return e=e.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,x.subParser("hashElement")(e,t,a)),e=e.replace(/(<!--[\s\S]*?-->)/g,x.subParser("hashElement")(e,t,a)),e=e.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,x.subParser("hashElement")(e,t,a))}),x.subParser("hashHTMLSpans",function(e,t,a){for(var n=x.helper.matchRecursiveRegExp(e,"<code\\b[^>]*>","</code>","gi"),o=0;o<n.length;++o)e=e.replace(n[o][0],"~L"+(a.gHtmlSpans.push(n[o][0])-1)+"L");return e}),x.subParser("unhashHTMLSpans",function(e,t,a){for(var n=0;n<a.gHtmlSpans.length;++n)e=e.replace("~L"+n+"L",a.gHtmlSpans[n]);return e}),x.subParser("hashPreCodeTags",function(e,t,a){var n=function(e,t,n,o){var i=n+x.subParser("encodeCode")(t)+o;return"\n\n~G"+(a.ghCodeBlocks.push({text:e,codeblock:i})-1)+"G\n\n"};return e=x.helper.replaceRecursiveRegExp(e,n,"^(?: |\\t){0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^(?: |\\t){0,3}</code>\\s*</pre>","gim")}),x.subParser("headers",function(e,t,a){function n(e){var t,n=e.replace(/[^\w]/g,"").toLowerCase();return a.hashLinkCounts[n]?t=n+"-"+a.hashLinkCounts[n]++:(t=n,a.hashLinkCounts[n]=1),!0===o&&(o="section"),x.helper.isString(o)?o+t:t}e=a.converter._dispatch("headers.before",e,t,a);var o=t.prefixHeaderId,i=isNaN(parseInt(t.headerLevelStart))?1:parseInt(t.headerLevelStart),s=t.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,r=t.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;return e=e.replace(s,function(e,o){var s=x.subParser("spanGamut")(o,t,a),r=t.noHeaderId?"":' id="'+n(o)+'"',d=i,u="<h"+d+r+">"+s+"</h"+d+">";return x.subParser("hashBlock")(u,t,a)}),e=e.replace(r,function(e,o){var s=x.subParser("spanGamut")(o,t,a),r=t.noHeaderId?"":' id="'+n(o)+'"',d=i+1,u="<h"+d+r+">"+s+"</h"+d+">";return x.subParser("hashBlock")(u,t,a)}),e=e.replace(/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm,function(e,o,s){var r=x.subParser("spanGamut")(s,t,a),d=t.noHeaderId?"":' id="'+n(s)+'"',u=i-1+o.length,c="<h"+u+d+">"+r+"</h"+u+">";return x.subParser("hashBlock")(c,t,a)}),e=a.converter._dispatch("headers.after",e,t,a)}),x.subParser("images",function(e,t,a){function n(e,t,n,o,i,s,r,d){var u=a.gUrls,c=a.gTitles,l=a.gDimensions;if(n=n.toLowerCase(),d||(d=""),""===o||null===o){if(""!==n&&null!==n||(n=t.toLowerCase().replace(/ ?\n/g," ")),o="#"+n,x.helper.isUndefined(u[n]))return e;o=u[n],x.helper.isUndefined(c[n])||(d=c[n]),x.helper.isUndefined(l[n])||(i=l[n].width,s=l[n].height)}t=t.replace(/"/g,"&quot;"),t=x.helper.escapeCharacters(t,"*_",!1),o=x.helper.escapeCharacters(o,"*_",!1);var p='<img src="'+o+'" alt="'+t+'"';return d&&(d=d.replace(/"/g,"&quot;"),d=x.helper.escapeCharacters(d,"*_",!1),p+=' title="'+d+'"'),i&&s&&(i="*"===i?"auto":i,s="*"===s?"auto":s,p+=' width="'+i+'"',p+=' height="'+s+'"'),p+=" />"}e=a.converter._dispatch("images.before",e,t,a);var o=/!\[(.*?)]\s?\([ \t]*()<?(\S+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(['"])(.*?)\6[ \t]*)?\)/g,i=/!\[([^\]]*?)] ?(?:\n *)?\[(.*?)]()()()()()/g;return e=e.replace(i,n),e=e.replace(o,n),e=a.converter._dispatch("images.after",e,t,a)}),x.subParser("italicsAndBold",function(e,t,a){return e=a.converter._dispatch("italicsAndBold.before",e,t,a),t.literalMidWordUnderscores?(e=e.replace(/(^|\s|>|\b)__(?=\S)([\s\S]+?)__(?=\b|<|\s|$)/gm,"$1<strong>$2</strong>"),e=e.replace(/(^|\s|>|\b)_(?=\S)([\s\S]+?)_(?=\b|<|\s|$)/gm,"$1<em>$2</em>"),e=e.replace(/(\*\*)(?=\S)([^\r]*?\S[*]*)\1/g,"<strong>$2</strong>"),e=e.replace(/(\*)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")):(e=e.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>"),e=e.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")),e=a.converter._dispatch("italicsAndBold.after",e,t,a)}),x.subParser("lists",function(e,t,a){function n(e,n){a.gListLevel++,e=e.replace(/\n{2,}$/,"\n"),e+="~0";var o=/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,i=/\n[ \t]*\n(?!~0)/.test(e);return e=e.replace(o,function(e,n,o,s,r,d,u){u=u&&""!==u.trim();var c=x.subParser("outdent")(r,t,a),l="";return d&&t.tasklists&&(l=' class="task-list-item" style="list-style-type: none;"',c=c.replace(/^[ \t]*\[(x|X| )?]/m,function(){var e='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return u&&(e+=" checked"),e+=">"})),n||c.search(/\n{2,}/)>-1?(c=x.subParser("githubCodeBlocks")(c,t,a),c=x.subParser("blockGamut")(c,t,a)):(c=x.subParser("lists")(c,t,a),c=c.replace(/\n$/,""),c=i?x.subParser("paragraphs")(c,t,a):x.subParser("spanGamut")(c,t,a)),c="\n<li"+l+">"+c+"</li>\n"}),e=e.replace(/~0/g,""),a.gListLevel--,n&&(e=e.replace(/\s+$/,"")),e}function o(e,t,a){var o="ul"===t?/^ {0,2}\d+\.[ \t]/gm:/^ {0,2}[*+-][ \t]/gm,i=[],s="";if(-1!==e.search(o)){!function e(i){var r=i.search(o);-1!==r?(s+="\n\n<"+t+">"+n(i.slice(0,r),!!a)+"</"+t+">\n\n",t="ul"===t?"ol":"ul",o="ul"===t?/^ {0,2}\d+\.[ \t]/gm:/^ {0,2}[*+-][ \t]/gm,e(i.slice(r))):s+="\n\n<"+t+">"+n(i,!!a)+"</"+t+">\n\n"}(e);for(var r=0;r<i.length;++r);}else s="\n\n<"+t+">"+n(e,!!a)+"</"+t+">\n\n";return s}e=a.converter._dispatch("lists.before",e,t,a),e+="~0";var i=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return a.gListLevel?e=e.replace(i,function(e,t,a){return o(t,a.search(/[*+-]/g)>-1?"ul":"ol",!0)}):(i=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,e=e.replace(i,function(e,t,a,n){return o(a,n.search(/[*+-]/g)>-1?"ul":"ol")})),e=e.replace(/~0/,""),e=a.converter._dispatch("lists.after",e,t,a)}),x.subParser("outdent",function(e){return e=e.replace(/^(\t|[ ]{1,4})/gm,"~0"),e=e.replace(/~0/g,"")}),x.subParser("paragraphs",function(e,t,a){e=a.converter._dispatch("paragraphs.before",e,t,a),e=e.replace(/^\n+/g,""),e=e.replace(/\n+$/g,"");for(var n=e.split(/\n{2,}/g),o=[],i=n.length,s=0;s<i;s++){var r=n[s];r.search(/~(K|G)(\d+)\1/g)>=0?o.push(r):(r=x.subParser("spanGamut")(r,t,a),r=r.replace(/^([ \t]*)/g,"<p>"),r+="</p>",o.push(r))}for(i=o.length,s=0;s<i;s++){for(var d="",u=o[s],c=!1;u.search(/~(K|G)(\d+)\1/)>=0;){var l=RegExp.$1,p=RegExp.$2;d="K"===l?a.gHtmlBlocks[p]:c?x.subParser("encodeCode")(a.ghCodeBlocks[p].text):a.ghCodeBlocks[p].codeblock,d=d.replace(/\$/g,"$$$$"),u=u.replace(/(\n\n)?~(K|G)\d+\2(\n\n)?/,d),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(u)&&(c=!0)}o[s]=u}return e=o.join("\n\n"),e=e.replace(/^\n+/g,""),e=e.replace(/\n+$/g,""),a.converter._dispatch("paragraphs.after",e,t,a)}),x.subParser("runExtension",function(e,t,a,n){if(e.filter)t=e.filter(t,n.converter,a);else if(e.regex){var o=e.regex;!o instanceof RegExp&&(o=new RegExp(o,"g")),t=t.replace(o,e.replace)}return t}),x.subParser("spanGamut",function(e,t,a){return e=a.converter._dispatch("spanGamut.before",e,t,a),e=x.subParser("codeSpans")(e,t,a),e=x.subParser("escapeSpecialCharsWithinTagAttributes")(e,t,a),e=x.subParser("encodeBackslashEscapes")(e,t,a),e=x.subParser("images")(e,t,a),e=x.subParser("anchors")(e,t,a),e=x.subParser("autoLinks")(e,t,a),e=x.subParser("encodeAmpsAndAngles")(e,t,a),e=x.subParser("italicsAndBold")(e,t,a),e=x.subParser("strikethrough")(e,t,a),e=e.replace(/  +\n/g," <br />\n"),e=a.converter._dispatch("spanGamut.after",e,t,a)}),x.subParser("strikethrough",function(e,t,a){return t.strikethrough&&(e=a.converter._dispatch("strikethrough.before",e,t,a),e=e.replace(/(?:~T){2}([\s\S]+?)(?:~T){2}/g,"<del>$1</del>"),e=a.converter._dispatch("strikethrough.after",e,t,a)),e}),x.subParser("stripBlankLines",function(e){return e.replace(/^[ \t]+$/gm,"")}),x.subParser("stripLinkDefinitions",function(e,t,a){var n=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(\S+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=~0))/gm;return e+="~0",e=e.replace(n,function(e,n,o,i,s,r,d){return n=n.toLowerCase(),a.gUrls[n]=x.subParser("encodeAmpsAndAngles")(o),r?r+d:(d&&(a.gTitles[n]=d.replace(/"|'/g,"&quot;")),t.parseImgDimensions&&i&&s&&(a.gDimensions[n]={width:i,height:s}),"")}),e=e.replace(/~0/,"")}),x.subParser("tables",function(e,t,a){function n(e){return/^:[ \t]*--*$/.test(e)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(e)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(e)?' style="text-align:center;"':""}function o(e,n){var o="";return e=e.trim(),t.tableHeaderId&&(o=' id="'+e.replace(/ /g,"_").toLowerCase()+'"'),e=x.subParser("spanGamut")(e,t,a),"<th"+o+n+">"+e+"</th>\n"}function i(e,n){return"<td"+n+">"+x.subParser("spanGamut")(e,t,a)+"</td>\n"}function s(e,t){for(var a="<table>\n<thead>\n<tr>\n",n=e.length,o=0;o<n;++o)a+=e[o];for(a+="</tr>\n</thead>\n<tbody>\n",o=0;o<t.length;++o){a+="<tr>\n";for(var i=0;i<n;++i)a+=t[o][i];a+="</tr>\n"}return a+="</tbody>\n</table>\n"}if(!t.tables)return e;var r=/^[ \t]{0,3}\|?.+\|.+\n[ \t]{0,3}\|?[ \t]*:?[ \t]*(?:-|=){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:-|=){2,}[\s\S]+?(?:\n\n|~0)/gm;return e=a.converter._dispatch("tables.before",e,t,a),e=e.replace(r,function(e){var t,a=e.split("\n");for(t=0;t<a.length;++t)/^[ \t]{0,3}\|/.test(a[t])&&(a[t]=a[t].replace(/^[ \t]{0,3}\|/,"")),/\|[ \t]*$/.test(a[t])&&(a[t]=a[t].replace(/\|[ \t]*$/,""));var r=a[0].split("|").map(function(e){return e.trim()}),d=a[1].split("|").map(function(e){return e.trim()}),u=[],c=[],l=[],p=[];for(a.shift(),a.shift(),t=0;t<a.length;++t)""!==a[t].trim()&&u.push(a[t].split("|").map(function(e){return e.trim()}));if(r.length<d.length)return e;for(t=0;t<d.length;++t)l.push(n(d[t]));for(t=0;t<r.length;++t)x.helper.isUndefined(l[t])&&(l[t]=""),c.push(o(r[t],l[t]));for(t=0;t<u.length;++t){for(var h=[],g=0;g<c.length;++g)x.helper.isUndefined(u[t][g]),h.push(i(u[t][g],l[g]));p.push(h)}return s(c,p)}),e=a.converter._dispatch("tables.after",e,t,a)}),x.subParser("unescapeSpecialChars",function(e){return e=e.replace(/~E(\d+)E/g,function(e,t){var a=parseInt(t);return String.fromCharCode(a)})}),t.exports=x}),window.define("utils/wxParse/wxDiscode",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e=e.replace(/&forall;/g,"∀"),e=e.replace(/&part;/g,"∂"),e=e.replace(/&exists;/g,"∃"),e=e.replace(/&empty;/g,"∅"),e=e.replace(/&nabla;/g,"∇"),e=e.replace(/&isin;/g,"∈"),e=e.replace(/&notin;/g,"∉"),e=e.replace(/&ni;/g,"∋"),e=e.replace(/&prod;/g,"∏"),e=e.replace(/&sum;/g,"∑"),e=e.replace(/&minus;/g,"−"),e=e.replace(/&lowast;/g,"∗"),e=e.replace(/&radic;/g,"√"),e=e.replace(/&prop;/g,"∝"),e=e.replace(/&infin;/g,"∞"),e=e.replace(/&ang;/g,"∠"),e=e.replace(/&and;/g,"∧"),e=e.replace(/&or;/g,"∨"),e=e.replace(/&cap;/g,"∩"),e=e.replace(/&cap;/g,"∪"),e=e.replace(/&int;/g,"∫"),e=e.replace(/&there4;/g,"∴"),e=e.replace(/&sim;/g,"∼"),e=e.replace(/&cong;/g,"≅"),e=e.replace(/&asymp;/g,"≈"),e=e.replace(/&ne;/g,"≠"),e=e.replace(/&le;/g,"≤"),e=e.replace(/&ge;/g,"≥"),e=e.replace(/&sub;/g,"⊂"),e=e.replace(/&sup;/g,"⊃"),e=e.replace(/&nsub;/g,"⊄"),e=e.replace(/&sube;/g,"⊆"),e=e.replace(/&supe;/g,"⊇"),e=e.replace(/&oplus;/g,"⊕"),e=e.replace(/&otimes;/g,"⊗"),e=e.replace(/&perp;/g,"⊥"),e=e.replace(/&sdot;/g,"⋅")}function y(e){return e=e.replace(/&Alpha;/g,"Α"),e=e.replace(/&Beta;/g,"Β"),e=e.replace(/&Gamma;/g,"Γ"),e=e.replace(/&Delta;/g,"Δ"),e=e.replace(/&Epsilon;/g,"Ε"),e=e.replace(/&Zeta;/g,"Ζ"),e=e.replace(/&Eta;/g,"Η"),e=e.replace(/&Theta;/g,"Θ"),e=e.replace(/&Iota;/g,"Ι"),e=e.replace(/&Kappa;/g,"Κ"),e=e.replace(/&Lambda;/g,"Λ"),e=e.replace(/&Mu;/g,"Μ"),e=e.replace(/&Nu;/g,"Ν"),e=e.replace(/&Xi;/g,"Ν"),e=e.replace(/&Omicron;/g,"Ο"),e=e.replace(/&Pi;/g,"Π"),e=e.replace(/&Rho;/g,"Ρ"),e=e.replace(/&Sigma;/g,"Σ"),e=e.replace(/&Tau;/g,"Τ"),e=e.replace(/&Upsilon;/g,"Υ"),e=e.replace(/&Phi;/g,"Φ"),e=e.replace(/&Chi;/g,"Χ"),e=e.replace(/&Psi;/g,"Ψ"),e=e.replace(/&Omega;/g,"Ω"),e=e.replace(/&alpha;/g,"α"),e=e.replace(/&beta;/g,"β"),e=e.replace(/&gamma;/g,"γ"),e=e.replace(/&delta;/g,"δ"),e=e.replace(/&epsilon;/g,"ε"),e=e.replace(/&zeta;/g,"ζ"),e=e.replace(/&eta;/g,"η"),e=e.replace(/&theta;/g,"θ"),e=e.replace(/&iota;/g,"ι"),e=e.replace(/&kappa;/g,"κ"),e=e.replace(/&lambda;/g,"λ"),e=e.replace(/&mu;/g,"μ"),e=e.replace(/&nu;/g,"ν"),e=e.replace(/&xi;/g,"ξ"),e=e.replace(/&omicron;/g,"ο"),e=e.replace(/&pi;/g,"π"),e=e.replace(/&rho;/g,"ρ"),e=e.replace(/&sigmaf;/g,"ς"),e=e.replace(/&sigma;/g,"σ"),e=e.replace(/&tau;/g,"τ"),e=e.replace(/&upsilon;/g,"υ"),e=e.replace(/&phi;/g,"φ"),e=e.replace(/&chi;/g,"χ"),e=e.replace(/&psi;/g,"ψ"),e=e.replace(/&omega;/g,"ω"),e=e.replace(/&thetasym;/g,"ϑ"),e=e.replace(/&upsih;/g,"ϒ"),e=e.replace(/&piv;/g,"ϖ"),e=e.replace(/&middot;/g,"·")}function v(e){return e=e.replace(/&nbsp;/g," "),e=e.replace(/&quot;/g,"'"),e=e.replace(/&amp;/g,"&"),e=e.replace(/&lt;/g,"<"),e=e.replace(/&gt;/g,">"),e=e.replace(/&#8226;/g,"•")}function w(e){return e=e.replace(/&OElig;/g,"Œ"),e=e.replace(/&oelig;/g,"œ"),e=e.replace(/&Scaron;/g,"Š"),e=e.replace(/&scaron;/g,"š"),e=e.replace(/&Yuml;/g,"Ÿ"),e=e.replace(/&fnof;/g,"ƒ"),e=e.replace(/&circ;/g,"ˆ"),e=e.replace(/&tilde;/g,"˜"),e=e.replace(/&ensp;/g,""),e=e.replace(/&emsp;/g,""),e=e.replace(/&thinsp;/g,""),e=e.replace(/&zwnj;/g,""),e=e.replace(/&zwj;/g,""),e=e.replace(/&lrm;/g,""),e=e.replace(/&rlm;/g,""),e=e.replace(/&ndash;/g,"–"),e=e.replace(/&mdash;/g,"—"),e=e.replace(/&lsquo;/g,"‘"),e=e.replace(/&rsquo;/g,"’"),e=e.replace(/&sbquo;/g,"‚"),e=e.replace(/&ldquo;/g,"“"),e=e.replace(/&rdquo;/g,"”"),e=e.replace(/&bdquo;/g,"„"),e=e.replace(/&dagger;/g,"†"),e=e.replace(/&Dagger;/g,"‡"),e=e.replace(/&bull;/g,"•"),e=e.replace(/&hellip;/g,"…"),e=e.replace(/&permil;/g,"‰"),e=e.replace(/&prime;/g,"′"),e=e.replace(/&Prime;/g,"″"),e=e.replace(/&lsaquo;/g,"‹"),e=e.replace(/&rsaquo;/g,"›"),e=e.replace(/&oline;/g,"‾"),e=e.replace(/&euro;/g,"€"),e=e.replace(/&trade;/g,"™"),e=e.replace(/&larr;/g,"←"),e=e.replace(/&uarr;/g,"↑"),e=e.replace(/&rarr;/g,"→"),e=e.replace(/&darr;/g,"↓"),e=e.replace(/&harr;/g,"↔"),e=e.replace(/&crarr;/g,"↵"),e=e.replace(/&lceil;/g,"⌈"),e=e.replace(/&rceil;/g,"⌉"),e=e.replace(/&lfloor;/g,"⌊"),e=e.replace(/&rfloor;/g,"⌋"),e=e.replace(/&loz;/g,"◊"),e=e.replace(/&spades;/g,"♠"),e=e.replace(/&clubs;/g,"♣"),e=e.replace(/&hearts;/g,"♥"),e=e.replace(/&diams;/g,"♦"),e=e.replace(/&#39;/g,"'")}function x(e){return e=e.replace(/\r\n/g,""),e=e.replace(/\n/g,""),e=e.replace(/code/g,"wxxxcode-style")}function b(e){return e=m(e),e=y(e),e=v(e),e=w(e),e=x(e)}function D(e,t){return new RegExp("^//").test(e)&&(e=t+":"+e),e}t.exports={strDiscode:b,urlToHttpUrl:D}}),window.define("utils/wxParse/wxParse",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wxParseData",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"html",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'<div class="color:red;">数据不能为空</div>',n=arguments[3],o=arguments[4],i=n,s={};if("html"==t)s=I.default.html2json(a,e);else if("md"==t||"markdown"==t){var r=new _.default.Converter,d=r.makeHtml(a);s=I.default.html2json(d,e),console.log(JSON.stringify(s," "," "))}s.view={},s.view.imagePadding=0,void 0!==o&&(s.view.imagePadding=o);var u={};u[e]=s,i.setData(u),i.wxParseImgLoad=x,i.wxParseImgTap=w}function w(e){var t=this,a=e.target.dataset.src,n=e.target.dataset.from;void 0!==n&&n.length>0&&o.previewImage({current:a,urls:t.data[n].imageUrls})}function x(e){var t=this,a=e.target.dataset.from,n=e.target.dataset.idx;void 0!==a&&a.length>0&&b(e,n,t,a)}function b(e,t,a,n){var o,i=a.data[n];if(i&&0!=i.images.length){var s=i.images,r=D(e.detail.width,e.detail.height,a,n),d=s[t].index,u=""+n,c=!0,l=!1,p=void 0;try{for(var h,g=d.split(".")[Symbol.iterator]();!(c=(h=g.next()).done);c=!0){u+=".nodes["+h.value+"]"}}catch(e){l=!0,p=e}finally{try{!c&&g.return&&g.return()}finally{if(l)throw p}}var f=u+".width",m=u+".height";a.setData((o={},y(o,f,r.imageWidth),y(o,m,r.imageheight),o))}}function D(e,t,a,n){var o=0,i=0,s=0,r={},d=a.data[n].view.imagePadding;return o=L-2*d,q,e>o?(i=o,s=i*t/e,r.imageWidth=i,r.imageheight=s):(r.imageWidth=e,r.imageheight=t),r}function S(e,t,a,n){for(var o=[],i=n.data,s=null,r=0;r<a;r++){var d=i[t+r].nodes;o.push(d)}e=e||"wxParseTemArray",s=JSON.parse('{"'+e+'":""}'),s[e]=o,n.setData(s)}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/wxParse/emojis/",a=arguments[2];I.default.emojisInit(e,t,a)}var T=e("./showdown.js"),_=m(T),k=e("./html2json.js"),I=m(k),L=0,q=0;o.getSystemInfo({success:function(e){L=e.windowWidth,q=e.windowHeight}}),t.exports={wxParse:v,wxParseTemArray:S,emojisInit:C}}),window.define("tabs/home/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}var y=e("../../network/api.js"),v=m(y),w=e("../../utils/const.js"),x=m(w),b=e("../../utils/notification"),D=m(b),S=e("../../utils/location.js"),C=m(S);Page({data:{locationSuccess:!0,activityCards:[],storeType:""},onLoad:function(e){this.registeNotification();var t=i().globalData.editionType;this.init(),this.setData({code:e.scene||"",storeType:t})},onShow:function(){},onHide:function(){var e=this.data,t=e.activityCards,a=e.tabName,n=e.activityIndex;n<t.length-1?o.setStorageSync("activity",{activityCards:t,tabName:a,activityIndex:n}):o.setStorageSync("activity",{})},onShareAppMessage:function(e){var t=i().globalData.userinfo;e.from,e.target;return{imageUrl:this.data.shareImg,title:this.data.desc||this.data.title,path:"/tabs/home/index?shareCode="+t.shareCode}},onUnload:function(){this.removeNotification()},init:function(){var e=this,t=i().globalConfig;t&&(this.setData(Object.assign({},this.data,{globalConfig:t})),t.isEnableLocation?(o.showLoading({title:"定位中..."}),C.default.ensureLocation(t).then(function(){}).catch(function(t){console.log(t),e.setData({locationSuccess:!1}),o.stopPullDownRefresh(),o.hideLoading()})):this.queryData())},queryData:function(){var e=this;o.showLoading({title:"请稍候"}),v.default.init().then(function(t){e.setData(Object.assign({},t.data,{serverTime:t.serverTime})),o.stopPullDownRefresh(),o.hideLoading()}).catch(function(e){console.log(e),o.stopPullDownRefresh(),o.hideLoading()})},onPullDownRefresh:function(){var e=this.data,t=e.globalConfig,a=e.location;1==t.locationType?this.init():a&&a.location?this.queryData():this.init()},registeNotification:function(){var e=this;D.default.register(x.default.action.QUERY_CONFIG_SUCCESS,this,function(){e.init()}),D.default.register(x.default.action.LOCATION_CHANGED,this,function(t){console.log("location_changed",t.data),e.setData({location:t.data,locationSuccess:!0}),e.queryData()}),D.default.register(x.default.action.GOTO_SHOP,this,function(e){console.log("get notif从订单页面跳转到店铺首页",e),o.navigateTo({url:"/pages/shop/products/products?storeid="+e.data.storeId})})},removeNotification:function(){D.default.remove(x.default.action.QUERY_CONFIG_SUCCESS,this),D.default.remove(x.default.action.LOCATION_CHANGED,this),D.default.remove(x.default.action.GOTO_SHOP,this)},handlePhoneBtnTap:function(e){var t=e.currentTarget.dataset.phone,a=t.telephone,n=t.cellphone,o=t.extNum,i=[];a&&(o?i.push(a+"转"+o):i.push(a)),n&&i.push(n),this.setData({phoneList:i});var s=this.selectComponent(".phoneaction");s&&s.show()},handleChooseAddress:function(){var e=this.data,t=e.globalConfig,a=e.location,n=e.storeType,i=void 0;i=0==t.locationType||"mall"==n?"/pages/citys/citys":"/pages/addressdetail/addressdetail?addressid="+(a?a.addressId:""),o.navigateTo({url:i})},queryActivity:function(e,t){var a=this;v.default.queryActivity({scene:e,code:t}).then(function(e){if(e&&e.data&&e.data.list){var t=[];if(e.data.list.forEach(function(e){5===e.status&&(e.VIPCardList&&e.VIPCardList.length&&t.push({name:"card",data:e.VIPCardList}),e.couponList&&e.couponList.length&&t.push({name:"coupon",data:e.couponList.map(function(e){return e.useTime=e.useTime.substring(0,11),e.useEndTime=e.useEndTime.substring(0,11),e})}),e.giftCardList&&e.giftCardList.length&&t.push({name:"gift",data:e.giftCardList}),e.point&&t.push({name:"score",data:{score:e.point}}),"smyl"===e.type&&(e.VIPCardList&&e.VIPCardList.length||e.couponList&&e.couponList.length||e.giftCardList&&e.giftCardList.length||e.point)&&t.push({name:"share",data:e.share}))}),t.length)a.setData({activityCards:t,tabName:e.data.myName,activityIndex:0}),a.showGiftPopup();else{var n=a.data,i=n.activityCards;if(n.activityIndex<i.length-1)return;var s=o.getStorageSync("activity");s.activityCards&&s.activityCards.length&&(a.setData({activityCards:s.activityCards,tabName:s.tabName,activityIndex:s.activityIndex}),a.showGiftPopup())}}}).catch(function(e){console.log("---err---",e)})},showGiftPopup:function(){var e=this.selectComponent(".home_gift_popup");e&&e.show()},hideGiftPopup:function(){var e=this.selectComponent(".home_gift_popup");e&&e.hide()},updateindex:function(e){this.setData({activityIndex:e.detail.index})}})}),window.define("tabs/mine/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var v=e("../../utils/util"),w=m(v),x=e("../../network/api"),b=m(x),D=e("../../utils/const.js"),S=m(D),C=e("../../utils/notification.js"),T=m(C),_=e("../../dist/index"),k=m(_),I={data:{isShow:!1,order:{}}};w.default.registComp(I,k.default.Toast,{onShareAppMessage:function(){return{path:"/tabs/home/index?shareCode="+i().globalData.userinfo.shareCode}},onLoad:function(){o.showLoading({title:"加载中"});var e=i().globalData.color;this.setData({color:e})},onShow:function(){var e=this,t=o.getExtConfigSync();console.log("ext",t);var a=o.getStorageSync("userinfo");console.log(a,"++++++++++++++++++++++++"),this.setData({userInfo:a}),this.updateUser(),this.queryMine(),b.default.getStaticticsOrderNum().then(function(t){t&&t.data&&t.data.forEach(function(t){e.setData(y({},"order["+t.orderStatus+"]",t.num))})})},updateUser:function(){var e=this;o.getStorageSync("userUpdated")?this.lookup():o.getUserInfo({success:function(t){b.default.updateWXUserInfo(t.userInfo).then(function(){o.setStorageSync("userUpdated","yes"),e.lookup()})},fail:function(){e.lookup()}})},lookup:function(){var e=this,t=this;b.default.queryUserInfo().then(function(a){if(o.stopPullDownRefresh(),console.log("bingooooooooooooo",a),o.hideLoading(),o.setStorageSync("userinfo",a.data),t.setData({userInfo:a.data}),a.data&&a.data.mobile){console.log(" res.data---\x3e",a.data);var n=a.data.mobile.substring(0,3)+"****"+a.data.mobile.substr(7,10);e.setData({mobile:n,"userInfo.mobileHidden":n})}}).catch(function(e){return console.log(e)})},logout:function(){var e=this;o.showLoading({title:"加载中"}),b.default.logout().then(function(t){o.stopPullDownRefresh(),console.log("bingooooooooooooo",t),t.data.result&&e.lookup()}).catch(function(e){return console.log(e)})},showToast:function(e){this.showZanToast(e)},queryMine:function(){var e=this,t={sign:"profile"};b.default.getIndexMenu(t).then(function(t){o.stopPullDownRefresh(),console.log("bingooooooooooooo",t),o.hideLoading(),e.setData({mine:t.data.options,isShow:!0}),e.genMenu(t.data.options)}).catch(function(e){return console.log(e)})},genMenu:function(e){var t=[];1==e.balanceIsShow&&t.push({type:"balance",title:"我的余额",icon:"http://imgcdnali.wfenxiao.com.cn/xcx/c/1120/balance.png",url:"/pages/storevalue/mybalance/index"}),1==e.collectionIsShow&&t.push({type:"collection",title:"我的收藏",icon:"http://imgcdnali.wfenxiao.com.cn/xcx/c/1120/mine-collection.png",url:"/pages/mine/collection/index"}),1==e.couponIsShow&&t.push({type:"coupon",title:"优惠券",icon:"http://imgcdnali.wfenxiao.com.cn/xcx/c/sicons/coupon.png",url:"/pages/mine/coupons/coupons"}),1==e.cardIsShow&&t.push({type:"card",title:"会员卡",icon:"http://imgcdnali.wfenxiao.com.cn/xcx/c/sicons/card.png",url:"/pages/mine/cards/cards"}),1==e.pointsIsShow&&t.push({type:"score",title:"我的积分",icon:"http://imgcdnali.wfenxiao.com.cn/xcx/c/sicons/score.png",url:"/pages/mine/scores/scores"}),1==e.giftCardShow&&t.push({type:"giftcard",title:"我的礼品卡",icon:"http://imgcdnali.wfenxiao.com.cn/xcx/c/sicons/giftcards.png",url:"/pages/giftcard/mygiftcard/index"}),1==e.yuyueIsShow&&t.push({type:"yuyue",title:"我的预约",icon:"http://imgcdnali.wfenxiao.com.cn/xcx/c/sicons/yuyue.png",url:"/pages/services/orders/index"}),1==e.evaluateIsShow&&t.push({type:"evaluate",title:"我的评价",icon:"http://imgcdnali.wfenxiao.com.cn/xcx/c/1120/evaluate.png",url:"/pages/pingjia/myevaluate/index?sType=8"}),1==e.distributionIsShow&&t.push({type:"fenxiao",title:e.distributionName,icon:"http://imgcdnali.wfenxiao.com.cn/xcx/c/sicons/fenxiao.png",url:"/pages/fenxiao/center/index"}),1==e.distributionGoodsIsShow&&t.push({type:"fenxiaoGoods",title:"分销商品库",icon:"http://imgcdnali.wfenxiao.com.cn/xcx/c/sicons/fenxiaogoods.png",url:"/pages/fenxiao/products/index?type=mylist"}),1==e.fightGroupShow&&t.push({type:"tuan",title:"我的拼团",icon:"http://imgcdnali.wfenxiao.com.cn/xcx/c/sicons/tuan.png",url:"/pages/tuan/mytuan/index"}),1==e.hotelIsShow&&t.push({type:"hotel",title:"我的酒店",icon:"http://imgcdnali.wfenxiao.com.cn/xcx/c/sicons/hotel.png",url:"/pages/hotel/orders/index"}),1==e.foodIsShow&&t.push({type:"food",title:"我的餐饮",icon:"http://imgcdnali.wfenxiao.com.cn/xcx/c/sicons/food.png",url:"/pages/food/myfood/index"}),1==e.timesCardIsShow&&t.push({type:"timescard",title:"次卡",icon:"http://imgcdnali.wfenxiao.com.cn/xcx/c/sicons/timescard-icon.png",url:"/pages/car/my/index"}),1==e.carProjectIsShow&&t.push({type:"carprojectorders",title:"汽车服务",icon:"http://imgcdnali.wfenxiao.com.cn/xcx/c/sicons/carservice-icon.png",url:"/pages/car/projectorders/index"}),1==e.supplyShow&&t.push({type:"supply",title:"我的供求",icon:"http://imgcdnali.wfenxiao.com.cn/xcx/c/sicons/supply.png",url:"/pages/gongqiu/mygongqiu/index"}),1==e.liveIsShow&&t.push({type:"live",title:"我的直播",icon:"http://imgcdnali.wfenxiao.com.cn/xcx/c/live/mylive.png",url:"/pages/live/favorites/index"}),1==e.courseShow&&t.push({type:"courseShow",title:"我的课程",icon:"http://imgcdnali.wfenxiao.com.cn/xcx/c/sicons/course.png",url:"/pages/edu/favorites/index"}),e.online&&1==e.online.isShow&&t.push({type:"contact",title:"客服",icon:"http://imgcdnali.wfenxiao.com.cn/xcx/c/sicons/contact.png"}),e.link&&1==e.link.isShow&&t.push({type:"phone",title:"电话",icon:"http://imgcdnali.wfenxiao.com.cn/xcx/c/sicons/phone.png",bindtap:"makephone"}),e.about&&1==e.about.isShow&&t.push({type:"about",title:"关于我们",icon:"http://imgcdnali.wfenxiao.com.cn/xcx/c/sicons/about.png",bindtap:"makeabout"}),1==e.bargainIsShow&&t.push({type:"bargainIsShow",title:"我的砍价",icon:"http://imgcdnali.wfenxiao.com.cn/xcx/c/sicons/cutprice.png",url:"/pages/mine/cutprice/index"}),this.setData({menus:t})},makephone:function(){var e=this.data.mine.link,t=e.telephone,a=e.phone,n=e.extNum;console.log(this.data.mine.link,"kkkkkkkkkkkkkkkkkk");var i=[];if(t&&(n?i.push(t+"转"+n):i.push(t)),a&&i.push(a),i.length>0){this.setData({phoneList:i});var s=this.selectComponent(".phoneaction");s&&s.show()}else o.makePhoneCall({phoneNumber:i[0]})},makeabout:function(){o.navigateTo({url:"/pages/aboutmine/aboutmine?aboutmine="+JSON.stringify(this.data.mine.about)})},handleLogin:function(){o.navigateTo({url:"/pages/login/login"})},navToProfile:function(){var e=this.data.userInfo;e.mobile?(i().setFlash("userInfo",e),o.navigateTo({url:"/pages/mine/user/profile/index"})):o.navigateTo({url:"/pages/login/login"})},handleMakeUrl:function(e){var t=e.currentTarget.dataset.url;this.data.userInfo.mobile?o.navigateTo({url:t}):o.navigateTo({url:"/pages/login/login"})},onUnload:function(){T.default.remove(S.default.action.BIND_PHONE_SUCCESS,this)},onHide:function(){this.setData({showModal:!1,url:"/pages/login/login"})},changeuser:function(){var e=o.getStorageSync("userinfo");this.setData({userInfo:e})}}),Page(I)}),window.define("tabs/order/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}var y=e("../../component/o2o-orders/orders"),v=m(y),w=e("../../utils/util"),x=m(w),b=e("../../dist/index"),D=m(b),S={data:{}};x.default.registComp(S,D.default.TopTips,v.default),Page(S)}),window.define("tabs/about/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}var y=e("../../component/about/about"),v=m(y),w=e("../../utils/util"),x=m(w),b={data:{}};x.default.registComp(b,v.default,{onShareAppMessage:function(){return{path:"/tabs/home/index?shareCode="+i().globalData.userinfo.shareCode}}}),Page(b)}),window.define("tabs/map/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}var y=e("../../component/map/map"),v=m(y),w=e("../../utils/util"),x=m(w),b={data:{loadmore:!1,loadingmore:!1,query:{pageNo:1,pageSize:20}}};x.default.registComp(b,v.default,{onShareAppMessage:function(){return{path:"/tabs/home/index?shareCode="+i().globalData.userinfo.shareCode}}}),Page(b)}),window.define("tabs/brandlist/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}var y=e("../../network/api.js"),v=m(y),w=e("../../utils/const.js"),x=m(w),b=e("../../utils/notification"),D=m(b),S=e("../../utils/location.js"),C=m(S);Page({data:{locationSuccess:!0,loadmore:!1,loadingmore:!1,query:{pageNo:1,pageSize:20}},init:function(){var e=this,t=i().globalConfig;if(t)if(this.setData(Object.assign({},this.data,{globalConfig:t})),t.isEnableLocation){var a=i().globalData.location;a&&a.location?(this.setData({location:a}),this.queryBrandList({pageNo:1,pageSize:20},!0)):(o.showLoading({title:"定位中..."}),C.default.ensureLocation(t).then(function(){o.hideLoading()}).catch(function(t){console.log(t),e.setData({locationSuccess:!1}),o.hideLoading()}))}else o.showLoading({title:"请稍候"}),this.queryBrandList({pageNo:1,pageSize:20},!0)},onLoad:function(){var e=this;D.default.register(x.default.action.QUERY_CONFIG_SUCCESS,this,function(){e.init()}),D.default.register(x.default.action.LOCATION_CHANGED,this,function(t){e.setData({location:t.data,locationSuccess:!0}),o.showLoading({title:"请稍候"}),e.queryBrandList({pageNo:1,pageSize:20},!0)}),this.init()},queryBrandList:function(e,t){var a=this;v.default.getBrandListByLocation(e).then(function(e){console.log(e,"++++"),o.hideLoading(),a.setData({list:t?e.data.data:a.data.list.concat(e.data.data),isShow:!0,loadmore:e.data.nextCursor>0,loadingmore:!1,query:{pageNo:e.data.nextCursor,pageSize:e.data.pageSize}}),console.log(e,"++++++++++++")}).catch(function(e){return console.log(e)})},handlestorelist:function(e){var t=e.currentTarget.dataset.brand;i().setFlash("brand",t),o.navigateTo({url:"/pages/storelist/storelist"})},lower:function(e){console.log(this.data.loadmore,!this.data.loadingmore,"+++++++++++++++++"),this.data.loadmore&&!this.data.loadingmore&&(console.log(e),this.setData({loadingmore:!0}),this.queryBrandList(this.data.query,!1))},onUnload:function(){D.default.remove(x.default.action.QUERY_CONFIG_SUCCESS,this),D.default.remove(x.default.action.LOCATION_CHANGED,this)}})}),window.define("tabs/custome/custome",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../../network/api"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Page({data:{width:750},onLoad:function(){var e=i().globalConfig;this.setData({globalConfig:e}),o.showLoading({title:"请稍后"}),this.queryCustom()},onShareAppMessage:function(){var e=i().globalData.userinfo;return{imageUrl:this.data.shareImg,path:"/tabs/custome/custome?shareCode="+e.shareCode,title:this.data.desc||this.data.title}},onPullDownRefresh:function(){this.queryCustom(),console.log("++++++++++++++++")},queryCustom:function(){var e=this;y.default.queryCustom().then(function(t){o.stopPullDownRefresh(),o.hideLoading(),e.setData(Object.assign({},t.data,{serverTime:t.serverTime}))}).catch(function(e){console.log(e),o.hideLoading()})}})}),window.define("tabs/carts/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../../network/api.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Page({data:{},onLoad:function(){var e=o.getStorageSync("userinfo");this.setData({userinfo:e}),o.showLoading({title:"请稍后",mask:!0})},queryCarts:function(){var e=this;y.default.queryCarts().then(function(t){o.hideLoading(),e.setData({carts:t.data})})},onShow:function(){this.queryCarts();var e=o.getStorageSync("userinfo");this.setData({userinfo:e})},deleteStore:function(e){var t=e.currentTarget.dataset.storeid,a=this;o.showModal({content:"确定清空购物车的商品吗？",cancelText:"取消",confirmText:"确定",success:function(e){e.confirm&&(o.showLoading({title:"请稍后",mask:!0}),y.default.clearCartStoreAll({storeId:t}).then(function(e){e&&e.data&&e.data.result&&(o.showLoading({title:"请稍后",mask:!0}),a.queryCarts())}).catch(function(e){return console.log(e)}))}}),console.log(t)},changeuser:function(){var e=o.getStorageSync("userinfo");this.setData({userinfo:e})},gotoLogin:function(){o.navigateTo({url:"/pages/login/login"})}})}),window.define("tabs/publish/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Page({data:{},bindPublish:function(e){var t=e.currentTarget.dataset.url;console.log(e);var a=o.getStorageSync("userinfo");this.setData({userinfo:a}),a.mobile?o.navigateTo({url:t}):this.setData({showModal:!0,url:"/pages/login/login"})}})}),window.define("tabs/supplyBuy/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}var y=e("../../component/supply/supply"),v=m(y),w=e("../../utils/util"),x=m(w),b=e("../../dist/index"),D={data:{}};x.default.registComp(D,v.default,b.TopTips,{onShareAppMessage:function(){return{path:"/tabs/home/index?shareCode="+i().globalData.userinfo.shareCode}}}),Page(D)}),window.define("tabs/info/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Page({data:{options:{}},onLoad:function(e){this.setData({options:Object.assign({},e,{from:"tabs",dsId:"",dataType:1})})}})}),window.define("tabs/fenxiao/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}var y=e("../../utils/util.js"),v=m(y),w=e("../../component/fenxiao/index.js"),x=m(w),b=v.default.registComp({},x.default,{onShow:function(){x.default.onShow.call(this),this.init()},onHide:function(){this.setData({showModal:!1,url:"/pages/login/login"})}});Page(b)}),window.define("tabs/giftCard/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../../network/api.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Page({data:{giftcardlistData:[]},onLoad:function(e){this.queryGiftcardList()},onPullDownRefresh:function(){this.queryGiftcardList()},queryGiftcardList:function(){var e=this;o.showLoading({title:"请稍后"}),y.default.getIndexMenu({sign:"giftCard"}).then(function(t){console.log(t,"++++"),o.hideLoading(),e.setData({giftcardlistData:t.data.options.data})}).catch(function(e){return console.log(e)})},onTapGiftCardBuy:function(e){var t=e.currentTarget.dataset.id;o.navigateTo({url:"/pages/giftcard/buy/index?urlType=tabGigtCard&id="+t})}})}),window.define("tabs/goodsCategory/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../../network/api.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Page({data:{brandList:[],currentIndex:0},onLoad:function(){o.showLoading({title:"请稍后"})},onShow:function(){this.queryList()},handleCheckClassify:function(e){console.log(e,"eee"),o.navigateTo({url:"/pages/sources/products/index?categoryIds="+e.id})},queryList:function(){var e=this;y.default.queryIndexCategoryV2().then(function(t){console.log(t,"res"),o.hideLoading(),e.setData({brandList:t.data})})}})}),window.define("tabs/company/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Page({data:{selectArea:{},tab:"tab",dataType:1},onLoad:function(){this.selectComponent("#company").handleLoad()},onShow:function(){var e=i().getFlash("address");if(e){console.log(e);var t=e.province,a=e.city,n=e.district;this.setData({selectArea:{provinceCode:t.code,cityCode:a.code||0,districtCode:n.code||0,city:""+(t.fullName||"")+(a.fullName||"")+(n.fullName||""),code:((t.code||0)+","+(a.code||0)+","+(n.code||0)).split(",").filter(function(e){return 0!=e}).join(",")}})}}})}),window.define("tabs/picture/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Page({onLoad:function(){this.selectComponent("#picture").handleLoad({})}})}),window.define("tabs/designer/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Page({onLoad:function(e){this.selectComponent("#designer").handleLoad(Object.assign({},e,{from:"dataSource",dsId:"",dataType:1}))}})}),window.define("tabs/live/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Page({onShow:function(){this.selectComponent("#livePage").renderStartButton()}})}),window.define("modules/map/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}var y=e("../../component/map/map"),v=m(y),w=e("../../utils/util"),x=m(w),b={data:{loadmore:!1,loadingmore:!1,query:{pageNo:1,pageSize:20}}};x.default.registComp(b,v.default),Page(b)}),window.define("modules/custome/custome",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../../network/api"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Page({onPullDownRefresh:function(){var e=this.data.id;this.queryPageById(e)},onLoad:function(e){this.setData({id:e.id}),o.showLoading({title:"请稍后"}),this.queryPageById(e.id)},onShareAppMessage:function(){return{imageUrl:this.data.shareImg,title:this.data.desc||this.data.title}},queryPageById:function(e){var t=this;y.default.getPageById({id:e}).then(function(e){o.stopPullDownRefresh(),o.hideLoading(),t.setData(Object.assign({},e.data,{serverTime:e.serverTime}))}).catch(function(e){console.error(e),o.hideLoading()})}})}),window.define("pages/webview/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../../utils/util.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Page({onLoad:function(e){console.log(y.default.parse(e.url),"options"),this.setData({url:y.default.parse(e.url)})}})}),window.define("pages/addressdetail/addressdetail",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}var y=e("../../network/api"),v=m(y),w=e("../../utils/const.js"),x=m(w),b=e("../../utils/notification"),D=m(b),S=e("../../utils/location.js"),C=m(S),T=e("../../utils/util.js"),_=m(T),k=e("../../dist/index"),I=_.default.registComp({},k.Toast,{onLoad:function(e){var t=e.addressid;this.setData({id:t}),o.showLoading({title:"加载中"})},onShow:function(){this.queryAddressList({pageSize:1e3,pageNo:1,gpsType:"gps"})},editaddress:function(e){console.log(e.currentTarget.dataset,"+++++++++");var t=e.currentTarget.dataset.address;o.navigateTo({url:"/pages/address/new/new?type=edit&isAddress=true&item="+_.default.stringify(t)})},newaddress:function(){o.getStorageSync("userinfo").mobile?o.navigateTo({url:"/pages/address/new/new?type=new&isAddress=true"}):this.setData({showModal:!0,url:"/pages/login/login"})},queryAddressList:function(e){var t=this;v.default.queryAddressList(e).then(function(e){o.stopPullDownRefresh(),o.hideLoading(),console.log("bingooooooooooooo",e),t.setData({list:e.data.data,isShow:!0})}).catch(function(e){return console.log(e)})},getLocation:function(){var e=this;o.showLoading({title:"定位中..."}),C.default.getLocation().then(function(){o.hideLoading(),o.navigateBack()}).catch(function(t){o.hideLoading(),console.log(t),e.showZanToast("定位失败，请重试定位或选择其他收货地址")})},makesetting:function(){var e=this;o.getSetting({success:function(t){t.authSetting["scope.userLocation"]?e.getLocation():o.openSetting({success:function(t){t.authSetting["scope.userLocation"]&&e.getLocation()}})}})},addressLocation:function(e){var t=e.currentTarget.dataset.address;v.default.getUserLocation({latitude:t.lat,longitude:t.lng,type:0}).then(function(e){var a=o.getStorageSync("location"),n=Object.assign({},a,{latitude:t.lat,longitude:t.lng,location:t.title,cityName:t.city,addressId:t.id,cityCode:e.data.cityCode});i().globalData.location=n,o.setStorageSync("location",n),D.default.post(x.default.action.LOCATION_CHANGED,n)}),o.navigateBack()},makesearch:function(){o.redirectTo({url:"/pages/addresssearch/addresssearch"})}});Page(I)});window.define("pages/addresssearch/addresssearch",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}var y=e("../../network/api"),v=m(y),w=e("../../utils/const"),x=m(w),b=e("../../utils/notification"),D=m(b);Page({data:{},onLoad:function(e){var t=this;this.queryCitys();var a=i().globalData.location;console.log(a,"location"),a&&this.setData({cityName:a.cityName}),D.default.register(x.default.action.SEARCH_CITY,this,function(e){console.log("get notiffffffffffffffffffffff",e),t.setData({cityName:e.data})})},changevalue:function(e){console.log(e.detail.value),this.setData({inputValue:e.detail.value})},clearValue:function(){this.setData({inputValue:""})},searchCtiy:function(e){console.log(e.detail.value);var t={cityName:this.data.cityName,keyword:""+e.detail.value};this.queryMap(t)},handleSearch:function(){var e={cityName:this.data.cityName,keyword:this.data.inputValue};this.queryMap(e)},queryMap:function(e){var t=this;o.showLoading({title:"加载中"}),v.default.queryMap(e).then(function(e){o.hideLoading(),o.stopPullDownRefresh(),console.log("bingooooooooooooo",e),t.setData({addresslist:e.data})}).catch(function(e){return console.log(e)})},makeCitys:function(){o.navigateTo({url:"/pages/citys/citys?city="+this.data.cityName+"&from=search"})},queryCitys:function(){var e=this;v.default.getIndexCities().then(function(t){o.stopPullDownRefresh();for(var a=t.data.cityList,n=[],i=0;i<a.length;i++)n=n.concat(a[i].cities);e.data.cityName||e.setData({cityName:n[0]})}).catch(function(e){return console.log(e)})},bindaddress:function(e){console.log("item",e.currentTarget.dataset.item);var t=e.currentTarget.dataset.item,a={latitude:t.location.lat,longitude:t.location.lng,location:t.title,cityName:t.city,addressId:t.id};i().globalData.location=a,o.setStorageSync("location",a),v.default.getUserLocation({latitude:t.location.lat,longitude:t.location.lng,type:0}).then(function(e){D.default.post(x.default.action.LOCATION_CHANGED,a),o.navigateBack()})},onUnload:function(){D.default.remove(x.default.action.SEARCH_CITY,this)}})}),window.define("pages/citys/citys",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}var y=e("../../network/api"),v=m(y),w=e("../../utils/const.js"),x=m(w),b=e("../../utils/notification"),D=m(b),S=e("../../utils/location.js"),C=m(S);Page({data:{},onLoad:function(e){e.city&&this.setData({city:e.city}),e.isLocation&&this.setData({isLocation:e.isLocation}),e.from&&this.setData({type:e.from});var t=o.getStorageSync("config");this.setData({config:t}),this.querycitys()},hotCity:function(){this.setData({scrollTop:0})},clickLetter:function(e){console.log(e.currentTarget.dataset.letter);var t=e.currentTarget.dataset.letter;this.setData({showLetter:t,isShowLetter:!0,scrollTopId:t});var a=this;setTimeout(function(){a.setData({isShowLetter:!1})},1e3)},querycitys:function(){var e=this;o.showLoading({title:"加载中"}),v.default.queryIndexCityV2().then(function(t){o.stopPullDownRefresh(),e.setData({isShow:!0,cityList:t.data.cityList,shortNames:t.data.shortNames,hots:t.data.hotCityList},function(){o.hideLoading()}),console.log(t,"+++++++++++")}).catch(function(e){return console.log(e)})},bindCity:function(e){var t=e.currentTarget.dataset.city;if(console.log(t,"+++++++++++++++++++++"),this.setData({searchShow:!1,searchlist:[],city:t.cityName}),o.showLoading({title:"加载中"}),"hotel"==this.data.type)D.default.post(x.default.action.HOTEL_LOCATION_CHANGED,{location:t.cityName,cityName:t.cityName,isLocation:2,cityCode:t.cityCode}),o.navigateBack();else if("search"==this.data.type)D.default.post(x.default.action.SEARCH_CITY,t.cityName),o.navigateBack();else{var a=o.getStorageSync("location"),n=a.latitude,s=void 0===n?"":n,r=a.longitude,d=void 0===r?"":r;v.default.selectIndexCityV2({cityCode:t.cityCode,latitude:""+s,longitude:""+d}).then(function(e){if(o.stopPullDownRefresh(),o.hideLoading(),e.data.result){var a=i().globalData.location,n=Object.assign({},a,{location:t.cityName,cityName:t.cityName,cityCode:t.cityCode});i().globalData.location=n,o.setStorageSync("location",n),D.default.post(x.default.action.HOTEL_LOCATION_CHANGED,{location:t.cityName,cityName:t.cityName,isLocation:2,cityCode:t.cityCode}),D.default.post(x.default.action.LOCATION_CHANGED,n),o.navigateBack()}}).catch(function(e){return console.log(e)})}},searchCtiy:function(e){var t=this;if(console.log(e.detail.value),""!==e.detail.value){var a={keyword:e.detail.value};v.default.queryIndexSearchCity(a).then(function(e){o.stopPullDownRefresh(),o.hideLoading(),t.setData({searchShow:!0,searchlist:e.data}),console.log(e,"+++++++++++")}).catch(function(e){return console.log(e)})}},removesearch:function(e){""==e.detail.value&&this.setData({searchShow:!1,searchlist:[]})},getLocation:function(){var e=this,t=this;o.showLoading({title:"定位中..."}),C.default.getLocationInfo().then(function(t){console.log(t,"res"),"hotel"==e.data.type&&D.default.post(x.default.action.HOTEL_LOCATION_CHANGED,{cityName:t.cityName,location:t.location,isLocation:1,cityCode:t.cityCode}),o.hideLoading(),o.navigateBack()}).catch(function(e){o.hideLoading(),console.log(e),t.showZanToast("定位失败，请重试定位或选择其他城市")})},makesetting:function(){var e=this;o.getSetting({success:function(t){t.authSetting["scope.userLocation"]?e.getLocation():o.openSetting({success:function(t){t.authSetting["scope.userLocation"]&&e.getLocation()}})}})},hideSearch:function(){this.setData({searchShow:!1})}})}),window.define("pages/login/login",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}var y=e("../../utils/util"),v=m(y),w=e("../../network/api"),x=m(w),b=e("../../utils/const.js"),D=m(b),S=e("../../utils/notification.js"),C=m(S),T=e("../../dist/index"),_={data:{loading:!1,verify:!1,count:60,countDown:!1,steps:[{current:!0,done:!0,text:"步骤一",desc:"10.01"},{done:!1,current:!1,text:"步骤二",desc:"10.02"}]}};v.default.registComp(_,T.Toast,T.TopTips,{onLoad:function(e){var t=e.type||"",a=e.from||"",n=e.channelCode||"",o=e.zhaomuName||"";this.setData({type:t,from:a,zhaomuName:o,channelCode:n})},getCode:function(){var e=this;if(this.data.verify){var t=this,a={mobile:this.data.phone};this.data.loading||this.data.countDown||(o.showLoading({title:"请稍候"}),this.setData({loading:!0}),x.default.checkBindMobileIsExist(a).then(function(n){o.hideLoading(),o.stopPullDownRefresh(),e.setData({loading:!1}),n.data.exist?e.showZanTopTips("该手机号已经被绑定过"):(e.setData({countDown:!0}),x.default.getVerifyCode(a).then(function(a){o.stopPullDownRefresh(),console.log("bingooooooooooooo",a),a.data.result?t.setCount():e.showZanTopTips("获取验证码失败")}).catch(function(e){return console.log(e)}))}).catch(function(t){console.log(t),o.hideLoading(),e.setData({loading:!1})}))}},verifyPhone:function(e){this.setData({verify:11==e.detail.value.length&&/^1[0-9]{10}$/.test(e.detail.value),phone:e.detail.value})},formSubmit:function(e){var t=this;console.log(e.detail.value);var a=e.detail.value,n=void 0;return a.phone&&0!=a.phone.trim().length?/^1[0-9]{10}$/.test(a.phone)?a.verifyCode&&0!=a.verifyCode.trim().length?void x.default.bindMobile({verifyCode:a.verifyCode,mobile:a.phone}).then(function(e){if(o.stopPullDownRefresh(),console.log("bingooooooooooooo",e),e.data.result){o.showToast({title:"手机号绑定成功",duration:1e3});var n=o.getStorageSync("userinfo");console.log(n),n.mobile=a.phone,o.setStorageSync("userinfo",n),i().globalData.userinfo=n,console.log("this.data.type="+t.data.type),"zhaomu"===t.data.type?t.applyRecruitment():o.navigateBack({delta:1})}else t.showZanTopTips(e.data.msg?e.data.msg:"验证码不正确")}).catch(function(e){return console.log(e)}):(n="验证码不能为空",void this.showZanTopTips(n)):(n="请输入正确手机号",void this.showZanTopTips(n)):(n="手机号不能为空",void this.showZanTopTips(n))},applyRecruitment:function(){var e=this;x.default.applyRecruitment({from:this.data.from,channelCode:this.data.channelCode}).then(function(){var t=o.getStorageSync("userinfo");t.isDist=!0,o.setStorageSync("userinfo",t),i().globalData.userinfo=t,console.log("----userInfo--54545-------",t),e.data.zhaomuName||o.showToast({title:"恭喜您，已成功申请为"+e.data.zhaomuName+"！",duration:1e3}),C.default.post(D.default.action.BIND_PHONE_SUCCESS,{}),setTimeout(function(){o.navigateBack({delta:1})},2e3)}).catch(function(e){console.log("apply err=>",e),o.hideLoading(),o.showToast({title:x.default.errors(e.error)||"网络连接错误，请稍后重试",duration:1e3}),setTimeout(function(){o.navigateBack({delta:1})},2e3)})},setCount:function(){var e=this.data,t=e.count,a=e.phone,n=this;if(0==t&&11==a.length&&/^1[0-9]{10}$/.test(a))return void this.setData({verify:!0,phone:a,count:60,countDown:!1});var o=t-1;this.setData({count:o}),setTimeout(function(){n.setCount()},1e3)}}),Page(_)}),window.define("pages/brandlist/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}var y=e("../../component/brandlist/brandlist"),v=m(y),w=e("../../utils/util"),x=m(w),b={data:{loadmore:!1,loadingmore:!1,query:{pageNo:1,pageSize:20}}};x.default.registComp(b,v.default),Page(b)}),window.define("pages/aboutmine/aboutmine",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Page({onLoad:function(e){if(e){var t=JSON.parse(e.aboutmine);this.setData({about:t})}}})}),window.define("pages/page/search/search",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}var y=function(){function e(e,t){var a=[],n=!0,o=!1,i=void 0;try{for(var s,r=e[Symbol.iterator]();!(n=(s=r.next()).done)&&(a.push(s.value),!t||a.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&r.return&&r.return()}finally{if(o)throw i}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=e("../../../utils/es6-promise.min.js"),w=function(e){return e&&e.__esModule?e:{default:e}}(v),x=e("../../../network/api");Page({data:{tabs:[{title:"全部",current:!0},{title:"店铺"}],keyword:"",currentTab:0,products:{},stores:{}},onLoad:function(){},onTabSwitch:function(e){var t=e.currentTarget.dataset.index,a=this.data.tabs;console.log(t,a),a.forEach(function(e,a){e.current=t==a}),this.setData({tabs:a,currentTab:t})},onSearch:function(e){var t=this;console.log(e,"eeee"),o.showLoading({mask:!0,title:"请稍后"}),this.setData({keyword:e.value});var a={keyword:e.value,sort:"sales:descend"};w.default.all([(0,x.queryGoodsProperties)(a),(0,x.queryIndexGoods)(a),(0,x.queryIndexStores)(a)]).then(function(e){o.hideLoading();var a=y(e,3),n=a[0],i=a[1],s=a[2];console.log(e),t.setData({serverTime:i.serverTime,filters:n.data,products:i.data,stores:s.data})}).catch(function(e){o.hideLoading(),console.log(e)})},handleQueryProducts:function(e){var t=this;o.showLoading({mask:!0,title:"请稍后"});var a=e.sort,n=e.query,i=this.data.keyword,s=Object.assign({keyword:i,sort:a},n),r=this.data.products;(0,x.queryIndexGoods)(s).then(function(e){o.hideLoading();var a=e.data,n=m(e,["data"]);console.log(n,"+++++++++++++++,--------------"),a.pageNo>1?t.setData({products:Object.assign({},a,{data:r.data.concat(a.data)})}):t.setData({products:a,filters:a.data.length>0?t.data.filters:{}})}).catch(function(e){o.hideLoading(),console.log(e)})},handleQueryStores:function(e){var t=this;o.showLoading({mask:!0,title:"请稍后"});var a=e.sort,n=this.data.keyword,i={keyword:n,sort:a},s=this.data.stores;(0,x.queryIndexStores)(i).then(function(e){o.hideLoading();var a=e.data;a.pageNo>1?t.setData({stores:Object.assign({},a,{data:s.data.concat(a)})}):t.setData({stores:a})}).catch(function(e){o.hideLoading(),console.log(e)})},makeproject:function(e){var t=e.currentTarget.dataset.project;o.redirectTo({url:"/pages/services/service_detail/index?shopId="+t.storeId+"&serviceId="+t.id})}})}),window.define("pages/storelist/storelist",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../../network/api"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Page({data:{storelist:[],query:{pageSize:20,pageNo:1},storetype:""},onLoad:function(){var e=i().globalData.editionType,t=i().getFlash("brand");console.log(t);var a=t.id;this.setData({brand:t,storetype:e,query:Object.assign({},this.data.query,{brandId:a})}),o.showLoading({title:"加载中"}),this.queryStoreList(this.data.query)},makestore:function(e){console.log(e.currentTarget.dataset.store,")((((((((((((((()))))))))))))))"),o.redirectTo({url:"/pages/shop/products/products?storeid="+e.currentTarget.dataset.store.id})},queryStoreList:function(e,t){var a=this;y.default.getStoreListByLocation(e).then(function(e){o.hideLoading(),a.setData({storelist:t?e.data.data:a.data.storelist.concat(e.data.data),isShow:!0,loadmore:e.data.nextCursor>0,loadingmore:!1,query:Object.assign({},a.data.query,{pageNo:e.data.nextCursor,pageSize:e.data.pageSize})}),console.log(e,"++++++++++++")}).catch(function(e){return console.log(e)})},lower:function(e){console.log(this.data.loadmore,!this.data.loadingmore,"+++++++++++++++++"),this.data.loadmore&&!this.data.loadingmore&&(console.log(e),this.setData({loadingmore:!0}),this.queryStoreList(this.data.query,!1))},makePhone:function(e){var t=this;console.log(e.target.dataset),e.target.dataset.phone?o.makePhoneCall({phoneNumber:e.target.dataset.phone}):(this.setData({$toast:{show:!0}}),setTimeout(function(){t.setData({$toast:{show:!1}})},1500))}})}),window.define("pages/address/list/list",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}var y=e("../../../network/api"),v=m(y),w=e("../../../utils/util"),x=m(w),b=e("../../../dist/index"),D=m(b);Page(Object.assign({},D.default.Toast,{data:{list:[]},onLoad:function(e){if(o.showLoading({title:"请稍后"}),e.scoreorder){var t=x.default.parse(e.scoreorder);"order"==e.type&&this.setData({type:e.type}),this.setData({scoreorder:t,formData:x.default.parse(e.formData)})}},onReady:function(){},onShow:function(){this.data.scoreorder,this.queryAddressList({pageSize:999,pageNo:1})},makenew:function(){if(this.data.scoreorder){var e=this.data.scoreorder;"order"==this.data.type?o.redirectTo({url:"/pages/address/new/new?type=new&scoreorder="+x.default.stringify(e)+"&formData="+x.default.stringify(this.data.formData)+"&ordertype=order"}):o.redirectTo({url:"/pages/address/new/new?type=new&scoreorder="+x.default.stringify(e)+"&formData="+x.default.stringify(this.data.formData)})}else o.navigateTo({url:"/pages/address/new/new?type=new"})},makeorder:function(e){if(this.data.scoreorder){var t=e.currentTarget.dataset.address;console.log(t,"++++++++++++++");var a=this.data.scoreorder;a.consignee=t,this.data.type?(console.log(a,"scoreorder"),o.redirectTo({url:"/pages/orders/new/new?from=address&order="+x.default.stringify(a)+"&formData="+x.default.stringify(this.data.formData)})):o.redirectTo({url:"/pages/mine/scores/score_new_order?from=address&scoreorder="+x.default.stringify(a)+"&formData="+x.default.stringify(this.data.formData)})}},queryAddressList:function(){var e=this;v.default.queryAddressList({pageSize:999,pageNo:1,gpsType:"all"}).then(function(t){o.stopPullDownRefresh(),o.hideLoading(),console.log("bingooooooooooooo",t),e.setData({list:t.data.data,isShow:!0})}).catch(function(e){return console.log(e)})},editaddress:function(e){var t=e.currentTarget.dataset.item;if(this.data.scoreorder){var a=this.data.scoreorder;"order"==this.data.type?o.redirectTo({url:"/pages/address/new/new?type=edit&scoreorder="+x.default.stringify(a)+"&item="+x.default.stringify(t)+"&formData="+x.default.stringify(this.data.formData)+"&ordertype=order"}):o.redirectTo({url:"/pages/address/new/new?type=edit&scoreorder="+x.default.stringify(a)+"&item="+x.default.stringify(t)+"&formData="+x.default.stringify(this.data.formData)})}else o.navigateTo({url:"/pages/address/new/new?type=edit&item="+x.default.stringify(t)})},deleteaddress:function(e){var t=this;o.showModal({title:"确定要删除该地址吗",success:function(a){if(a.confirm){console.log(e.currentTarget.dataset,"e");var n=e.currentTarget.dataset.item.id;v.default.deleteAddress({id:n}).then(function(){if(t.showToast("地址删除成功"),o.showLoading({title:"请稍后"}),t.data.order){var e=t.data.goodsId;t.queryorderList({goodsId:e,pageSize:999,pageNo:1})}else t.data.scoreorder,t.queryAddressList({pageSize:999,pageNo:1})}).catch(function(){t.showToast("地址删除失败")})}}})},showToast:function(e){this.showZanToast(e)}}))}),window.define("pages/address/search/search",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}var y=e("../../../network/api"),v=m(y),w=e("../../../utils/util"),x=m(w);Page({data:{},onLoad:function(e){e.isWxAddress&&this.setData({isWxAddress:!0}),e.order?this.setData({order:x.default.parse(e.order),item:x.default.parse(e.item),formData:x.default.parse(e.formData)}):e.scoreorder&&(e.ordertype&&this.setData({ordertype:e.ordertype}),this.setData({scoreorder:x.default.parse(e.scoreorder),item:x.default.parse(e.item),formData:x.default.parse(e.formData)})),this.setData({cityName:e.city,provinceName:e.province,type:e.type})},handleChangeValue:function(e){this.setData({keyword:""+e.detail.value})},searchCtiy:function(){var e=this;if(this.data.keyword){var t={cityName:this.data.provinceName+this.data.cityName,keyword:this.data.keyword};v.default.queryMap(t).then(function(t){o.stopPullDownRefresh(),console.log("bingooooooooooooo",t),e.setData({addlist:t.data})}).catch(function(e){return console.log(e)})}},bindaddress:function(e){var t=e.currentTarget.dataset.item;if(this.data.order)if("edit"==this.data.type){console.log("+++++++++++++++++");var a=this.data.isWxAddress,n=void 0===a?"":a;this.handleJump("/pages/address/new/new?order="+x.default.stringify(this.data.order)+"&search="+x.default.stringify(t)+"&item="+x.default.stringify(this.data.item)+"&formData="+x.default.stringify(this.data.formData)+"&type="+this.data.type+"&isWxAddress="+n)}else this.handleJump("/pages/address/new/new?order="+x.default.stringify(this.data.order)+"&search="+x.default.stringify(t)+"&item="+x.default.stringify(this.data.item)+"&type="+this.data.type+"&formData="+x.default.stringify(this.data.formData));else if(this.data.scoreorder)if("edit"==this.data.type){var s="/pages/address/new/new?scoreorder="+x.default.stringify(this.data.scoreorder)+"&search="+x.default.stringify(t)+"&item="+x.default.stringify(this.data.item)+"&formData="+x.default.stringify(this.data.formData);this.data.ordertype?this.handleJump(s+"&ordertype=order"):this.handleJump(s)}else{var r="/pages/address/new/new?scoreorder="+x.default.stringify(this.data.scoreorder)+"&search="+x.default.stringify(t)+"&item="+x.default.stringify(this.data.item)+"&type="+this.data.type+"&formData="+x.default.stringify(this.data.formData);this.data.ordertype?this.handleJump(r+"&ordertype=order"):this.handleJump(r)}else console.log(t,"searchAddress"),i().setFlash("searchAddress",t),o.navigateBack()},handleJump:function(e){o.redirectTo({url:e})}})}),window.define("pages/address/new/new",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}var y=e("../../../dist/index"),v=m(y),w=e("../../../utils/util"),x=m(w),b=e("../../../network/api"),D=m(b),S={data:{isShow:!1,index:0,item:{},isbtn:!0,storetype:""}};x.default.registComp(S,v.default.Toast,{onLoad:function(e){var t=i().globalData.editionType;if(this.setData({storetype:t}),"edit"==e.type){var a=x.default.parse(e.item);this.setData({item:a})}if(e.search){var n=x.default.parse(e.search),o=x.default.parse(e.item);this.setData({item:Object.assign({},o,{lng:n.location.lng,lat:n.location.lat,title:n.title})})}e.isWxAddress&&this.setData({isWxAddress:!0}),e.isAddress&&this.setData({isAddress:!0}),e.scoreorder&&(e.ordertype&&this.setData({ordertype:e.ordertype}),this.setData({scoreorder:x.default.parse(e.scoreorder),formData:x.default.parse(e.formData)})),this.setData({type:e.type})},onReady:function(){},onShow:function(){var e=i().getFlash("address"),t=i().getFlash("searchAddress");console.log(t),e&&(this.data.item.city!==e.city.fullName&&this.setData({"item.title":"","item.lng":"","item.lat":""}),this.setData({"item.province":e.province.fullName,"item.cityCode":e.city.code,"item.city":e.city.fullName,"item.district":e.district.fullName||""})),t&&(console.log(t),this.setData({"item.lng":t.location.lng,"item.lat":t.location.lat,"item.title":t.title}))},formSubmit:function(){var e=void 0,t=this.data.item,a=t.province,n=t.city,o=t.district,i=t.title,s=t.address,r=t.name,d=t.phone,u=t.cityCode,c=t.lng,l=t.lat,p=t.adcode;if(n&&a?s&&0!=s.trim().length?r&&0!=r.trim().length?d&&0!=d.trim().length?/^1[0-9]{10}$/.test(d.trim())||(e="手机号码格式错误"):e="请输入手机号码":e="请输入姓名":e="请输入详细地址":e="请选择收货地区",e)this.showToast(e);else{var h={name:r,phone:d,address:s,province:a,city:n,district:o,adcode:u||p};if(i&&(h=Object.assign({},h,{title:i,lng:c,lat:l})),"new"==this.data.type)this.createAddress(h,!1);else{var g=this.data.item;h.id=g.id||"",this.editAddress(h,!1)}}},checkAddress:function(e,t,a){var n=this;D.default.isOutRange(e).then(function(e){if(console.log(e,"+++++++++++"),1==e.data.isOutRange){var i=n;o.showModal({content:"您的地址已超出商家配送范围",cancelText:"调整地址",confirmText:"仍然保存",success:function(e){e.confirm&&("edit"==a?i.data.isWxAddress?i.createWxAddress(t,!0):i.editAddress(t,!0):i.createAddress(t,!0))}})}else delete t.storeId,"edit"==a?n.data.isWxAddress?n.createWxAddress(t,!1):n.editAddress(t,!1):n.createAddress(t,!1)}).catch(function(e){return console.log(e)})},showToast:function(e){this.showZanToast(e)},onCommentChange:function(e){var t=this.data.item;t[e.target.id]=e.detail.value,this.setData({item:t})},createAddress:function(e){var t=this;console.log(this.data,"this.data.isbtn"),this.data.isbtn&&(this.setData({isbtn:!1}),o.showLoading({title:"请稍后"}),D.default.createAddress(e).then(function(e){if(console.log("bingooooooooooooo",e),t.setData({isbtn:!0}),t.data.scoreorder){var a=t.data.scoreorder;a.consignee=e.data,t.data.ordertype?(console.log(a,"scoreorder"),t.handleJump("/pages/orders/new/new?from=address&order="+x.default.stringify(a)+"&formData="+x.default.stringify(t.data.formData))):t.handleJump("/pages/mine/scores/score_new_order?from=address&scoreorder="+x.default.stringify(a)+"&formData="+x.default.stringify(t.data.formData))}else o.navigateBack({delta:1})}).catch(function(e){console.log(e),t.setData({isbtn:!0})}))},editAddress:function(e){var t=this;this.data.isbtn&&(this.setData({isbtn:!1}),o.showLoading({title:"请稍后"}),D.default.updataAddress(e).then(function(e){if(o.stopPullDownRefresh(),o.hideLoading({title:"请稍后"}),t.setData({isbtn:!0}),t.data.scoreorder){var a=t.data.scoreorder;a.consignee=e.data,t.data.ordertype?(console.log(a,"scoreorder"),t.handleJump("/pages/orders/new/new?from=address&order="+x.default.stringify(a)+"&formData="+x.default.stringify(t.data.formData))):t.handleJump("/pages/mine/scores/score_new_order?from=address&scoreorder="+x.default.stringify(a)+"&formData="+x.default.stringify(t.data.formData))}else o.navigateBack({delta:1})}).catch(function(e){console.log(e),t.setData({isbtn:!0})}))},handleJump:function(e){o.redirectTo({url:e})}}),Page(S)}),window.define("pages/brandmap/brandmap",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../../network/api"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Page({data:{height:100,isShow:!1,showDialog:!1},onLoad:function(e){var t=this;console.log(e);var a={brandId:e.id,flag:1,pageNo:1,pageSize:999};o.showLoading({title:"加载中"}),y.default.getStoreListByLocation(a).then(function(e){console.log(e.data.data,"++++"),o.hideLoading();var a=e.data.data.filter(function(e){return e.lat&&e.lng}).map(function(e){return{iconPath:"/images/tab/marker.png",width:30,height:45,id:e.id,areaNum:e.areaNum,latitude:e.lat,longitude:e.lng,title:e.storeName,openTimeJson:e.openTimeJson,tel:e.tel,detailAddress:""+e.detailAddress,brandName:e.brandName}});t.setData({markers:a,firstMaker:a[0],includePoints:a,isShow:!0})}).catch(function(e){return console.log(e)})},onReady:function(){this.setData({markers:this.data.markers,includePoints:this.data.includePoints,firstMaker:this.data.firstMaker})},markertap:function(e){var t=this;console.log("markertap",e),this.data.markers.map(function(a){a.id==e.markerId&&t.setData({store:a})});var a=83-4*this.data.store.openTimeJson.length;this.setData({showDialog:!0,height:a})},createmap:function(){var e=this.data.store;o.openLocation({name:e.title,address:e.detailAddress,latitude:parseFloat(e.latitude),longitude:parseFloat(e.longitude),success:function(e){console.log(e)}})},makephone:function(){var e=this.data.store,t=e.tel,a=e.areaNum,n=void 0===a?"":a;o.makePhoneCall({phoneNumber:""+n+t})}})}),window.define("pages/products/show/show",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var v=e("../../../network/api"),w=m(v),x=e("../../../component/open_tuan/index.js"),b=m(x),D=e("../../../utils/const.js"),S=m(D),C=e("../../../utils/notification"),T=m(C),_=e("../../../utils/util.js"),k=m(_),I=e("../../../utils/wxParse/wxParse.js"),L=e("../../../dist/index");Page(Object.assign({},L.Quantity,L.Tab,L.TopTips,L.Toast,b.default,{data:{loading:!0,showDialog:!1,showDialog1:!1,showShareDialog:!1,action:0,cartCount:0,formData:{num:{quantity:1,min:1,max:9999,hasSelect:!1},sku:{price:0,quantity:0},selectSku:{},selectSkuText:""},tabs:{list:[{id:"2",title:"商品详情"}],selectedId:"1",scroll:!1,height:42},tabs2:{list:[{id:"3",title:"购物须知"}],selectedId:"1",scroll:!1,height:42},goods:{id:0,name:"",price:0,props:[],content:"",images:[],coverImg:"",specs:[],skus:[]},relativeModule:{pttext:{listType:"type2",cartType:"type1",goods:[]}},toggle:!0,isFirstLoading:!0,isOnTapPic:!1,limit:!1},onLoad:function(e){var t=this;this.setData({id:e.id,shareCode:e.shareCode||"",isFromShop:e.isFromShop,from:e.from?"normal"==e.from?"":e.from:"",height:750,isService:e.isService||!1});var a=o.getStorageSync("config");console.log("+++++++++config",a),this.setData({config:a}),T.default.register(S.default.action.QUERY_CONFIG_SUCCESS,this,function(e){t.setData({config:e.data})})},onShow:function(){this.data.isOnTapPic||(this.data.isFirstLoading?(this.queryProductById(!0),this.setData({isFirstLoading:!1})):this.queryProductById(!1))},onUnload:function(){clearInterval(this.seckKilltimer),this.seckKilltimer=void 0,clearInterval(this.timerMore),this.timerMore=void 0,clearInterval(this.openTuanTimer),this.openTuanTimer=void 0,T.default.remove(S.default.action.QUERY_CONFIG_SUCCESS,this)},onShareAppMessage:function(){var e=i().globalData.userinfo,t=this,a="/pages/products/show/show?id="+this.data.id+"&shareCode="+e.shareCode;"distribution"==this.data.from&&1==this.data.goods.isDist&&(a+="&from=share"),console.log("===path=====onShareAppMessage",a,this.data.goods.storeId);var n=this.data.goods.name;return 2==this.data.goods.activityType&&(n="【"+this.data.goods.groupEvent.limitPeople+"人团】"+this.data.goods.groupPrice+"元拼 "+n+"，快来拼团吧!"),{title:n,path:a,success:function(){1!=t.data.goods.isShare?t.collection():w.default.onShareStore({storeId:t.data.goods.storeId})}}},startSecKillCount:function(){var e=this,t=this;this.seckKilltimer=setInterval(function(){if(0==t.data.goods.overTime)return clearInterval(e.timer),void e.queryProductById(!1);var a=t.data.goods.overTime-1;if(a<1)return clearInterval(e.timer),void(e.timer=void 0);t.setData({"goods.overTime":a,"goods.leftTime":k.default.renderTimer(a)})},1e3)},call:function(){var e=this,t=this.data.store,a=t.areaNum,n=t.tel,o=t.extNum,i=[],s=a?a+"-"+n:n;if(console.log("--tel--",n),n){o?i.push(s+"转"+o):i.push(s),console.log("--phone--",i),this.setData({phoneList:i});var r=this.selectComponent(".phoneaction");console.log("phoneaction",r),r&&r.show()}else this.setData({$toast:{show:!0}}),setTimeout(function(){e.setData({$toast:{show:!1}})},1500)},queryProductById:function(e){var t=this,a={};a.id=this.data.id,a.from=this.data.from,"distribution"==this.data.from&&(a.from="share"),a.shareCode=this.data.shareCode,e&&o.showLoading({title:"请稍候"}),console.log("获取商品详情params====>",a),w.default.getStoreGoodDetail(a).then(function(a){o.stopPullDownRefresh(),o.hideLoading();var n=a.data.imgUrl.map(function(e){return{imgUrl:e,link:e,title:e}}),i=[],s="";if(a.data.item&&a.data.item.length>0){console.log("res.data.item.length>0");for(var r=0;r<a.data.item.length;r++)if(a.data.item[r]&&a.data.item[r].values&&a.data.item[r].values.length>0){for(var d=[],u=0;u<a.data.item[r].values.length;u++)d[u]={id:a.data.item[r].values[u].itemValueId,name:a.data.item[r].values[u].itemValue};console.log("-specsList--------------\x3e",d),i[r]={id:a.data.item[r].itemId,name:a.data.item[r].name,specsList:d},0!=r?s+=","+a.data.item[r].name:s=a.data.item[r].name}}else s="数量";console.log("-tempSpecs--------------\x3e",i);var c=[];if(a.data.storeItem&&a.data.storeItem.length>0)for(var l=0;l<a.data.storeItem.length;l++){var p=a.data.storeItem[l].price,h=a.data.storeItem[l].groupPrice||0;4==a.data.activityType&&(p=a.data.storeItem[l].sharePrice),c[l]={id:a.data.storeItem[l].id,properties:a.data.storeItem[l].properties,quantity:a.data.storeItem[l].stock,price:p,groupPrice:h,minBuy:a.data.storeItem[l].minBuy,maxBuy:a.data.storeItem[l].maxBuy}}console.log("this.dealPrice(res.data.originalPrice)==>",t.dealPrice(a.data.originalPrice)),t.setData({goods:Object.assign({},a.data,{formatPrice:t.dealPrice(a.data.price),formatoriginalPrice:t.dealPrice(a.data.originalPrice),formatgroupPrice:t.dealPrice(a.data.groupPrice),formatsharePrice:t.dealPrice(a.data.sharePrice),gstock:a.data.stock,images:n,imgs:a.data.imgUrl,content:a.data.description,coverImg:a.data.imgUrl?a.data.imgUrl[0]:"",specs:i,skus:c,shareCode:a.data.shareCode||"",isShare:a.data.isShare,seckillStatus:a.data.seckillStatus,overTime:a.data.overTime||0,leftTime:1==a.data.activityType?k.default.renderTimer(a.data.overTime):{}}),store:a.data.store,loading:!1,skustexts:s,formData:{num:{quantity:0==a.data.stock?0:a.data.minBuy>0?a.data.minBuy:1,min:0==a.data.stock?0:1,max:a.data.stock,minBuy:0==a.data.stock?0:a.data.minBuy>0?a.data.minBuy:1,maxBuy:a.data.maxBuy>0&&a.data.maxBuy<a.data.stock?a.data.maxBuy:a.data.stock,hasSelect:!1},sku:{id:0,price:4==a.data.activityType?a.data.sharePrice:a.data.price,quantity:a.data.stock,groupPrice:a.data.groupPrice},selectSku:{},selectSkuText:""}}),e&&(I.wxParse("content","html",a.data.description?a.data.description:"暂无",t,5),I.wxParse("shopNotice","html",a.data.shopNotice?a.data.shopNotice:"暂无",t,5)),1==a.data.activityType&&a.data.overTime&&a.data.overTime>0?t.startSecKillCount():2==a.data.activityType&&a.data.groupEvent&&a.data.groupEvent.sponsoringList&&a.data.groupEvent.sponsoringList.length>0&&t.startOpenTuanCount()}).catch(function(e){console.log(e,";;;;;;;;;;;;;;;;;;;;;;;;;"),o.stopPullDownRefresh(),o.hideLoading()})},gotoshop:function(){console.log(this.data.isFromShop,"this.data.isFromShop"),0==this.data.config.bottomMenu?o.switchTab({url:"/tabs/home/index"}):this.data.isFromShop?o.navigateBack({delta:1}):o.redirectTo({url:"/pages/shop/products/products?storeid="+this.data.store.id})},onTapCarousel:function(e){o.previewImage({current:e.currentTarget.dataset.link,urls:this.data.goods.imgs})},toogleSpecDialog:function(){var e=this.data.showDialog?0:1,t=Object.assign({},this.data.formData);t.num.hasSelect=!0,this.setData({showDialog:!this.data.showDialog,action:e,formData:t,limit:!1})},hideDialog:function(){this.setData({showDialog:!1,action:0})},hideDialog1:function(){this.setData({showDialog1:!1})},handleZanQuantityChange:function(e){var t=parseInt(e.quantity),a=isNaN(t)?1:t;a==this.data.formData.num.max&&this.showZanTopTips("已达最大库存数量"),2==this.data.goods.activityType&&6==this.data.action?2==this.data.goods.groupEvent.isBuyLimited&&(a==this.data.goods.groupEvent.limitedCount?this.setData({limit:!0}):this.setData({limit:!1})):(0==this.data.goods.activityType&&3==this.data.action||2==this.data.goods.activityType&&3==this.data.action)&&this.data.formData.sku.maxBuy>0&&(a==this.data.formData.sku.maxBuy?this.setData({limit:!0}):this.setData({limit:!1})),this.setData(y({},"formData.num.quantity",a))},handleBuyNow:function(){this.normalBuyNow()},resetSku:function(){var e=this.data.goods.storeItem;console.log("storeItem====>",e);var t=[],a=this.data.goods;a=Object.assign({},a,{skus:t}),this.setData({goods:a})},normalBuyNow:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=i().globalData.userinfo;if(console.log(this.data.action,"KKKKKKKKKKKKKKK",n.accessToken),!n||!n.mobile)return o.navigateTo({url:"/pages/login/login"}),void this.hideDialog();var s=this.data.formData.selectSku,r=this.data.formData.num.hasSelect,d=this.data.formData.num.quantity,u=this.data.goods.specs.length==Object.getOwnPropertyNames(s).length;if(2==this.data.goods.activityType&&6==a?2==this.data.goods.groupEvent.isBuyLimited&&(d==this.data.goods.groupEvent.limitedCount?this.setData({limit:!0}):this.setData({limit:!1})):2==this.data.goods.activityType&&3==a&&this.setData({limit:!1}),(0==this.data.goods.activityType&&3==a||2==this.data.goods.activityType&&3==this.data.action)&&(this.setData({limit:!1}),this.data.formData.sku.maxBuy>0&&(d==this.data.formData.sku.maxBuy?this.setData({limit:!0}):this.setData({limit:!1}))),console.log(this.data.formData.num.quantity,"666",this.data.limit,"777",this.data.action),0==this.data.goods.gstock)this.showZanTopTips("库存为零");else if(r&&u)o.showLoading({title:"请稍候"}),this.setData({showDialog:!1,action:0}),w.default.checkoutSingleOrder(Object.assign({goodsId:this.data.goods.id,propertiesId:this.data.formData.sku.id,num:d,consigneeId:-1},t)).then(function(a){o.hideLoading(),e.setData({showDialog:!1,action:0});var n=a.data;n.shareCode=t.shareCode||"",console.log("checkoutSingleOrder====>",n),1==n.buyLimit?o.showModal({title:"提示",content:"活动期间每人限购"+e.data.goods.limitedCount+"件，\n超出"+e.data.goods.limitedCount+"件恢复原价",success:function(){o.navigateTo({url:"/pages/orders/new/new?order="+k.default.stringify(n)})}}):o.navigateTo({url:"/pages/orders/new/new?order="+k.default.stringify(n)})}).catch(function(t){console.log("err----\x3e",t);var a="";t.data&&t.data.data&&t.data.data.length>0?(t.data.data.forEach(function(e){var t=e.properties.split(";"),n="";t.forEach(function(e){e&&e.length>0&&(n+=e.split(":")[1]||"")});var o=e.maxBuy?"最多购买"+e.maxBuy+"件":""+e.maxBuy?"最少购买"+e.minBuy+"件":"";a+=e.goodsName+":"+n+o+"  "}),a+="超出购买范围"):a=t.data&&t.data.msg?t.data.msg:w.default.errors(t.error)||t.errorMessage||"订单创建失败",e.showZanTopTips(a),o.hideLoading(),e.setData({showDialog:!1,action:0})});else if(!this.data.showDialog){var c=Object.assign({},this.data.formData);c.num.hasSelect=!0,this.setData({showDialog:!0,action:a,formData:c})}},handleAddCart:function(){var e=this,t=this.data.formData.selectSku,a=this.data.formData.num.hasSelect,n=this.data.formData.num.quantity,i=this.data.goods.specs.length==Object.getOwnPropertyNames(t).length;if(console.log("----handleAddCart--------",i,a),0==this.data.goods.gstock)this.showZanTopTips("库存为零");else if(a&&i){o.showLoading({title:"请稍候"}),this.setData({showDialog:!1,action:0});var s=this;w.default.addToCart({goodsId:this.data.goods.id,propertiesId:this.data.formData.sku.id,quantity:n}).then(function(){o.hideLoading(),s.showZanTopTips(e.data.goods.name+"加入购物车成功"),e.setData({showDialog:!1,action:0})}).catch(function(t){console.log("err===============",t);var a=t.data&&t.data.msg?t.data.msg:"加入购物车失败";e.showZanTopTips(a),o.hideLoading(),e.setData({showDialog:!1,action:0})})}else if(console.log("--------"),!this.data.showDialog){var r=Object.assign({},this.data.formData);r.num.hasSelect=!0,this.setData({showDialog:!0,action:2,formData:r})}},handleFenXiaoBuyNow:function(){var e="";this.data.goods.isDist&&1==this.data.goods.isDist&&this.data.from&&"distribution"==this.data.from?e=this.data.goods.shareCode:this.data.goods.isDist&&1==this.data.goods.isDist&&this.data.from&&"share"==this.data.from&&(e=this.data.shareCode),this.normalBuyNow({shareCode:e},4)},handleOpenTuan:function(){this.normalBuyNow({groupId:this.data.goods.groupEvent&&this.data.goods.groupEvent.groupId||"0"},6)},handleMiaoShaBuyNow:function(){this.normalBuyNow({},6)},handleMakeSure:function(){console.log("+++++");var e=this.data.action,t=this.data.formData.selectSku,a=this.data.goods.specs.length==Object.getOwnPropertyNames(t).length;if([2,3,4,5,6].indexOf(e)>-1&&!a)return void this.showZanToast("请选择规格");switch(e){case 2:this.handleAddCart();break;case 3:this.handleBuyNow();break;case 4:this.handleFenXiaoBuyNow();break;case 5:this.handleBuyNow();break;case 6:this.handleOpenTuan()}},handleSpecClick:function(e){var t=this,a=this.data.formData.num.quantity,n=e.currentTarget.dataset,o=e.currentTarget.dataset,i=o.index,s=o.currentindex;if(!n.disabled){var r=Object.assign({},this.data.formData.selectSku);r[n.pid]={id:n.id,name:n.name};var d="";this.data.goods.specs.forEach(function(e){d+=r[e.id]?r[e.id].name:"",d+=r[e.id]?",":""});var u=Object.assign({},this.data.goods);u.specs=u.specs.map(function(e){return r[e.id]&&(e.specsList=e.specsList.map(function(a){return r[e.id].id==a.id?(a.selected=!0,0==i&&(console.log(a,"999999999999999999999999"),u.showCoverImg=t.data.goods.item[0].values[s].skuLogo,u.selectSkuText=t.data.goods.item[0].values[s].itemValue),console.log(u.selectSkuText,"llllllllllllllllllllllllll")):a.selected=!1,a})),e});var c=Object.getOwnPropertyNames(r),l=void 0;u.skus.forEach(function(e){e.properties.filter(function(e){return c.filter(function(t){return e[t]==r[t].id}).length>0}).length==e.properties.length&&(l=e)}),console.log(l),u.specs.length-c.length==1?u.specs.map(function(e){return r[e.id]||(e.specsList=e.specsList.map(function(t){var a=Object.assign({},r);a[e.id]={id:t.id,name:t.name};var n=Object.getOwnPropertyNames(a),o=void 0;return u.skus.forEach(function(e){var i=e.properties.filter(function(e){return n.filter(function(t){return e[t]==a[t].id}).length>0}).length==e.properties.length;console.log("result====>",i),i&&(o=e,t.disabled=o&&0==o.quantity)}),t})),e}):u.specs.length-c.length==0&&u.specs.map(function(e){return e.specsList=e.specsList.map(function(t){var a=Object.assign({},r);a[e.id]={id:t.id,name:t.name};var n=Object.getOwnPropertyNames(a),o=void 0;return u.skus.forEach(function(e){e.properties.filter(function(e){return n.filter(function(t){return e[t]==a[t].id}).length>0}).length==e.properties.length&&(o=e,t.disabled=o&&0==o.quantity)}),t}),e}),this.setData({goods:u,formData:{num:{quantity:l&&this.data.formData.num.quantity>l.quantity?l.quantity:this.data.formData.num.quantity>0?this.data.formData.num.quantity:1,min:this.data.formData.num.min,max:l?l.quantity:this.data.formData.num.max,minBuy:l&&l.minBuy>0?l.minBuy:1,maxBuy:l&&l.maxBuy>0&&l.maxBuy<l.quantity?l.maxBuy:l?l.quantity:99999,hasSelect:this.data.formData.num.hasSelect},sku:l?{price:l.price,groupPrice:l.groupPrice,quantity:l.quantity,id:l.id,maxBuy:l.maxBuy,minBuy:l.minBuy}:this.data.formData.sku,selectSku:r,selectSkuText:d}}),console.log("selectSku----------\x3e",r),this.data.formData.sku.maxBuy>0&&(a==this.data.formData.sku.maxBuy?this.setData({limit:!0}):this.setData(y({limit:!1},"formData.num.quantity",1)))}},collection:function(){var e=this,t=this.data.goods.id;w.default.shareGoodsList({goodsId:t,type:1==this.data.goods.isShare?"cancel":"share"}).then(function(t){if(t&&t.data.result){var a=e.data.goods,n=1==a.isShare?0:1;e.setData({goods:Object.assign({},a,{isShare:n})})}}).catch(function(e){return console.log(e)})},collectionGoods:function(){var e=this,t=this.data.goods,a=t.id;t.hasCollection?w.default.unfollowGoods({goodsId:a}).then(function(){e.setData(y({},"goods.hasCollection",0))}):w.default.followGoods({goodsId:a}).then(function(){e.setData(y({},"goods.hasCollection",1))})},wxParseTagATap:function(e){var t=e.currentTarget.dataset.src;o.redirectTo({url:"/pages/webview/index?url="+k.default.stringify(t)})},showSharePopup:function(){console.log("showSharePopup++++++++++++",this.data.showShareDialog),this.setData({showShareDialog:!0})},hideSharePopup:function(){console.log("showSharePopup++++++++++++",this.data.showShareDialog),this.setData({showShareDialog:!1})},saveImg:function(){var e=this,t=this.data.id,a={goodsId:t};a.from=this.data.from,"distribution"==this.data.from&&(a.from="share"),o.showLoading({title:"请稍候"}),w.default.queryPhotoShare(a).then(function(t){console.log(t,"res"),o.hideLoading(),e.hideSharePopup();var a=t.data.shareUrl;a?e.getWxsetting(a):e.showZanTopTips("生成海报图失败")}).catch(function(){o.hideLoading(),e.hideSharePopup(),e.showZanTopTips("生成海报图失败")})},getWxsetting:function(e){o.previewImage({current:e,urls:[e]})},onTapPic:function(){this.setData({showDialog1:!this.data.showDialog1})},goGoodDetail:function(e){console.log("e---》",e);var t=e.currentTarget.dataset.id;o.navigateTo({url:"/pages/products/show/show?id="+t+"&isFromShop=true"})},dealPrice:function(e){if(e<1e5)return e;if(e<1e8){var t=e/1e4+"",a=t.indexOf(".");return-1==a?t+".00万":(console.log("====",(t+"").length,a),(t+"").length>a+2?t.substring(0,a+3)+"万":t.substring(0,a+2)+"0万")}var t=e/1e8+"",a=t.indexOf(".");return-1==a?t+".00亿":(t+"").length>a+2?t.substring(0,a+3)+"亿":t.substring(0,a+2)+"0亿"}}))}),window.define("pages/login/verify_cell",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}var y=e("../../utils/util"),v=(m(y),e("../../network/api")),w=m(v),x=e("../../utils/const.js"),b=(m(x),e("../../utils/notification.js")),D=(m(b),e("../../dist/index"));Page(Object.assign({},D.TopTips,{data:{loading:!1,verify:!1,count:60,countDown:!1},onLoad:function(e){var t=e.mobile,a=e.fomatMobile;this.setData({mobile:t,fomatMobile:a})},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},getCode:function(e){var t=this;if(console.log(this.data.mobile),!this.data.loading&&!this.data.countDown){o.showLoading({title:"请稍候"}),this.setData({loading:!0,countDown:!0});var a=this,n={mobile:this.data.mobile};w.default.getVerifyCode(n).then(function(e){o.hideLoading(),t.setData({loading:!1}),o.stopPullDownRefresh(),e.data.result?a.setCount():t.showZanTopTips("获取验证码失败")}).catch(function(e){console.log(e),o.hideLoading(),t.setData({loading:!1})})}},setCount:function(){var e=this.data,t=e.count,a=e.mobile,n=this;if(0==t)return void this.setData({verify:!0,mobile:a,count:60,countDown:!1});var o=t-1;this.setData({count:o}),setTimeout(function(){n.setCount()},1e3)},formSubmit:function(e){var t=this;console.log(e.detail.value);var a=e.detail.value,n=void 0;if(!a.verifyCode||0==a.verifyCode.trim().length)return n="验证码不能为空",void this.showZanTopTips(n);w.default.checkVerifyCode({verifyCode:a.verifyCode}).then(function(e){o.stopPullDownRefresh(),console.log("bingooooooooooooo",e),e.data.result?o.redirectTo({url:"/pages/login/login?type=rebind"}):t.showZanTopTips("验证码不正确")}).catch(function(e){return console.log(e)})}}))}),window.define("pages/cards/receive_card/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}var y=e("../../../network/api"),v=m(y),w=e("../../../dist/index"),x=m(w),b=e("../../../utils/util"),D=m(b),S={data:{isPaying:!1}};D.default.registComp(S,x.default.Toast,{onLoad:function(e){this.setData({id:e.id})},onShow:function(){var e=this.data.id,t=this;o.showLoading({title:"加载中"}),setTimeout(function(){t.querycarddetail({id:e})},2e3);var a=o.getStorageSync("userinfo");this.setData({userinfo:a})},show:function(){var e=this.selectComponent("#popup");e&&e.show()},onTapReceiveCard:function(){var e=this,t=o.getStorageSync("userinfo");this.setData({userinfo:t}),t.mobile?(o.showLoading({title:"加载中"}),v.default.receiveCard({id:this.data.id}).then(function(t){o.hideLoading(),console.log(t),e.showZanToast("领取成功"),e.querycarddetail({id:e.data.id})}).catch(function(t){"222000226"==t.error?e.showZanToast(t.errorMessage):e.showZanToast(v.default.errors(t.error)||"网络链接错误"),e.querycarddetail({id:e.data.id})})):this.setData({showModal:!0,url:"/pages/login/login"})},querycarddetail:function(e){var t=this;o.showLoading({title:"加载中"}),v.default.queryCardDetail(e).then(function(e){console.log(e,"+_+_+_+_+_+_+"),o.hideLoading(),t.setData({carddata:e.data,isShow:!0}),2==e.data.del&&t.show()}).catch(function(e){return console.log(e)})},showToast:function(e){this.showZanToast(e)},onToBuyCard:function(){var e=this;if(!this.data.isPaying){this.setData({isPaying:!0});var t=o.getStorageSync("userinfo");this.setData({userinfo:t}),t.mobile?(o.showLoading({title:"加载中"}),v.default.queryCardToBuy({cardId:this.data.carddata.id}).then(function(t){o.hideLoading(),0==t.status&&o.requestPayment({timeStamp:t.data.timeStamp+"",nonceStr:t.data.nonceStr,package:t.data.package,signType:t.data.signType,paySign:t.data.paySign,success:function(){e.setData({isPaying:!1}),o.redirectTo({url:"/pages/cards/result/index?id="+e.data.carddata.id+"&result=1"})},fail:function(){e.setData({isPaying:!1})}})}).catch(function(t){e.setData({isPaying:!1}),console.log(t,"-----------"),o.hideLoading()})):this.setData({showModal:!0,url:"/pages/login/login"})}}}),Page(S)}),window.define("pages/cards/result/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Page({data:{},onLoad:function(e){this.setData({result:e.result,id:e.id})},onTapResultAction:function(){o.redirectTo({url:"/pages/cards/receive_card/index?id="+this.data.id})},onTapResultActionExt:function(){o.navigateBack()}})}),window.define("pages/coupons/receive_coupon/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}var y=e("../../../network/api"),v=m(y),w=e("../../../dist/index"),x=m(w);Page(Object.assign({},x.default.Toast,{data:{},onLoad:function(e){var t=e.id;this.setData({id:t}),e.isdetail&&this.setData({isdetail:!0}),e.color&&this.setData({couponcolor:e.color})},onShow:function(){var e=this.data.id,t=this;o.showLoading({title:"加载中"}),setTimeout(function(){t.queryCouponDetail({id:e})},1e3);var a=o.getStorageSync("userinfo");this.setData({userinfo:a})},receiveCoupon:function(e){var t=this,a=o.getStorageSync("userinfo");this.setData({userinfo:a}),a.mobile?(o.showLoading({title:"加载中"}),v.default.receiveCoupon({id:this.data.id}).then(function(e){o.hideLoading(),t.showZanToast("领取成功"),t.queryCouponDetail({id:t.data.id})}).catch(function(e){o.hideLoading(),t.showZanToast(v.default.errors(e.error)||"网络链接错误")})):this.setData({showModal:!0,url:"/pages/login/login"})},queryCouponDetail:function(e){var t=this;v.default.queryCouponDetail(e).then(function(e){o.hideLoading(),t.setData({coupondetail:e.data,isShow:!0}),console.log(e,"+_+_+_+_")}).catch(function(e){return console.log(e,"++++++++++++")})},showToast:function(e){this.showZanToast(e)},showStoreList:function(){this.setData({isShowStoreList:!0})},toggleStoreDialog:function(){this.setData({isShowStoreList:!1})}}))}),window.define("pages/page/products/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Page({data:{},onLoad:function(e){},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){}})}),window.define("pages/tuan/mytuan/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var v=e("../../../network/api.js"),w=m(v),x=e("../../../utils/util.js"),b=m(x);Page({data:{loadmore:!1,loadingmore:!1,query:{pageNo:1,pageSize:10}},onLoad:function(e){this.queryMyTuanList(this.data.query,!0)},startCount:function(){var e=this,t=this,a=this.data.mytuanList,n=void 0===a?[]:a;n.forEach(function(t,a){e.setData(y({},"mytuanList["+a+"].leftTime",b.default.renderTimer(t.remainTime)))}),n.length>0&&(this.stopCount(),this.timer=setInterval(function(){n.forEach(function(e,a){var n,o=e.remainTime-1;0==o&&t.setData(y({},"mytuanList["+a+"].status",3)),t.setData((n={},y(n,"mytuanList["+a+"].remainTime",o),y(n,"mytuanList["+a+"].leftTime",b.default.renderTimer(o)),n))})},1e3))},stopCount:function(){this.timer&&(clearInterval(this.timer),this.timer=void 0)},onUnload:function(){this.stopCount()},queryMyTuanList:function(e,t){var a=this;o.showLoading({title:"请稍后"}),w.default.queryMyTuanList(e).then(function(e){console.log(e,"++++"),o.hideLoading(),a.setData({mytuanList:t?e.data.data:a.data.mytuanList.concat(e.data.data),loadmore:e.data.nextCursor>0,loadingmore:!1,query:Object.assign({},a.data.query,{pageNo:e.data.nextCursor,pageSize:e.data.pageSize}),isShow:!0}),console.log(e,"++++++++++++"),a.startCount()}).catch(function(e){console.log(e),o.hideLoading()})},lower:function(e){console.log(this.data.loadmore,!this.data.loadingmore,"+++++++++++++++++"),this.data.loadmore&&!this.data.loadingmore&&(this.setData({loadingmore:!0}),this.queryMyTuanList(Object.assign({},this.data.query),!1))}})}),window.define("pages/tuan/detail/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var v=e("../../../network/api.js"),w=m(v),x=e("../../../utils/util.js"),b=m(x),D=e("../../../component/cart_popup/index.js"),S=m(D),C=e("../../../dist/index"),T={};b.default.registComp(T,S.default,C.TopTips,{data:{},onLoad:function(e){var t=e.id,a=i().globalData.userinfo;this.setData({userinfo:a}),o.showLoading({title:"请稍后"}),this.queryTuanDetail(t)},onUnload:function(){this.timer&&(clearInterval(this.timer),this.timer=void 0)},queryTuanDetail:function(e){var t=this;w.default.queryOpenTuanDetail({id:e}).then(function(e){var a=e.data;o.hideLoading(),t.setData({detail:a}),1==a.status&&console.log("bingo"),a.remainTime>0&&t.startCount()}).catch(function(e){console.log(e),o.hideLoading()})},queryTuanGoodsSku:function(){var e=this,t=i().globalData.userinfo;if(!t||!t.mobile)return void this.setData({showModal:!0,url:"/pages/login/login"});var a=this.data.detail;o.showLoading({title:"请稍后"}),w.default.queryTuanGoodsSku({id:a.id}).then(function(t){o.hideLoading();var n=t.data,i=n.stock,s=n.goodsItem,r=n.goodsSku;e.setData({"currentGood.id":a.goodsId,"currentGood.name":a.goodsName,"currentGood.imgUrl":a.imgUrl,"currentGood.price":a.groupPrice,"currentGood.stock":i,"currentGood.num":1,"currentGood.specs":s,"currentGood.skus":r,"currentGood.selectedSpec":new Array(s.length),"currentGood.selectedSpecValue":"","currentGood.selectedSku":void 0,showDialog:!0})}).catch(function(e){o.hideLoading(),console.log(e)})},startCount:function(){var e=this,t=this.data.detail;this.setData(y({},"detail.leftTime",b.default.renderTimer(t.remainTime)));var a=this;this.timer=setInterval(function(){var n;if(0==t.remainTime)return clearInterval(e.timer),void a.setData(y({},"detail.status",3));var o=t.remainTime-1;a.setData((n={},y(n,"detail.remainTime",o),y(n,"detail.leftTime",b.default.renderTimer(o)),n))},1e3)},handleBuy:function(e){var t=e.currentTarget.dataset.type;this.setData({openType:t}),this.queryTuanGoodsSku()},handleCreateTuan:function(e){var t=this;console.log("e--\x3e",e);var a=this.data,n=a.openType,i=a.detail,s=e.detail,r={};"join"==n?r.sponsorId=i.id:r.groupId=i.groupId,o.showLoading({title:"请稍候"}),w.default.checkoutSingleOrder(Object.assign({goodsId:s.id,propertiesId:s.selectedSku&&s.selectedSku.propertiesId?s.selectedSku.propertiesId:0,num:s.num,consigneeId:-1},r)).then(function(e){o.hideLoading();var t=e.data;o.navigateTo({url:"/pages/orders/new/new?order="+b.default.stringify(t)})}).catch(function(e){console.log("err----\x3e",e),"100001"==e.error?t.showZanTopTips(e.errorMessage||"网络链接错误"):t.showZanTopTips("订单提交失败"),o.hideLoading()})},onShareAppMessage:function(){var e=this.data,t=e.detail,a=e.userinfo;return{title:"["+t.limitPeople+"人团]"+t.goodsName,path:"/pages/tuan/detail/index?id="+t.id+"&shareCode="+a.shareCode}}}),Page(T)}),window.define("component/address_picker/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var y=e("../../network/api.js"),v=function(e){return e&&e.__esModule?e:{default:e}}(y);Page({data:{},onLoad:function(e){var t=e.provinceCode,a=e.cityCode,n=e.districtCode,i=e.level,s=void 0===i?3:i,r=e.action,d=void 0===r?"default":r,u=e.formId,c=e.fieldIndex;this.setData({provinceCode:t,cityCode:a,districtCode:n,level:s,action:d,formId:u,fieldIndex:c}),o.showLoading({title:"请稍后"}),this.queryAreas("provinces",{parentId:"-1"})},queryAreas:function(e,t){var a=this;this.setData({current:e}),("freeQuote"===this.data.action?v.default.queryQuoteRegions(Object.assign({},t,{type:e})):v.default.queryRegions(t)).then(function(t){o.hideLoading(),a.setData(m({},""+e,t.data)),0==t.data.length&&a.back()}).catch(function(){o.hideLoading()})},beginAnim:function(){var e=o.createAnimation({duration:200,timingFunction:"linear",delay:0});this.animation=e,e.translateX(-750).step(),this.setData({animationData:e.export()})},handleProvinceTap:function(e){var t=this.data.level,a=e.currentTarget.dataset.province;this.setData({province:a,provinceCode:a.code}),1==t?this.back():(o.showLoading({title:"请稍后"}),this.queryAreas("cities",{parentId:a.code}))},handleCityTap:function(e){var t=this.data.level,a=e.currentTarget.dataset.city;this.setData({city:a,cityCode:a.code}),2==t?this.back():(o.showLoading({title:"请稍后"}),this.queryAreas("districts",{parentId:a.code}))},handleDistrictTap:function(e){var t=e.currentTarget.dataset.district;this.setData({district:t,districtCode:t.code}),this.back()},back:function(){var e=this.data,t=e.action,a=e.province,n=void 0===a?{}:a,s=e.city,r=void 0===s?{}:s,d=e.district,u=void 0===d?{}:d,c=e.formId,l=e.fieldIndex;if(i().setFlash("address",{province:n,city:r,district:u}),o.navigateBack(),"customForm"==t){var p=getCurrentPages(),h=p[p.length-2];console.log("formId-fieldIndex",c,l);var g=h.selectComponent("#modules").selectAllComponents("#cForm"),f={city:""+(n.fullName||"")+(r.fullName||"")+(u.fullName||""),code:((n.code||0)+","+(r.code||0)+","+(u.code||0)).split(",").filter(function(e){return 0!=e}).join(",")},m=void 0;g.forEach(function(e){c==e.data.formId&&(m=e)}),m&&m.handleSelectAddressResult(l,f)}}})}),window.define("pages/supplys/supplys",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}var y=e("../../component/supply/supply"),v=m(y),w=e("../../utils/util"),x=m(w),b=e("../../dist/index"),D={data:{}};x.default.registComp(D,v.default,b.TopTips,{}),Page(D)}),window.define("pages/manjian/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../../network/api"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Page({data:{loadmore:!1,loadingmore:!1,query:{pageNo:1,pageSize:10},list:[]},onLoad:function(e){e&&this.setData({query:Object.assign({},this.data.query,{dsId:e.dsId,location:e.location,dataType:e.dataType})}),this.queryManjianData(this.data.query,!0)},onShow:function(){},queryManjianData:function(e,t){var a=this;y.default.queryManjianList(e).then(function(e){a.setData({list:t?e.data.data:a.data.list.concat(e.data.data),isShow:!0,loadmore:e.data.nextCursor>0,loadingmore:!1,query:Object.assign({},a.data.query,{pageNo:e.data.nextCursor,pageSize:e.data.pageSize})})}).catch(function(e){console.log(e)})},lower:function(e){console.log(this.data.loadmore,!this.data.loadingmore,"+++++++++++++++++"),this.data.loadmore&&!this.data.loadingmore&&(console.log(e),this.setData({loadingmore:!0}),this.queryManjianData(this.data.query,!1))}})}),window.define("pages/zhaomu/register",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Page({onLoad:function(){o.redirectTo({url:"/pages/fenxiao/center/index?from=off"})}})}),window.define("pages/pingjia/myevaluate/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../../../network/api.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Page({data:{loadmore:!1,loadingmore:!1,query:{pageNo:1,pageSize:3}},onLoad:function(e){this.setData({sType:e.sType}),this.queryMyEvaluate(Object.assign({},this.data.query),!0)},queryMyEvaluate:function(e,t){var a=this;o.showLoading({title:"请稍后"}),y.default.queryMyEvaluate(e).then(function(e){o.hideLoading(),a.setData({evaluateData:t?e.data:Object.assign({},a.data.evaluateData,{data:a.data.evaluateData.data.concat(e.data.data)}),loadmore:e.data.nextCursor>0,loadingmore:!1,query:Object.assign({},a.data.query,{pageNo:e.data.nextCursor,pageSize:e.data.pageSize}),isShow:!0})}).catch(function(e){return console.log(e)})},lower:function(e){console.log(this.data.loadmore,!this.data.loadingmore,"+++++++++++++++++"),this.data.loadmore&&!this.data.loadingmore&&(this.setData({loadingmore:!0}),this.queryMyEvaluate(Object.assign({},this.data.query),!1))}}),Page({})}),window.define("pages/pingjia/productevaluate/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../../../network/api"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Page({data:{query:{pageNo:1,pageSize:5,status:-1,sType:""},pingjiaArray:[{name:"全部",num:0,type:"reviewsNum"},{name:"好评",num:0,type:"goodReviewsNum"},{name:"中评",num:0,type:"middleReviewsNum"},{name:"差评",num:0,type:"badReviewsNum"},{name:"有图",num:0,type:"imgReviewsNum"}]},onLoad:function(e){var t=this;this.setData({"query.sType":e.sType,"query.sid":e.sid,"query.storeId":e.storeId}),this.queryEvaluateList(this.data.query,!0),this.setData({pingjiaArray:this.data.pingjiaArray.map(function(e){return Object.assign({},e,{num:t.data.evaluateData[""+e.type]})})})},queryEvaluateList:function(e,t){var a=this;o.showLoading({title:"请稍后"}),y.default.queryEvaluateList(e).then(function(e){o.hideLoading(),a.setData({evaluateData:t?e.data:Object.assign({},a.data.evaluateData,{data:a.data.evaluateData.data.concat(e.data.data)}),loadmore:e.data.nextCursor>0,loadingmore:!1,query:Object.assign({},a.data.query,{pageNo:e.data.nextCursor,pageSize:e.data.pageSize}),isShow:!0,scrollTop:t?0:void 0,pingjiaArray:a.data.pingjiaArray.map(function(t){return Object.assign({},t,{num:e.data[""+t.type]})})})}).catch(function(e){return console.log(e)})},lower:function(e){console.log(this.data.loadmore,!this.data.loadingmore,"+++++++++++++++++"),this.data.loadmore&&!this.data.loadingmore&&(this.setData({loadingmore:!0}),this.queryEvaluateList(Object.assign({},this.data.query),!1))},evaluateTab:function(e){var t=e.detail,a=(t.currentType,t.evaluate);console.log(e.detail,"........................."),this.setData({"query.status":a}),this.queryEvaluateList(Object.assign({},this.data.query,{pageNo:1}),!0)}}),Page({})}),window.define("pages/pingjia/storeevaluate/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../../../network/api"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Page({data:{toggle:!0,loadmore:!1,loadingmore:!1,query:{pageNo:1,pageSize:2,status:-1},pingjiaArray:[{name:"全部",num:0,type:"reviewsNum"},{name:"好评",num:0,type:"goodReviewsNum"},{name:"中评",num:0,type:"middleReviewsNum"},{name:"差评",num:0,type:"badReviewsNum"},{name:"有图",num:0,type:"imgReviewsNum"}]},onLoad:function(e){e.id&&(this.setData({id:e.id,"query.status":e.status||-1}),o.showLoading({title:"加载中"})),e&&e.openevaluate&&this.setData({openevaluate:e.openevaluate}),1==this.data.openevaluate&&this.queryStoreEvaluate(this.data.query,!0)},queryStoreEvaluate:function(e,t){var a=this;o.showLoading({title:"请稍后"}),y.default.queryStoreEvaluate(Object.assign({},e,{storeId:this.data.id})).then(function(e){o.hideLoading(),a.setData({storeEvaluateData:t?e.data:Object.assign({},a.data.storeEvaluateData,{data:a.data.storeEvaluateData.data.concat(e.data.data)}),loadmore:e.data.nextCursor>0,loadingmore:!1,query:Object.assign({},a.data.query,{pageNo:e.data.nextCursor,pageSize:e.data.pageSize}),isShow:!0,scrollTop:t?0:null,pingjiaArray:a.data.pingjiaArray.map(function(t){return Object.assign({},t,{num:e.data[""+t.type]})})})}).catch(function(e){return console.log(e)})},lower:function(){this.data.loadmore&&!this.data.loadingmore&&(this.setData({loadingmore:!0}),this.queryStoreEvaluate(Object.assign({},this.data.query),!1))},evaluateTab:function(e){var t=e.detail.evaluate;this.setData({"query.status":t}),this.queryStoreEvaluate(this.data.query,!0)},onTapPic:function(e){var t=e.currentTarget.dataset,a=t.imgindex,n=t.type,i=t.index;o.previewImage({current:e.currentTarget.dataset.link,urls:"first"==n?this.data.storeEvaluateData.data[i].evaluates[a].firstEvaluateImgs:this.data.storeEvaluateData.data[i].evaluates[a].secondEvaluateImgs})}}),Page({})}),window.define("pages/pingjia/storeevaluatelist/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Page({data:{},onLoad:function(){}})}),window.define("pages/pingjia/evaluateform/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var v=e("../../../network/api.js"),w=m(v),x=e("../../../dist/index"),b=m(x);Page(Object.assign({},b.default.TopTips,b.default.Toast,{data:{evaluateItems:[{title:"好评",index:1},{title:"中评",index:2},{title:"差评",index:3}],isBtn:!0},onLoad:function(e){var t=this;this.setData({orderNo:e.orderNo,type:e.type,id:e.id}),o.showLoading(),w.default.gotoEvaluate({orderNo:this.data.orderNo,type:this.data.type,id:this.data.id?this.data.id:0}).then(function(e){o.hideLoading(),e.data.info.length<=0?(console.log("kkkkkkkkkkkkkkkkkkkkkkkkkkkkk"),t.setData({evaluateFormData:Object.assign({},e.data,{info:[{evaluate:"",firstEvaluateContent:"",secondEvaluateContent:"",firstEvaluateImgs:[],secondEvaluateImgs:[],sType:2}]})})):t.setData({evaluateFormData:e.data})}).catch(function(e){return console.log(e)})},radioChange:function(e){console.log("radio发生change事件，携带value值为：",e.detail.value)},formSubmit:function(){for(var e=this,t=this.data.evaluateFormData.info,a=void 0,n=0;n<t.length;n++){if(!t[n].evaluate&&1==this.data.evaluateFormData.evaluateCount&&3!=this.data.type&&5!=this.data.type&&7!=this.data.type){a="请选择评价评级";break}if(!(t[n].firstEvaluateContent||3!=this.data.type&&5!=this.data.type&&5!=this.data.type)){a="请输入评价内容";break}if(!t[n].secondEvaluateContent&&2==this.data.evaluateFormData.evaluateCount){a="请输入评价内容";break}this.data.evaluateFormData.businessScore||1!=this.data.evaluateFormData.evaluateCount||(a="请给商家打分")}if(a)return void this.showZanToast(a);var i=Object.assign({anonymous:0},this.data.evaluateFormData,{evaluates:t.map(function(e){return Object.assign({firstEvaluateContent:"",secondEvaluateContent:""},e,{firstEvaluateImgs:e.firstEvaluateImgs?e.firstEvaluateImgs.join(","):"",secondEvaluateImgs:e.secondEvaluateImgs?e.secondEvaluateImgs.join(","):""})})});delete i.info,this.data.isBtn&&(this.setData({isBtn:!1}),w.default.queryEvaluatePublish(i).then(function(t){e.setData({isBtn:!0}),0==t.status&&t.data.result?(e.showZanToast("发布成功"),o.redirectTo({url:"/pages/pingjia/evaluatesuccess/index?evaluateCount="+e.data.evaluateFormData.evaluateCount})):e.showZanTopTips("发布失败，请重新发布")}).catch(function(t){e.setData({isBtn:!0}),console.log(t,"ooooooooooooooooooooooo"),e.showZanToast(t.errorMessage)}))},handleChooseImg:function(e){console.log("==============handleChooseImg==========");var t=e.currentTarget.dataset.index,a=this,n=void 0;n=1==a.data.evaluateFormData.evaluateCount?a.data.evaluateFormData.info[t].firstEvaluateImgs||[]:a.data.evaluateFormData.info[t].secondEvaluateImgs||[],o.chooseImage({count:5-n.length,sizeType:["compressed"],success:function(e){console.log("==============success==========",e);var n=e.tempFilePaths;console.log(n,"[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[");for(var o=0;o<n.length;o++)w.default.uploadImage(n[o]).then(function(e){if(console.log("============= api.uploadImage==========",e),1==a.data.evaluateFormData.evaluateCount){console.log("ttttttttttttttttttttttttttt");var n=a.data.evaluateFormData.info[t].firstEvaluateImgs,o=void 0===n?[]:n;o.push(e.url),a.setData(y({},"evaluateFormData.info["+t+"].firstEvaluateImgs",o))}else{var i=a.data.evaluateFormData.info[t].secondEvaluateImgs,s=void 0===i?[]:i;s.push(e.url),a.setData(y({},"evaluateFormData.info["+t+"].secondEvaluateImgs",s))}}).catch(function(e){console.log("chooseimage",e)})},fail:function(){}})},handleRemoveImg:function(e){var t=e.currentTarget.dataset,a=t.index,n=t.imgindex;console.log(a,"index");var o=this.data.evaluateFormData.info[a],i=o.firstEvaluateImgs,s=o.secondEvaluateImgs;1==this.data.evaluateFormData.evaluateCount?(i.splice(n,1),this.setData(y({},"evaluateFormData.info["+a+"].firstEvaluateImgs",i))):(s.splice(n,1),this.setData(y({},"evaluateFormData.info["+a+"].secondEvaluateImgs",s)))},onTapPic:function(e){var t=e.currentTarget.dataset,a=t.index,n=t.imgindex,i=this.data.evaluateFormData.info[a],s=i.firstEvaluateImgs,r=i.secondEvaluateImgs;console.log("e--\x3e",e),o.previewImage({current:s?s[n]:r[n],urls:s||r})},onSwitch:function(e){var t=e.detail.value;console.log("onSwitch-----checked--=------\x3e",t),this.setData({"evaluateFormData.anonymous":t?1:0})},onEvaluateType:function(e){console.log("+++++++++");var t=e.currentTarget.dataset,a=t.type,n=t.index;this.setData(y({},"evaluateFormData.info["+n+"].evaluate",a))},onChangeValue:function(e){var t=e.currentTarget.dataset.index,a=e.detail.value;1==this.data.evaluateFormData.evaluateCount?this.setData(y({},"evaluateFormData.info["+t+"].firstEvaluateContent",a)):this.setData(y({},"evaluateFormData.info["+t+"].secondEvaluateContent",a))},evaluateScroe:function(e){var t=e.currentTarget.dataset.item;this.setData({"evaluateFormData.businessScore":t})}}))}),window.define("pages/pingjia/evaluatesuccess/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";Page({data:{},onLoad:function(e){this.setData({evaluateCount:e.evaluateCount})},onShow:function(){}})}),window.define("pages/agreement/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";var m=e("../../utils/util.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Page({data:{},onLoad:function(e){console.log(e,"kkkkkkkkkkkkkkkkkkkk"),this.setData({title:y.default.parse(e.title),content:y.default.parse(e.content)})}})}),window.define("pages/cutprice/detail/index",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}var y=e("../../../network/api"),v=m(y),w=e("../../../utils/util.js"),x=e("../../../utils/notification.js"),b=m(x),D=e("../../../utils/const.js"),S=m(D),C=e("../../../dist/index");Page(Object.assign({},C.Toast,{data:{querySuccess:!1,cutPrice:{},leftTime:{hours:0,minutes:0,seconds:0},showPhoneModal:!1,url:!1},onLoad:function(e){var t=this;e.bargainId?this.queryHelpBargain({id:e.bargainId}):this.queryToBargain({id:e.id,storeId:e.storeId}),b.default.register(S.default.action.CUT_PRICE_SUCCESS,this,function(a){console.log("kanjiachenggong====",a.data);var n=t.data.cutPrice;a.data.bargainSponsorId==n.id&&(e.bargainId?t.queryHelpBargain({id:e.bargainId}):t.queryToBargain({id:e.id,storeId:e.storeId}))})},onUnload:function(){clearInterval(this.interval),b.default.remove(S.default.action.CUT_PRICE_SUCCESS,this)},queryHelpBargain:function(e){var t=this;o.showLoading({title:"请稍后"}),v.default.helpBargain(e).then(function(e){o.hideLoading(),e.data.cutResult&&t.showCutFriendModal(),clearInterval(t.interval),t.setData({cutPrice:e.data,querySuccess:!0},t.setTime)}).catch(function(e){t.showZanTopTips(e.errorMessage||e.msg||v.default.errors(e.error)||"网络错误"),o.hideLoading(),t.setData({querySuccess:!1})})},queryToBargain:function(e){var t=this;o.showLoading({title:"请稍后"}),v.default.toBargain(e).then(function(e){o.hideLoading(),e.data.cutResult&&t.showCutSelfModal(),clearInterval(t.interval),t.setData({cutPrice:e.data,querySuccess:!0},t.setTime)}).catch(function(e){t.showZanTopTips(e.errorMessage||e.msg||v.default.errors(e.error)||"网络错误"),o.hideLoading(),t.setData({querySuccess:!1})})},setTime:function(){var e=this,t=this.data.cutPrice;1==t.status&&(this.interval=setInterval(function(){var a=t.timeLeft-1,n=(0,w.renderTimer)(a),o=24*parseInt(n.days)+parseInt(n.hours);e.setData({"cutPrice.timeLeft":a,leftTime:Object.assign({},n,{hours:o<9?"0"+o:o})})},1e3))},onShareAppMessage:function(){var e=["【最后1小时】帮我点一下，和我一起0元免费拿吧↓↓↓","【好友@我】朋友一声吼，砍价有木有↓↓↓","帮我砍价！你也有机会直接拿走商品↓↓↓","【好友@我】砍砍砍，砍至最低↓↓↓"];return{title:e[Math.floor(Math.random()*e.length)],imageUrl:this.data.cutPrice.imgs,path:"/pages/cutprice/detail/index?bargainId="+this.data.cutPrice.id}},showHelpModal:function(){var e=this.selectComponent("#help-modal");e&&e.show()},showCutSelfModal:function(){var e=this.selectComponent("#cut-modal-self");e&&e.show()},showCutFriendModal:function(){var e=this.selectComponent("#cut-modal-friend");e&&e.show()},friendCutPrice:function(){var e=this.data.cutPrice;this.queryToBargain({id:e.bargainId,storeId:e.storeId})},gopay:function(){var e=this,t=this.data.cutPrice;if(!o.getStorageSync("userinfo").mobile)return void this.setData({showPhoneModal:!0,url:"/pages/login/login"});1==t.type?(o.showLoading({title:"请稍后"}),v.default.checkoutSingleOrder({goodsId:t.goodsId,propertiesId:"",num:1,consigneeId:-1,bargainSponsorId:t.id}).then(function(e){o.hideLoading();var t=e.data;o.navigateTo({url:"/pages/orders/new/new?order="+(0,w.stringify)(t)})}).catch(function(t){e.showZanTopTips(t.errorMessage||t.msg||v.default.errors(t.error)||"网络错误"),o.hideLoading()})):2==t.type&&(i().setFlash("service",{storeId:t.storeId,id:t.service.id,serviceName:t.service.serviceName,servicePrice:t.bargainPrice,serviceImg:t.imgs,selectedSku:{},selectedSpecValue:""}),o.navigateTo({url:"/pages/services/order_create/index?bargainSponsorId="+t.id}))}}))}),window.define("app",function(e,t,a,n,o,i,s,r,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}var y=e("./network/api.js"),v=e("./utils/const.js"),w=m(v),x=e("./utils/notification"),b=m(x);App({globalData:{editionType:"common"},flash:{},setFlash:function(e,t){this.flash[e]=t},getFlash:function(e){var t=this.flash[e];return delete this.flash[e],t},logs:[],log:function(e){w.default.log&&console.log(e)},onLaunch:function(){var e=this;b.default.register(w.default.action.LOGIN,this,function(t){console.log(t),e.globalData.accessToken=t.data.accessToken,e.globalData.userinfo=t.data.userInfo,o.setStorage({key:"accessToken",data:t.data.accessToken}),o.setStorage({key:"userinfo",data:t.data.userInfo})}),this.init()},onShow:function(e){this.globalData.scene=e.scene;var t=e.query,a=t.shareCode,n=void 0===a?"":a,o=t.channelCode,i=void 0===o?"":o;this.globalData.shareCode=n,this.globalData.channelCode=i,this.checkShareCode(n)},checkShareCode:function(e){e&&(0,y.updateShareCode)({code:e}).then(function(){o.setStorage({key:"shareCode",data:e}),console.log("yes need to update shareCode---------save to local")}).catch(function(e){console.log(e)})},getConfig:function(){var e=this;(0,y.getSysConfig)().then(function(t){e.globalData.color=t.data.color,e.globalConfig=t.data,o.setStorage({key:"config",data:t.data}),b.default.post(w.default.action.QUERY_CONFIG_SUCCESS,t.data)})},checkSession:function(){new Promise(function(e){o.checkSession({success:function(){e(!0)},fail:function(){e(!1)}})}).then(function(e){if(!e)return(0,y.loginWx)()})},init:function(){var e=o.getStorageSync("accessToken");e&&(this.globalData.accessToken=e,this.globalData.userinfo=o.getStorageSync("userinfo")),o.setStorage({key:"token",data:"z3GY1Kz9ZLKkmmqa3GvsQOk8tbhFbSAYlcHBBwd9ciRmVqL571yMY81AwEdFIrPJJHY53pDm_xDH1vg5aW1cI7Bf0cjCgL2z8_kvQidMYPZaHOyjSUlOZQJcawjJj0LI"}),this.globalData.token="z3GY1Kz9ZLKkmmqa3GvsQOk8tbhFbSAYlcHBBwd9ciRmVqL571yMY81AwEdFIrPJJHY53pDm_xDH1vg5aW1cI7Bf0cjCgL2z8_kvQidMYPZaHOyjSUlOZQJcawjJj0LI";var t=o.getExtConfigSync();console.log("ssssssssssssss",t),t&&t.extConfig&&(t.extConfig.compToken&&(o.setStorage({key:"token",data:t.extConfig.compToken}),this.globalData.token=t.extConfig.compToken),0==t.extConfig.isMenuShow&&o.hideTabBar({}),t.extConfig.editionType&&(this.globalData.editionType=t.extConfig.editionType)),this.checkSession(),this.getConfig()}})}),window.__swanRoute="app",window.usingComponents=[],require("app"),window.__swanRoute="component/cart_popup/index",window.usingComponents=["component/cart_popup/index"],require("component/cart_popup/index"),window.__swanRoute="component/car_popup/index",window.usingComponents=["component/car_popup/index"],require("component/car_popup/index"),window.__swanRoute="component/cartpop/index",window.usingComponents=["component/toast/index","component/cartpop/index"],require("component/cartpop/index"),window.__swanRoute="component/page/modules/notice2/index",window.usingComponents=["dist/minui/wxc-notice/dist/index","component/page/modules/notice2/index"],require("component/page/modules/notice2/index"),window.__swanRoute="dist/minui/wxc-avatar/dist/index",window.usingComponents=["dist/minui/wxc-badge/dist/index","dist/minui/wxc-cc/dist/index","dist/minui/wxc-avatar/dist/index"],require("dist/minui/wxc-avatar/dist/index"),window.__swanRoute="dist/minui/wxc-badge/dist/index",window.usingComponents=["dist/minui/wxc-badge/dist/index"],require("dist/minui/wxc-badge/dist/index"),window.__swanRoute="dist/minui/wxc-loading/dist/index",window.usingComponents=["dist/minui/wxc-loading/dist/index"],require("dist/minui/wxc-loading/dist/index"),window.__swanRoute="dist/minui/wxc-notice/dist/index",window.usingComponents=["dist/minui/wxc-icon/dist/index","dist/minui/wxc-notice/dist/index"],require("dist/minui/wxc-notice/dist/index"),window.__swanRoute="dist/minui/wxc-progress/dist/index",window.usingComponents=["dist/minui/wxc-progress/dist/index"],require("dist/minui/wxc-progress/dist/index"),window.__swanRoute="dist/minui/wxc-steps/dist/index",window.usingComponents=["dist/minui/wxc-steps/dist/index"],require("dist/minui/wxc-steps/dist/index"),window.__swanRoute="dist/minui/wxc-switch/dist/index",window.usingComponents=["dist/minui/wxc-switch/dist/index"],require("dist/minui/wxc-switch/dist/index"),window.__swanRoute="pages/edu/components/audio/index",window.usingComponents=["pages/edu/components/title_layout/index","pages/edu/components/waves/index","pages/edu/components/audio/index"],require("pages/edu/components/audio/index"),window.__swanRoute="pages/pingjia/component/textarea/index",window.usingComponents=["pages/pingjia/component/textarea/index"],require("pages/pingjia/component/textarea/index"),window.__swanRoute="pages/shop/components/store_car/index",window.usingComponents=["pages/pingjia/component/evaluateitems/index","component/car_popup/index","pages/shop/components/store_car/index"],require("pages/shop/components/store_car/index"),window.__swanRoute="pages/shop/components/store_food/index",window.usingComponents=["pages/shop/components/store_foodheader/index","pages/shop/components/store_searchbar/index","component/cart_popup/index","pages/shop/components/cart/index","component/toast/index","pages/shop/components/store_food/index"],require("pages/shop/components/store_food/index"),window.__swanRoute="pages/shop/components/store_foodheader/index",window.usingComponents=["dist/minui/wxc-label/dist/index","pages/shop/components/store_foodheader/index"],require("pages/shop/components/store_foodheader/index"),window.__swanRoute="pages/shop/components/store_o2o/index",window.usingComponents=["pages/shop/components/store_header/index","pages/shop/components/store_searchbar/index","component/cart_popup/index","pages/shop/components/cart/index","component/toast/index","pages/shop/components/store_o2o/index"],require("pages/shop/components/store_o2o/index"),window.__swanRoute="pages/shop/components/store_searchbar/index",window.usingComponents=["pages/shop/components/store_searchbar/index"],require("pages/shop/components/store_searchbar/index"),window.__swanRoute="pages/shop/components/store_service/index",window.usingComponents=["pages/shop/components/store_header/index","dist/minui/wxc-loadmore/dist/index","pages/shop/components/store_service/index"],require("pages/shop/components/store_service/index"),window.__swanRoute="tabs/home/index",window.usingComponents=["component/page/index","dist/minui/wxc-abnor/dist/index","component/home_gift_popup/index","dist/minui/wxc-icon/dist/index","component/phone_action/index"],require("tabs/home/index"),window.__swanRoute="dist/minui/wxc-flex/dist/index",window.usingComponents=["dist/minui/wxc-flex/dist/index"],require("dist/minui/wxc-flex/dist/index"),window.__swanRoute="dist/minui/wxc-cc/dist/index",window.usingComponents=["dist/minui/wxc-flex/dist/index","dist/minui/wxc-cc/dist/index"],require("dist/minui/wxc-cc/dist/index"),window.__swanRoute="component/page/modules/brands/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","component/page/modules/brands/index"],require("component/page/modules/brands/index"),window.__swanRoute="component/page/modules/carousel/index",window.usingComponents=["component/page/modules/carousel/index"],require("component/page/modules/carousel/index"),window.__swanRoute="component/coupon/index",window.usingComponents=["component/coupon/index"],require("component/coupon/index"),window.__swanRoute="component/page/modules/coupon/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","component/coupon/index","component/page/modules/coupon/index"],require("component/page/modules/coupon/index"),window.__swanRoute="component/page/modules/img_advert/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","component/page/modules/img_advert/index"],require("component/page/modules/img_advert/index"),window.__swanRoute="component/page/modules/img_nav/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","component/page/modules/img_nav/index"],require("component/page/modules/img_nav/index"),window.__swanRoute="dist/minui/wxc-countdown/dist/index",window.usingComponents=["dist/minui/wxc-countdown/dist/index"],require("dist/minui/wxc-countdown/dist/index"),window.__swanRoute="component/page/modules/miaosha/item",window.usingComponents=["dist/minui/wxc-countdown/dist/index","component/page/modules/miaosha/item"],require("component/page/modules/miaosha/item"),window.__swanRoute="component/page/modules/miaosha/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","component/page/modules/miaosha/item","component/page/modules/miaosha/index"],require("component/page/modules/miaosha/index"),window.__swanRoute="dist/minui/wxc-icon/dist/index",window.usingComponents=["dist/minui/wxc-icon/dist/index"],require("dist/minui/wxc-icon/dist/index"),window.__swanRoute="dist/minui/wxc-mask/dist/index",window.usingComponents=["dist/minui/wxc-mask/dist/index"],require("dist/minui/wxc-mask/dist/index"),window.__swanRoute="dist/minui/wxc-popup/dist/index",window.usingComponents=["dist/minui/wxc-mask/dist/index","dist/minui/wxc-popup/dist/index"],require("dist/minui/wxc-popup/dist/index"),window.__swanRoute="component/segements/index",window.usingComponents=["dist/minui/wxc-icon/dist/index","dist/minui/wxc-popup/dist/index","component/segements/index"],require("component/segements/index"),window.__swanRoute="dist/minui/wxc-label/dist/index",window.usingComponents=["dist/minui/wxc-label/dist/index"],require("dist/minui/wxc-label/dist/index"),window.__swanRoute="component/page/modules/nearstore/filter",window.usingComponents=["dist/minui/wxc-flex/dist/index","dist/minui/wxc-label/dist/index","component/page/modules/nearstore/filter"],require("component/page/modules/nearstore/filter"),window.__swanRoute="component/page/modules/nearstore/tab",window.usingComponents=["component/segements/index","component/page/modules/nearstore/filter","component/page/modules/nearstore/tab"],require("component/page/modules/nearstore/tab"),window.__swanRoute="component/page/modules/nearstore/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","component/page/modules/nearstore/tab","component/page/modules/nearstore/index"],require("component/page/modules/nearstore/index"),window.__swanRoute="component/page/modules/newsinfo/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","component/page/modules/newsinfo/index"],require("component/page/modules/newsinfo/index"),window.__swanRoute="component/page/modules/products/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","component/page/modules/products/index"],require("component/page/modules/products/index"),window.__swanRoute="component/page/modules/services/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","component/page/modules/services/index"],require("component/page/modules/services/index"),window.__swanRoute="component/page/modules/supplyinfo/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","component/page/modules/supplyinfo/index"],require("component/page/modules/supplyinfo/index"),window.__swanRoute="component/page/modules/title/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","component/page/modules/title/index"],require("component/page/modules/title/index"),window.__swanRoute="component/page/modules/tuan/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","component/page/modules/tuan/index"],require("component/page/modules/tuan/index"),window.__swanRoute="component/page/modules/video/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","component/page/modules/video/index"],require("component/page/modules/video/index"),window.__swanRoute="component/page/modules/giftcard/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","component/page/modules/giftcard/index"],require("component/page/modules/giftcard/index"),window.__swanRoute="component/page/modules/vipcard/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","component/page/modules/vipcard/index"],require("component/page/modules/vipcard/index"),window.__swanRoute="component/date_picker/index",window.usingComponents=["component/date_picker/index"],require("component/date_picker/index"),window.__swanRoute="component/toast/index",window.usingComponents=["component/toast/index"],require("component/toast/index"),window.__swanRoute="component/select_address_popup/index",window.usingComponents=["dist/minui/wxc-popup/dist/index","component/select_address_popup/index"],require("component/select_address_popup/index"),window.__swanRoute="component/page/modules/form/form",window.usingComponents=["component/date_picker/index","component/toast/index","component/select_address_popup/index","dist/minui/wxc-icon/dist/index","component/page/modules/form/form"],require("component/page/modules/form/form"),window.__swanRoute="dist/minui/wxc-toast/dist/index",window.usingComponents=["dist/minui/wxc-icon/dist/index","dist/minui/wxc-toast/dist/index"],require("dist/minui/wxc-toast/dist/index"),window.__swanRoute="component/page/modules/comment/index",window.usingComponents=["dist/minui/wxc-toast/dist/index","component/page/modules/comment/index"],require("component/page/modules/comment/index"),window.__swanRoute="component/page/modules/img_advert_fx/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","component/page/modules/img_advert_fx/index"],require("component/page/modules/img_advert_fx/index");window.__swanRoute="component/hotel_intime/index",window.usingComponents=["component/toast/index","component/hotel_intime/index"],require("component/hotel_intime/index"),window.__swanRoute="component/page/modules/hotel/index",window.usingComponents=["component/hotel_intime/index","component/page/modules/hotel/index"],require("component/page/modules/hotel/index"),window.__swanRoute="component/page/modules/text_nav/index",window.usingComponents=["component/page/modules/text_nav/index"],require("component/page/modules/text_nav/index"),window.__swanRoute="component/page/modules/img_text/index",window.usingComponents=["component/page/modules/img_text/index"],require("component/page/modules/img_text/index"),window.__swanRoute="component/page/modules/notice/index",window.usingComponents=["component/page/modules/notice/index"],require("component/page/modules/notice/index"),window.__swanRoute="component/page/modules/groups/index",window.usingComponents=["component/page/modules/groups/index"],require("component/page/modules/groups/index"),window.__swanRoute="dist/minui/wxc-tab/dist/index",window.usingComponents=["dist/minui/wxc-tab/dist/index"],require("dist/minui/wxc-tab/dist/index"),window.__swanRoute="dist/minui/wxc-tab/dist/panel",window.usingComponents=["dist/minui/wxc-tab/dist/panel"],require("dist/minui/wxc-tab/dist/panel"),window.__swanRoute="component/page/modules/info_category/index",window.usingComponents=["dist/minui/wxc-tab/dist/index","dist/minui/wxc-tab/dist/panel","dist/minui/wxc-icon/dist/index","component/page/modules/info_category/index"],require("component/page/modules/info_category/index"),window.__swanRoute="component/page/modules/designer/index",window.usingComponents=["component/page/modules/designer/index"],require("component/page/modules/designer/index"),window.__swanRoute="component/page/modules/picture/index",window.usingComponents=["component/page/modules/picture/index"],require("component/page/modules/picture/index"),window.__swanRoute="component/page/modules/company/index",window.usingComponents=["component/page/modules/company/index"],require("component/page/modules/company/index"),window.__swanRoute="dist/minui/wxc-price/dist/index",window.usingComponents=["dist/minui/wxc-price/dist/index"],require("dist/minui/wxc-price/dist/index"),window.__swanRoute="component/page/modules/hotellist/index",window.usingComponents=["dist/minui/wxc-price/dist/index","component/page/modules/hotellist/index"],require("component/page/modules/hotellist/index"),window.__swanRoute="component/page/modules/carstore/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","component/page/modules/carstore/index"],require("component/page/modules/carstore/index"),window.__swanRoute="dist/minui/wxc-elip/dist/index",window.usingComponents=["dist/minui/wxc-elip/dist/index"],require("dist/minui/wxc-elip/dist/index"),window.__swanRoute="component/page/modules/carproject/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","dist/minui/wxc-elip/dist/index","dist/minui/wxc-price/dist/index","component/page/modules/carproject/index"],require("component/page/modules/carproject/index"),window.__swanRoute="component/page/modules/cartimescard/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","dist/minui/wxc-price/dist/index","component/page/modules/cartimescard/index"],require("component/page/modules/cartimescard/index"),window.__swanRoute="component/page/modules/edulist/item/index",window.usingComponents=["dist/minui/wxc-elip/dist/index","component/toast/index","component/page/modules/edulist/item/index"],require("component/page/modules/edulist/item/index"),window.__swanRoute="component/page/modules/edulist/index",window.usingComponents=["component/page/modules/edulist/item/index","component/page/modules/edulist/index"],require("component/page/modules/edulist/index"),window.__swanRoute="component/page/modules/cutprice/list/index",window.usingComponents=["dist/minui/wxc-elip/dist/index","dist/minui/wxc-price/dist/index","component/page/modules/cutprice/list/index"],require("component/page/modules/cutprice/list/index"),window.__swanRoute="component/page/modules/cutprice/index",window.usingComponents=["component/page/modules/cutprice/list/index","component/page/modules/cutprice/index"],require("component/page/modules/cutprice/index"),window.__swanRoute="component/page/index",window.usingComponents=["component/page/modules/brands/index","component/page/modules/carousel/index","component/page/modules/coupon/index","component/page/modules/img_advert/index","component/page/modules/img_nav/index","component/page/modules/miaosha/index","component/page/modules/nearstore/index","component/page/modules/newsinfo/index","component/page/modules/products/index","component/page/modules/services/index","component/page/modules/supplyinfo/index","component/page/modules/title/index","component/page/modules/tuan/index","component/page/modules/video/index","component/page/modules/giftcard/index","component/page/modules/vipcard/index","component/page/modules/form/form","component/page/modules/comment/index","component/page/modules/img_advert_fx/index","component/page/modules/hotel/index","component/page/modules/text_nav/index","component/page/modules/img_text/index","component/page/modules/notice/index","component/page/modules/groups/index","component/page/modules/info_category/index","component/page/modules/designer/index","component/page/modules/picture/index","component/page/modules/company/index","component/page/modules/hotellist/index","component/page/modules/carstore/index","component/page/modules/carproject/index","component/page/modules/cartimescard/index","component/page/modules/edulist/index","component/page/modules/cutprice/index","component/page/index"],require("component/page/index"),window.__swanRoute="dist/minui/wxc-abnor/dist/index",window.usingComponents=["dist/minui/wxc-abnor/dist/index"],require("dist/minui/wxc-abnor/dist/index"),window.__swanRoute="component/home_gift_popup/index",window.usingComponents=["dist/minui/wxc-popup/dist/index","component/home_gift_popup/index"],require("component/home_gift_popup/index"),window.__swanRoute="component/phone_action/index",window.usingComponents=["dist/minui/wxc-popup/dist/index","component/phone_action/index"],require("component/phone_action/index"),window.__swanRoute="tabs/mine/index",window.usingComponents=["component/phonemodal/phonemodal","component/phone_action/index"],require("tabs/mine/index"),window.__swanRoute="component/phonebutton/index",window.usingComponents=["component/toast/index","component/phonebutton/index"],require("component/phonebutton/index"),window.__swanRoute="component/phonemodal/phonemodal",window.usingComponents=["component/phonebutton/index","component/toast/index","component/phonemodal/phonemodal"],require("component/phonemodal/phonemodal"),window.__swanRoute="tabs/order/index",window.usingComponents=["component/phonebutton/index","dist/minui/wxc-dialog/dist/index","dist/minui/wxc-elip/dist/index"],require("tabs/order/index"),window.__swanRoute="dist/minui/wxc-dialog/dist/index",window.usingComponents=["dist/minui/wxc-popup/dist/index","dist/minui/wxc-dialog/dist/index"],require("dist/minui/wxc-dialog/dist/index"),window.__swanRoute="tabs/about/index",window.usingComponents=[],require("tabs/about/index"),window.__swanRoute="tabs/map/index",window.usingComponents=[],require("tabs/map/index"),window.__swanRoute="tabs/brandlist/index",window.usingComponents=[],require("tabs/brandlist/index"),window.__swanRoute="tabs/custome/custome",window.usingComponents=["component/page/index"],require("tabs/custome/custome"),window.__swanRoute="tabs/carts/index",window.usingComponents=["component/phonebutton/index"],require("tabs/carts/index"),window.__swanRoute="tabs/publish/index",window.usingComponents=["component/phonemodal/phonemodal"],require("tabs/publish/index"),window.__swanRoute="tabs/supplyBuy/index",window.usingComponents=[],require("tabs/supplyBuy/index"),window.__swanRoute="tabs/info/index",window.usingComponents=["component/newsinfo/newsinfo"],require("tabs/info/index"),window.__swanRoute="component/newsinfo/newsinfo",window.usingComponents=["dist/minui/wxc-tab/dist/index","dist/minui/wxc-tab/dist/panel","dist/minui/wxc-icon/dist/index","component/newsinfo/newsinfo"],require("component/newsinfo/newsinfo"),window.__swanRoute="tabs/fenxiao/index",window.usingComponents=["component/phonemodal/phonemodal","dist/minui/wxc-popup/dist/index"],require("tabs/fenxiao/index"),window.__swanRoute="tabs/giftCard/index",window.usingComponents=[],require("tabs/giftCard/index"),window.__swanRoute="tabs/goodsCategory/index",window.usingComponents=["component/category/index"],require("tabs/goodsCategory/index"),window.__swanRoute="component/category/index",window.usingComponents=["dist/minui/wxc-elip/dist/index","dist/minui/wxc-icon/dist/index","component/category/index"],require("component/category/index"),window.__swanRoute="tabs/company/index",window.usingComponents=["component/decoration_company/index"],require("tabs/company/index"),window.__swanRoute="component/decoration_company/index",window.usingComponents=["component/select_address_popup/index","component/toast/index","dist/minui/wxc-abnor/dist/index","component/decoration_company/index"],require("component/decoration_company/index"),window.__swanRoute="tabs/picture/index",window.usingComponents=["component/decoration_picture/index"],require("tabs/picture/index"),window.__swanRoute="component/waterfall/index",window.usingComponents=["component/waterfall/index"],require("component/waterfall/index"),window.__swanRoute="component/picture-tab/index",window.usingComponents=["component/waterfall/index","component/picture-tab/index"],require("component/picture-tab/index"),window.__swanRoute="component/decoration_picture/index",window.usingComponents=["component/picture-tab/index","component/decoration_picture/index"],require("component/decoration_picture/index"),window.__swanRoute="tabs/designer/index",window.usingComponents=["component/decoration_designer/index"],require("tabs/designer/index"),window.__swanRoute="component/decoration_designer/index",window.usingComponents=["component/decoration_designer/index"],require("component/decoration_designer/index"),window.__swanRoute="tabs/live/index",window.usingComponents=["component/live/live_page"],require("tabs/live/index"),window.__swanRoute="component/live/live_item",window.usingComponents=["dist/minui/wxc-toast/dist/index","component/live/live_item"],require("component/live/live_item"),window.__swanRoute="component/live/live_list",window.usingComponents=["component/live/live_item","component/live/live_list"],require("component/live/live_list"),window.__swanRoute="component/live/live_page",window.usingComponents=["component/live/live_list","dist/minui/wxc-tab/dist/index","dist/minui/wxc-tab/dist/panel","dist/minui/wxc-abnor/dist/index","component/live/live_page"],require("component/live/live_page"),window.__swanRoute="modules/map/index",window.usingComponents=[],require("modules/map/index"),window.__swanRoute="modules/custome/custome",window.usingComponents=["component/page/index"],require("modules/custome/custome"),window.__swanRoute="pages/webview/index",window.usingComponents=[],require("pages/webview/index"),window.__swanRoute="pages/addressdetail/addressdetail",window.usingComponents=["component/phonemodal/phonemodal"],require("pages/addressdetail/addressdetail"),window.__swanRoute="pages/addresssearch/addresssearch",window.usingComponents=[],require("pages/addresssearch/addresssearch"),window.__swanRoute="pages/citys/citys",window.usingComponents=[],require("pages/citys/citys"),window.__swanRoute="pages/login/login",window.usingComponents=[],require("pages/login/login"),window.__swanRoute="pages/brandlist/index",window.usingComponents=[],require("pages/brandlist/index"),window.__swanRoute="pages/aboutmine/aboutmine",window.usingComponents=[],require("pages/aboutmine/aboutmine"),window.__swanRoute="pages/page/search/search",window.usingComponents=["dist/minui/wxc-search/dist/index","dist/minui/wxc-tab/dist/index","dist/minui/wxc-tab/dist/panel","pages/page/search/product-tab/index","pages/page/search/store-tab/index"],require("pages/page/search/search"),window.__swanRoute="dist/minui/wxc-search/dist/index",window.usingComponents=["dist/minui/wxc-icon/dist/index","dist/minui/wxc-search/dist/index"];require("dist/minui/wxc-search/dist/index"),window.__swanRoute="pages/page/search/product-tab/index",window.usingComponents=["dist/minui/wxc-flex/dist/index","dist/minui/wxc-abnor/dist/index","pages/page/search/product-tab/index"],require("pages/page/search/product-tab/index"),window.__swanRoute="pages/page/search/store-tab/index",window.usingComponents=["dist/minui/wxc-flex/dist/index","dist/minui/wxc-abnor/dist/index","component/segements/index","pages/page/search/store-tab/index"],require("pages/page/search/store-tab/index"),window.__swanRoute="pages/storelist/storelist",window.usingComponents=["dist/minui/wxc-label/dist/index","dist/minui/wxc-toast/dist/index"],require("pages/storelist/storelist"),window.__swanRoute="pages/address/list/list",window.usingComponents=[],require("pages/address/list/list"),window.__swanRoute="pages/address/search/search",window.usingComponents=[],require("pages/address/search/search"),window.__swanRoute="pages/address/new/new",window.usingComponents=[],require("pages/address/new/new"),window.__swanRoute="pages/brandmap/brandmap",window.usingComponents=[],require("pages/brandmap/brandmap"),window.__swanRoute="pages/products/show/show",window.usingComponents=["component/phonemodal/phonemodal","dist/minui/wxc-popup/dist/index","dist/minui/wxc-toast/dist/index","component/phone_action/index"],require("pages/products/show/show"),window.__swanRoute="pages/login/verify_cell",window.usingComponents=[],require("pages/login/verify_cell"),window.__swanRoute="pages/cards/receive_card/index",window.usingComponents=["component/phonemodal/phonemodal","dist/minui/wxc-popup/dist/index"],require("pages/cards/receive_card/index"),window.__swanRoute="pages/cards/result/index",window.usingComponents=["component/phonemodal/phonemodal"],require("pages/cards/result/index"),window.__swanRoute="pages/coupons/receive_coupon/index",window.usingComponents=["component/phonemodal/phonemodal","component/coupon/index"],require("pages/coupons/receive_coupon/index"),window.__swanRoute="pages/page/products/index",window.usingComponents=[],require("pages/page/products/index"),window.__swanRoute="pages/tuan/mytuan/index",window.usingComponents=[],require("pages/tuan/mytuan/index"),window.__swanRoute="pages/tuan/detail/index",window.usingComponents=["component/phonemodal/phonemodal","component/cart_popup/index"],require("pages/tuan/detail/index"),window.__swanRoute="component/address_picker/index",window.usingComponents=[],require("component/address_picker/index"),window.__swanRoute="pages/supplys/supplys",window.usingComponents=[],require("pages/supplys/supplys"),window.__swanRoute="pages/manjian/index",window.usingComponents=[],require("pages/manjian/index"),window.__swanRoute="pages/zhaomu/register",window.usingComponents=[],require("pages/zhaomu/register"),window.__swanRoute="pages/pingjia/myevaluate/index",window.usingComponents=["pages/pingjia/component/evaluatecontent/index","dist/minui/wxc-abnor/dist/index","pages/pingjia/myevaluate/index"],require("pages/pingjia/myevaluate/index"),window.__swanRoute="pages/pingjia/component/evaluatecontent/index",window.usingComponents=["component/toast/index","pages/pingjia/component/evaluatecontent/index"],require("pages/pingjia/component/evaluatecontent/index"),window.__swanRoute="pages/pingjia/productevaluate/index",window.usingComponents=["pages/pingjia/component/evaluatecontent/index","pages/pingjia/component/evaluateitems/index","dist/minui/wxc-abnor/dist/index","pages/pingjia/productevaluate/index"],require("pages/pingjia/productevaluate/index"),window.__swanRoute="pages/pingjia/component/evaluateitems/index",window.usingComponents=["pages/pingjia/component/evaluateitems/index"],require("pages/pingjia/component/evaluateitems/index"),window.__swanRoute="pages/pingjia/storeevaluate/index",window.usingComponents=["pages/pingjia/component/evaluatecontent/index","pages/pingjia/component/evaluateitems/index","dist/minui/wxc-abnor/dist/index","pages/pingjia/storeevaluate/index"],require("pages/pingjia/storeevaluate/index"),window.__swanRoute="pages/pingjia/storeevaluatelist/index",window.usingComponents=[],require("pages/pingjia/storeevaluatelist/index"),window.__swanRoute="pages/pingjia/evaluateform/index",window.usingComponents=[],require("pages/pingjia/evaluateform/index"),window.__swanRoute="pages/pingjia/evaluatesuccess/index",window.usingComponents=[],require("pages/pingjia/evaluatesuccess/index"),window.__swanRoute="pages/agreement/index",window.usingComponents=[],require("pages/agreement/index"),window.__swanRoute="pages/cutprice/detail/index",window.usingComponents=["dist/minui/wxc-price/dist/index","pages/cutprice/components/help-modal/index","pages/cutprice/components/cut-modal-self/index","component/phonemodal/phonemodal","pages/cutprice/components/cut-modal-friend/index"],require("pages/cutprice/detail/index"),window.__swanRoute="pages/cutprice/components/help-modal/index",window.usingComponents=["dist/minui/wxc-popup/dist/index","pages/cutprice/components/help-modal/index"],require("pages/cutprice/components/help-modal/index"),window.__swanRoute="pages/cutprice/components/cut-modal-self/index",window.usingComponents=["dist/minui/wxc-popup/dist/index","pages/cutprice/components/cut-modal-self/index"],require("pages/cutprice/components/cut-modal-self/index"),window.__swanRoute="pages/cutprice/components/cut-modal-friend/index",window.usingComponents=["dist/minui/wxc-popup/dist/index","pages/cutprice/components/cut-modal-friend/index"],require("pages/cutprice/components/cut-modal-friend/index"),window.__swanRoute="pages/shop/components/store_header/index",window.usingComponents=["dist/minui/wxc-label/dist/index","pages/shop/components/store_header/index"],require("pages/shop/components/store_header/index"),window.__swanRoute="pages/shop/components/cart/index",window.usingComponents=["component/phonemodal/phonemodal","pages/shop/components/cart/index"],require("pages/shop/components/cart/index"),window.__swanRoute="dist/minui/wxc-loadmore/dist/index",window.usingComponents=["dist/minui/wxc-loadmore/dist/index"],require("dist/minui/wxc-loadmore/dist/index"),window.__swanRoute="pages/shop/components/store_mall/index",window.usingComponents=["pages/shop/components/store_header/index","component/cart_popup/index","pages/shop/components/cart/index","dist/minui/wxc-loadmore/dist/index","component/toast/index","pages/shop/components/store_mall/index"],require("pages/shop/components/store_mall/index"),window.__swanRoute="pages/mine/component/cutprice/index",window.usingComponents=["dist/minui/wxc-countdown/dist/index","pages/mine/component/cutprice/index"],require("pages/mine/component/cutprice/index"),window.__swanRoute="dist/minui/wxc-counter/dist/index",window.usingComponents=["dist/minui/wxc-icon/dist/index","dist/minui/wxc-counter/dist/index"],require("dist/minui/wxc-counter/dist/index"),window.__swanRoute="pages/services/components/service_spec_dialog/index",window.usingComponents=["pages/services/components/service_spec_dialog/index"],require("pages/services/components/service_spec_dialog/index"),window.__swanRoute="pages/services/components/service_arrivedtime_dialog/index",window.usingComponents=["pages/services/components/service_arrivedtime_dialog/index"],require("pages/services/components/service_arrivedtime_dialog/index"),window.__swanRoute="pages/services/components/service_customer_form/index",window.usingComponents=["dist/minui/wxc-icon/dist/index","pages/services/components/service_customer_form/index"],require("pages/services/components/service_customer_form/index"),window.__swanRoute="pages/services/components/service_order_project/index",window.usingComponents=["dist/minui/wxc-elip/dist/index","pages/services/components/service_order_project/index"],require("pages/services/components/service_order_project/index"),window.__swanRoute="pages/services/components/service_store_address/index",window.usingComponents=["dist/minui/wxc-elip/dist/index","pages/services/components/service_store_address/index"],require("pages/services/components/service_store_address/index"),window.__swanRoute="pages/services/components/service_order_list_action/index",window.usingComponents=["component/toast/index","pages/services/components/service_order_list_action/index"],require("pages/services/components/service_order_list_action/index"),window.__swanRoute="dist/minui/wxc-tab/dist/label",window.usingComponents=["dist/minui/wxc-tab/dist/label"],require("dist/minui/wxc-tab/dist/label"),window.__swanRoute="pages/orders/components/order_refund_action/index",window.usingComponents=["pages/orders/components/order_refund_action/index"],require("pages/orders/components/order_refund_action/index"),window.__swanRoute="pages/hotel/components/hotel-tab/segements/index",window.usingComponents=["dist/minui/wxc-icon/dist/index","dist/minui/wxc-popup/dist/index","pages/hotel/components/hotel-tab/segements/index"],require("pages/hotel/components/hotel-tab/segements/index"),window.__swanRoute="pages/hotel/components/hotel-tab/hotel_tab/index",window.usingComponents=["pages/hotel/components/hotel-tab/segements/index","component/page/modules/nearstore/filter","pages/hotel/components/hotel-tab/hotel_tab/index"],require("pages/hotel/components/hotel-tab/hotel_tab/index"),window.__swanRoute="pages/hotel/components/order_item/index",window.usingComponents=["pages/hotel/components/order_item/index"],require("pages/hotel/components/order_item/index"),window.__swanRoute="pages/hotel/components/date_picker/calendar",window.usingComponents=["pages/hotel/components/date_picker/calendar"],require("pages/hotel/components/date_picker/calendar"),window.__swanRoute="pages/hotel/components/date_picker/index",window.usingComponents=["pages/hotel/components/date_picker/calendar","pages/hotel/components/date_picker/index"],require("pages/hotel/components/date_picker/index"),window.__swanRoute="pages/live/components/live-pusher/index",window.usingComponents=["dist/minui/wxc-countdown/dist/index","pages/live/components/live-pusher/index"],require("pages/live/components/live-pusher/index"),window.__swanRoute="pages/live/components/live-player/index",window.usingComponents=["pages/live/components/live-player/index"],require("pages/live/components/live-player/index"),window.__swanRoute="pages/live/components/live-video/index",window.usingComponents=["pages/live/components/live-video/index"],require("pages/live/components/live-video/index"),window.__swanRoute="pages/car/components/project_tab/index",window.usingComponents=["component/segements/index","component/page/modules/nearstore/filter","pages/car/components/project_tab/index"],require("pages/car/components/project_tab/index"),window.__swanRoute="pages/car/components/order_item/index",window.usingComponents=["pages/car/components/order_item/index"],require("pages/car/components/order_item/index"),window.__swanRoute="pages/edu/components/title_layout/index",window.usingComponents=["pages/edu/components/title_layout/index"],require("pages/edu/components/title_layout/index"),window.__swanRoute="pages/edu/components/imgtext/index",window.usingComponents=["pages/edu/components/title_layout/index","pages/edu/components/imgtext/index"],require("pages/edu/components/imgtext/index"),window.__swanRoute="pages/edu/components/video/index",window.usingComponents=["pages/edu/components/title_layout/index","pages/edu/components/video/index"],require("pages/edu/components/video/index"),window.__swanRoute="pages/edu/components/waves/index",window.usingComponents=["pages/edu/components/waves/index"],require("pages/edu/components/waves/index"),window.__swanRoute="pages/edu/components/bgaudio/index",window.usingComponents=["pages/edu/components/title_layout/index","pages/edu/components/waves/index","pages/edu/components/bgaudio/index"],require("pages/edu/components/bgaudio/index"),window.__swanRoute="pages/edu/components/specialcolumn/index",window.usingComponents=["pages/edu/components/title_layout/index","dist/minui/wxc-tab/dist/index","dist/minui/wxc-tab/dist/label","dist/minui/wxc-abnor/dist/index","component/page/modules/edulist/item/index","component/toast/index","pages/edu/components/specialcolumn/index"],require("pages/edu/components/specialcolumn/index");