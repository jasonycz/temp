window.define("dist/minui/wxc-flex/dist/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=Component({behaviors:[],properties:{dir:{type:String,value:"left"},main:{type:String,value:"left"},cross:{type:String,value:"stretch"},wrap:{type:String,value:"nowrap"}},data:{},methods:{}}),Page({})}),window.define("dist/minui/wxc-cc/dist/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=Component({behaviors:[],properties:{},data:{},methods:{}}),Page({})}),window.define("component/page/modules/brands/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m),v=e("../../../../utils/util.js");Component({properties:{module:{type:Object,value:{},observer:"init"}},attached:function(){(0,v.bindBehavior)(this,y.default)},ready:function(){this.init()},methods:{init:function(){var e=this.data.module;e.data&&e.data.length>10&&(e.data=e.data.slice(0,10));for(var t=0;t<e.data.length;t++)e.data[t].showBrandName=e.data[t].brandName,e.data[t].brandName.length>5&&(e.data[t].showBrandName=e.data[t].brandName.substring(0,5));this.setData({moduleA:e})},makestorelist:function(e){var t=e.currentTarget.dataset.brand;i().setFlash("brand",t),this.jump("/pages/storelist/storelist")}}}),Page({})}),window.define("component/page/modules/carousel/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m),v=e("../../../../utils/util.js");Component({properties:{module:{type:Object}},attached:function(){(0,v.bindBehavior)(this,y.default)},methods:{onTapCarousel:function(e){this.navigateToCustom(e)}}}),Page({})}),window.define("component/coupon/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Component({properties:{type:String,coupon:{type:Object},color:{type:String}},data:{},methods:{bindCoupon:function(e){var t=e.currentTarget.dataset.coupon.id,n=this.data.color,a=void 0===n?"":n;this.triggerEvent("receivecoupon",{id:t,color:a})}}}),Page({})}),window.define("component/page/modules/coupon/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{module:{type:Object}},methods:{receivecoupon:function(e){console.log(e.detail,"e");var t=e.detail,n=t.id,a=t.color;this.jump("/pages/coupons/receive_coupon/index?id="+n+"&color="+a)}}}),Page({})}),window.define("component/page/modules/img_advert/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var y=e("../common.js"),v=function(e){return e&&e.__esModule?e:{default:e}}(y),w=e("../../../../utils/util.js");Component({data:{imgUrlsWH:{}},properties:{module:{type:Object}},attached:function(){(0,w.bindBehavior)(this,v.default)},ready:function(){this.createImg()},methods:{createImg:function(){-1!==["type1","type2","type3","type4"].indexOf(this.data.module.options.adsStyle)&&this.init()},init:function(){var e=this.data.module,t=[].concat(m(e.options.navs));"type1"==this.data.module.options.adsStyle&&(t=t.slice(0,1)),"type2"==this.data.module.options.adsStyle&&(t=t.slice(0,2)),"type3"==this.data.module.options.adsStyle&&(t=t.slice(0,3)),e.options.navs=t,this.setData({module:e})}}}),Page({})}),window.define("component/page/modules/img_nav/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m),v=e("../../../../utils/util.js");Component({behaviors:[y.default],properties:{module:{type:Object}},attached:function(){(0,v.bindBehavior)(this,y.default)}}),Page({})}),window.define("dist/minui/wxc-countdown/dist/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var m=function(){function e(e,t){var n=[],a=!0,o=!1,i=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){o=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();n.default=Component({behaviors:[],properties:{countdown:{type:Number,value:0,observer:"init"},format:{type:String,value:"dd天hh时mm分ss秒"},numStyle:{type:String,value:""},symbolStyle:{type:String,value:""}},data:{computeTime:0,endTimeMs:0},detached:function(){this.onPageHide()},methods:{init:function(){console.log("countdown init");var e=this.data,t=e.countdown,n=e.format;this.computeTime=t,this.format=n;var a=Date.now();this.endTimeMs=a+1e3*this.computeTime,this.initCountdown()},initCountdown:function(){var e=this;clearInterval(this._timer);var t=Date.now(),n=this.endTimeMs-t,a=n%1e3||0;this._timer=setTimeout(function(){e.initCountdown()},a),this.setCountdownTimeItems(n)},setCountdownTimeItems:function(e){this.computeTime=parseInt(Math.ceil(e/1e3)),this.emitRunCount(this.computeTime),this.computeTime<=0&&(clearInterval(this._timer),this.emitEndCount());var t=this.getTimeItems(this.computeTime,this.format);this.setData({timeItems:t})},getTimeItems:function(e,t){e<0&&(e=0);var n=t.match(/[a-zA-Z]{1,3}/g)||[],a=t.match(/[\u4e00-\u9fa5]+|[^a-zA-Z]/g)||[],o=this.getTime(e,t);return n.map(function(e,t){return{num:o[e],symbol:a[t]}})},getTime:function(e,t){var n=e,a=[60,60,24].map(function(e){var t=n%e;return n=Math.floor(n/e),t}),o=m(a,3),i=o[0],r=o[1],s=o[2];return e>86400&&-1===t.indexOf("d")&&(s+=24*n),e>3600&&-1===t.indexOf("h")&&(r+=60*s),e>60&&-1===t.indexOf("m")&&(i+=60*r),{dd:this.formatTime(n),hh:this.formatTime(s),mm:this.formatTime(r),ss:this.formatTime(i),d:n,h:s,m:r,s:i}},formatTime:function(e){return e<10?"0"+e:e},emitRunCount:function(){this.triggerEvent("runcount",{computeTime:this.computeTime})},emitEndCount:function(){this.triggerEvent("endcount")},onPageShow:function(){var e=Date.now();this.format&&this.endTimeMs&&(this.computeTime=parseInt((this.endTimeMs-e)/1e3),this.initCountdown())},onPageHide:function(){clearInterval(this._timer)}}}),Page({})}),window.define("component/page/modules/miaosha/item",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{data:{type:Object,observer:"init"}},ready:function(){this.init();var e=i().globalConfig;this.setData(Object.assign({},e))},methods:{makeMiaoItem:function(e){var t=e.currentTarget.dataset.miao;this.jump("/pages/products/show/show?id="+t.goodsId)},handleEndCount:function(){var e=this.data.miaoItem;3==e.seckillStatus?(e.countTime=e.seOverTime,e.seckillStatus=2):2==e.seckillStatus&&(e.countTime=0,e.seckillStatus=4),this.setData({miaoItem:e})},init:function(){var e=this.data.data;3==e.seckillStatus?e.countTime=e.psOverTime:2==e.seckillStatus?e.countTime=e.seOverTime:e.countTime=0,this.setData({miaoItem:Object.assign({},e)})}}}),Page({})}),window.define("component/page/modules/miaosha/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{module:{type:Object}}}),Page({})}),window.define("dist/minui/wxc-icon/dist/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=Component({behaviors:[],properties:{type:{type:String,value:"mogujie"},size:{type:[Number,String],value:26},color:{type:String,value:"#333333"}},data:{},methods:{}}),Page({})}),window.define("dist/minui/wxc-mask/dist/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e){var t=[],n=[];if(e=e.replace(/#/,""),3===e.length){for(var a=[],o=0;o<3;o++)a.push(e.charAt(o)+e.charAt(o));e=a.join("")}for(var i=0;i<3;i++)t[i]="0x"+e.substr(2*i,2),n.push(parseInt(Number(t[i])));return n.join(",")}Object.defineProperty(n,"__esModule",{value:!0}),n.default=Component(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({properties:{status:{type:String,value:"hide",observer:function(e){}},opacity:{type:[String,Number],value:.6},backgroundColor:{type:String,value:"#000000"},locked:{type:String,value:"true"},contentAlign:{type:String,value:"tl"},__positionStyle:{type:String,value:"top:0; left:0"}},data:{},attached:function(){console.log("attached=m==========>",this.data.locked)},methods:{omMaskTap:function(){var e=this.data;console.log("attached=m===2=======>",this.data.locked),e.locked&&"true"!==e.locked&&this.setData({status:"hide"})}}},"attached",function(){var e=this.data;this.setData({backgroundColor:m(e.backgroundColor||"#000000")});var t=void 0;switch(e.contentAlign){case"tl":t="top:0; left:0";break;case"tr":t="top:0; right:0";break;case"bl":t="bottom:0; left:0";break;case"br":t="bottom:0; right:0"}this.setData({__positionStyle:t})})),Page({})}),window.define("dist/minui/wxc-popup/dist/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=Component({behaviors:[],properties:{modal:{type:Boolean,value:!1},animationMode:{type:String,value:"none"},align:{type:String,value:"center"},status:{type:String,value:"hide"},locked:{type:[String],value:"hide"}},data:{maskStatus:"hide"},attached:function(){console.log("attached=p=>",this.data.locked,"maskStatus==>"+this.data.maskStatus)},methods:{showMask:function(){this.setData({maskStatus:"show"})},hideMask:function(){this.setData({maskStatus:"hide"})},show:function(){var e=this;"none"!==this.data.animationMode?(this.showMask(),this.setData({status:"fadeIn"}),setTimeout(function(){e.setData({status:"show"})},50)):(this.showMask(),this.setData({status:"show"}))},forceHide:function(){this.setData({status:"hide"}),this.hideMask()},handleTap:function(e){if(this.data.modal)return void this.triggerEvent("onhide");this.hide()},hide:function(){var e=this;"none"!==this.data.animationMode?(this.setData({status:"fadeOut"}),clearTimeout(this._timer),this._timer=setTimeout(function(){e.forceHide()},300)):this.forceHide()},onContentTap:function(){}}}),Page({})}),window.define("component/segements/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=Component({properties:{textColor:{type:String,value:"#000"},activeTextColor:{type:String,value:"red"},segements:{type:Array,value:[],observer:"init"},filter:{type:Boolean,value:!0},filterActive:{type:Boolean,value:!1}},data:{},attached:function(){},ready:function(){this.init()},detached:function(){},methods:{init:function(){var e=this.data.segements;e.forEach(function(e){if(e.options&&e.options.length>0){var t=e.options.find(function(e){return e.checked});e.title=t?t.title:""}}),this.setData({newsegements:e})},onSwitch:function(e){var t=e.currentTarget.dataset.index,n=this.data.newsegements,a=n.findIndex(function(e){return e.checked}),o=n[t];if(t==a){if(o.sort&&(o.order="ascend"==o.order?"descend":"ascend",this.triggerEvent("switch",o)),o.options){var i=this.selectComponent(".Options_Pop");this.setData({currentOptions:o.options}),i&&i.show(),console.log("------ segement.options-----111---",o.options)}}else{if(n.forEach(function(e){e.checked=!1,e.sort&&(e.order=void 0)}),o.checked=!0,o.sort&&(o.order="ascend"),o.options){var r=this.selectComponent(".Options_Pop");this.setData({currentOptions:o.options}),r&&r.show(),console.log("------ segement.options----000----",o.options)}this.triggerEvent("switch",o)}this.setData({newsegements:n})},onOptionChecked:function(e){var t=this.data.newsegements,n=t.findIndex(function(e){return e.checked}),a=e.currentTarget.dataset.index;t[n].options.forEach(function(e,t){e.checked=t==a});var o=t[n].options.find(function(e){return e.checked});t[n].title=o?o.title:"",this.setData({newsegements:t}),this.triggerEvent("optionchange",o)},showFilterPop:function(){var e=this.selectComponent(".Filter_Pop");e&&e.show(),this.triggerEvent("onpopshow",{},{composed:!0,bubbles:!0})},hideFilterPop:function(){var e=this.selectComponent(".Filter_Pop");e&&e.hide(),this.triggerEvent("onpophide",{},{composed:!0,bubbles:!0})}}}),Page({})}),window.define("dist/minui/wxc-label/dist/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=Component({behaviors:[],properties:{text:{type:String,value:0},type:{type:String,value:"plain"},typeColor:{type:String,value:"#ff5777"},textColor:{type:String,value:"#ffffff"},_system_:{type:String,value:""}},data:{},methods:{},attached:function(){var e=this;o.getSystemInfo&&o.getSystemInfo({success:function(t){e.setData({_system_:~t.system.indexOf("Android")?"android":"ios"})}})}}),Page({})}),window.define("component/page/modules/nearstore/filter",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Component({properties:{filters:{type:Array,value:[]}},data:{},methods:{onCheck:function(e){var t=e.currentTarget.dataset,n=t.index,a=t.idx,o=this.data.filters,i=o[n];switch(i.type){case"radio":i.options.forEach(function(e,t){i.options[t].checked=t==a&&!i.options[a].checked});break;case"checkbox":i.options[a].checked=!i.options[a].checked}console.log(o),this.setData({filters:o})},onSubmit:function(e){var t=this.data.filters;this.triggerEvent("submit",t)},onReset:function(e){for(var t=this.data.filters,n=0,a=t.length;n<a;n++)for(var o=t[n],i=0,r=o.options.length;i<r;i++)o.options[i].checked=!1;this.setData({filters:t})}}}),Page({})}),window.define("component/page/modules/nearstore/tab",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m={filter:!0,filterActive:!1,segements:[{key:"sales",title:"销量最高",checked:!0},{key:"distance",title:"距离最近"},{key:"evaluateCount",title:"好评最高"}],mallsegements:[{key:"sales",title:"销量最高",checked:!0},{key:"evaluateCount",title:"好评最高"}],filters:[{key:"activityType",type:"radio",title:"优惠活动(单选)",options:[{key:"3",title:"满减优惠",label:"减",labelColor:"#FF3366"},{key:"4",title:"到店领券",label:"券",labelColor:"#FF6699"},{key:"2",title:"拼团活动",label:"团",labelColor:"#FF6600"},{key:"1",title:"秒杀活动",label:"秒",labelColor:"#CC66CC"}]},{key:"logisticsType",type:"radio",title:"商家服务",options:[{key:"1",title:"到店自提"}]}],mallfilters:[{key:"activityType",type:"radio",title:"优惠活动(单选)",options:[{key:"3",title:"满减优惠",label:"减",labelColor:"#FF3366"},{key:"4",title:"到店领券",label:"券",labelColor:"#FF6699"},{key:"2",title:"拼团活动",label:"团",labelColor:"#FF6600"},{key:"1",title:"秒杀活动",label:"秒",labelColor:"#CC66CC"}]}]};Component({properties:{serverTime:{type:Number,observer:"reload"},filterShow:{type:Number,value:!0,observer:"reload"},externalSegements:{type:Object,value:null,observer:"reload"},storeType:{type:String}},data:Object.assign({},JSON.parse(JSON.stringify(m))),methods:{reload:function(){this.setData(Object.assign({},JSON.parse(JSON.stringify(m)),{filter:0!=this.data.filterShow})),this.data.externalSegements&&this.setData({segements:this.data.externalSegements}),console.log(this.data.storeType,"-------this.data.")},handleTabSwitch:function(e){var t="";switch(e.detail.key){case"sales":t="sales:descend";break;case"distance":t="distance:ascend";break;case"evaluateCount":t="evaluateCount:descend"}this.setData({sort:t}),this.triggerEvent("query",{sort:t,query:this.data.query})},handleFilter:function(e){var t=e.detail,n=this.selectComponent(".Segements");n&&n.hideFilterPop();var a={};t.forEach(function(e){var t=e.options.filter(function(e){return e.checked}).map(function(e){return e.key});t.length>0&&(a[e.key]=t.join(","))}),this.setData({query:a,filterActive:Object.keys(a).length>0}),this.triggerEvent("query",{query:a,sort:this.data.sort})}}}),Page({})}),window.define("component/page/modules/nearstore/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m),v=e("../../../../utils/util.js"),w=e("../../../../network/api.js");Component({properties:{module:{type:Object},serverTime:{type:Number},storeType:{type:String}},attached:function(){(0,v.bindBehavior)(this,y.default)},ready:function(){console.log("nearstore",this.data)},data:{},methods:{makestore:function(e){var t=e.currentTarget.dataset.store;this.jump("/pages/shop/products/products?storeid="+t.id)},makestoredetail:function(e){var t=e.currentTarget.dataset.storedetail;this.jump("/pages/products/show/show?id="+t.id)},handleServiceClick:function(e){console.log("服务跳店铺",e.currentTarget),this.jump("/pages/services/service_detail/index?shopId="+e.currentTarget.dataset.storeid+"&serviceId="+e.currentTarget.dataset.storedetail.id)},handleQuery:function(e){var t=this,n=e.detail,a=n.sort,o=n.query,i=this.data.module;console.log(a,o,i),(0,w.queryStoreDatasource)(Object.assign({pageSize:20,pageNo:1,location:i.options.location,dataType:i.options.dataType,dsId:i.options.dsId},o,{sort:a})).then(function(e){i.data=e.data.data,t.setData({module:i}),console.log(t.data.module,"this")}).catch(function(e){console.log(e)})}}}),Page({})}),window.define("component/page/modules/newsinfo/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{module:{type:Object}},methods:{handlenews:function(e){this.jump("/pages/sources/newsinfo/newsinfodetail?id="+e.currentTarget.dataset.id)}}}),Page({})}),window.define("component/page/modules/products/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m),v=e("../../../../utils/util.js");Component({properties:{module:{type:Object}},attached:function(){(0,v.bindBehavior)(this,y.default);var e=i().globalConfig;this.setData(Object.assign({},e))},methods:{makegoods:function(e){var t=e.currentTarget.dataset.storedetail;t.description="",console.log(t,"good"),this.jump("/pages/products/show/show?id="+t.id)}}}),Page({})}),window.define("component/page/modules/services/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{module:{type:Object}},attached:function(){var e=i().globalConfig;this.setData(Object.assign({},e))},methods:{handleServiceClick:function(e){console.log("服务跳店铺",e.currentTarget),this.jump("/pages/services/service_detail/index?shopId="+e.currentTarget.dataset.storeid+"&serviceId="+e.currentTarget.dataset.storedetail.id)}}}),Page({})}),window.define("component/page/modules/supplyinfo/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{module:{type:Object}},methods:{handlesupply:function(e){this.jump("/pages/gongqiu/supplyDetail/index?id="+e.currentTarget.dataset.id)}}}),Page({})}),window.define("component/page/modules/title/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m),v=e("../../../../utils/util.js");Component({properties:{module:{type:Object}},attached:function(){(0,v.bindBehavior)(this,y.default)}}),Page({})}),window.define("component/page/modules/tuan/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{module:{type:Object}},ready:function(){var e=i().globalConfig;this.setData(Object.assign({},e))},methods:{makeTuan:function(e){var t=e.currentTarget.dataset.tuan;this.jump("/pages/products/show/show?id="+t.goodsId)}}}),Page({})}),window.define("component/page/modules/video/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Component({properties:{module:{type:Object}}}),Page({})}),window.define("component/page/modules/giftcard/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{module:{type:Object}},methods:{onTapGiftCardBuy:function(e){var t=e.currentTarget.dataset.id;this.jump("/pages/giftcard/buy/index?urlType=tabHome&id="+t)}}}),Page({})}),window.define("component/page/modules/vipcard/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{module:{type:Object}},methods:{receivevip:function(e){this.jump("/pages/cards/receive_card/index?id="+e.currentTarget.dataset.id)}}}),Page({})}),window.define("component/date_picker/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=function(){function e(e,t){var n=[],a=!0,o=!1,i=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){o=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=e("../../utils/util"),v=new Date,w=[{value:"周日",class:"weekend"},{value:"周一",class:""},{value:"周二",class:""},{value:"周三",class:""},{value:"周四",class:""},{value:"周五",class:""},{value:"周六",class:"weekend"}];Component({behaviors:[],properties:{show:{type:Boolean,value:!1},enableTime:{type:Boolean,value:!1},date:{type:String,value:"",observer:"init"}},data:{},ready:function(){this.init()},methods:{isDate:function(e){return null!=e&&void 0!=e&&new Date(e).getDate()==e.substring(e.length-2)},isLeapYear:function(e){return e%400==0||e%4==0&&e%100!=0},isToday:function(e,t,n){return e==v.getFullYear()&&t==v.getMonth()+1&&n==v.getDate()},isWeekend:function(e,t){return(e+t)%7==0||(e+t-1)%7==0},calEmptyGrid:function(e,t){return new Date(e+"/"+t+"/01 00:00:00").getUTCDay()+1||""},calDaysInMonth:function(e,t){var n=this.isLeapYear(e);return 2==t&&n?29:2!=t||n?[4,6,9,11].includes(t)?30:31:28},calWeekDay:function(e,t,n){return new Date(e+"/"+t+"/"+n+" 00:00:00").getUTCDay()||""},calDays:function(e,t){for(var n=this.data.selected,a=this.calEmptyGrid(e,t),o=[],i=1;i<=31;i++){var r=this.isToday(e,t,i),s=n[0]==e&&n[1]==t&&n[2]==i,d=r?"today":"",u=s?"selected":"",c=this.isWeekend(a,i)?"weekend":"",l=r&&s?"today-selected":"",p={value:i,class:"date-bg "+c+" "+d+" "+u+" "+l};o.push(p)}return o.slice(0,this.calDaysInMonth(e,t))},changeMonth:function(e){var t=e.currentTarget.dataset.id,n=this.data.currYear,a=this.data.currMonth;a="prev"==t?a-1:a+1,"prev"==t&&a<1&&(n-=1,a=12),"next"==t&&a>12&&(n+=1,a=1);var o=this.calEmptyGrid(n,a),i=this.calDays(n,a);this.setData({currYear:n,currMonth:a,emptyGrids:o,days:i})},handleSelectDate:function(e){var t=e.target.dataset.selected,n=[t[0],t[1],t[2]];this.setData({selected:n});var a=this.calDays(t[0],t[1]);this.setData({currYear:t[0],currMonth:t[1],days:a})},handleDatePickerChange:function(e){var t=e.detail.value.split("-"),n=m(t,2),a=n[0],o=n[1];a=parseInt(a),o=parseInt(o),this.setData({currYear:a,currMonth:o});var i=this.calEmptyGrid(a,o),r=this.calDays(a,o);this.setData({emptyGrids:i,days:r})},handleTimePickerChange:function(e){var t=e.detail.value;this.setData({time:t})},handleReset:function(e){this.setData({selected:[],time:""});var t=this.calDays(this.data.currYear,this.data.currMonth);this.setData({days:t}),this.triggerEvent("onselectdate",{})},init:function(){var e=this.data.date,t=this.isDate(e)?new Date(e):v,n=t.getFullYear(),a=t.getMonth()+1,o=t.getDate(),i=t.getDay(),r=(0,y.formatTime)(t,"hh:mm"),s=[n,a,o];this.setData({currYear:n,currMonth:a,dayInWeek:i,dayInMonth:o,week:w,time:r,selected:s});var d=this.calEmptyGrid(n,a),u=this.calDays(n,a);this.setData({emptyGrids:d,days:u})},handleChooseToday:function(){this.setData({date:v.toString()}),this.init()},handleConfirm:function(e){var t=this.data,n=t.selected,a=t.enableTime;if(n&&n.length>0){var o=n.join("/")+" "+this.data.time,i=(0,y.formatTime)(new Date(o),a?"yyyy-MM-dd hh:mm":"yyyy-MM-dd");this.triggerEvent("onselectdate",{date:i})}}}}),Page({})}),window.define("component/toast/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Component({properties:{show:{type:Boolean},title:{type:String}}}),Page({})}),window.define("component/select_address_popup/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=e("../../network/api.js"),v=function(e){return e&&e.__esModule?e:{default:e}}(y);Component({properties:{},data:{scrollTop:0},methods:{showPopup:function(){console.log("aaa");var e=this.selectComponent(".J_Popup");e&&e.show(),o.showLoading({title:"请稍后"}),this.queryAreas("provinces",{parentId:"-1"})},hidePopup:function(){var e=this.selectComponent(".J_Popup");e&&e.hide()},queryAreas:function(e,t){var n=this;this.setData({current:e}),v.default.queryRegions(t).then(function(t){o.hideLoading(),n.setData(m({},""+e,t.data)),0==t.data.length&&"districts"==e&&console.log("选择城市返回",n.data)}).catch(function(){o.hideLoading()})},handleProvinceTap:function(e){var t=e.currentTarget.dataset.province;this.setData({province:t,provinceCode:t.code}),o.showLoading({title:"请稍后"}),this.queryAreas("cities",{parentId:t.code})},handleCityTap:function(e){var t=e.currentTarget.dataset.city;this.setData({city:t,cityCode:t.code}),o.showLoading({title:"请稍后"}),this.queryAreas("districts",{parentId:t.code})},handleDistrictTap:function(e){var t=e.currentTarget.dataset.district;this.setData({district:t,districtCode:t.code}),console.log("选择区域返回",this.data);var n=this.data,a=n.province,o=n.city,i={city:""+a.fullName+o.fullName+t.fullName,code:[a.code,o.code,t.code].join(",")};this.triggerEvent("onresult",i),this.hidePopup()},handleScroll:function(e){var t=e.detail.scrollTop;this.setData({scrollTop:t}),console.log("---scrolltop---",t)}}}),Page({})}),window.define("component/page/modules/form/form",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=e("../../../../network/api.js"),w=m(v),x=e("../../../../utils/location.js"),b=m(x),S=e("../../../../utils/validate.js"),D=m(S),C=e("../../../../behaviors/toast.js"),_=m(C),T=e("../../../../utils/util"),k=m(T);Component({behaviors:[_.default],properties:{data:{type:Object,observer:function(){this.init()}},formId:{type:Number}},data:{},attached:function(){},ready:function(){this.init()},detached:function(){},methods:{init:function(){var e=this,t=JSON.parse(JSON.stringify(this.data.data.template));this.setData(y({},"form.isChecked",!1));var n={};t.fields.forEach(function(t){if(["date","text","textarea","number","location","area"].includes(t.type)?t.value="":t.value||(t.value=[]),n[""+t.name]=t.validations,"radio"==t.type||"checkbox"==t.type){var a=t.options.filter(function(e){return e.checked});t.value=a}if("picker"==t.type){var o=t.options.findIndex(function(e){return e.checked});t.selectedIndex=o,t.value=t.options[o]?[t.options[o]]:[]}if("number"==t.type){var i=e.renderNumberFieldLabel(t);t.tips=t.label+i}}),this.setData({formId:this.data.data.formId,form:t,rules:n}),console.log(this.data)},renderNumberFieldLabel:function(e){var t=e.validations.numericality,n=t.onlyInteger,a=t.decimal,o=t.greaterThanOrEqualTo,i=t.lessThanOrEqualTo,r=[];return e.suffix&&r.push("单位: "+e.suffix),!n&&a>0&&r.push("最多"+a+"位小数"),void 0===o&&void 0===i||(void 0!==o&&void 0!==i?r.push(o+" - "+i):void 0===o?r.push("小于"+i):void 0===i&&r.push("大于"+o)),r.length>0?"（"+r.join("，")+"）":""},resetForm:function(){var e=this.data,t=e.data,n=e.form;n=t.template,n.fields.forEach(function(e){var n=t.template.fields.find(function(t){return t.name==e.name});e.value=void 0==n.value?"":n.value}),this.setData({form:n})},handleFormSubmit:function(){var e=this,t=this.data.isChecked;console.log(t,"isChecked");var n={},a=this;this.data.form.fields.forEach(function(e){e.error="",n[""+e.name]=e.value});var i=(0,D.default)(n,this.data.rules,{format:"detailed"});if(i&&i.length>0){console.log("errorssssssssssssss",i);var r=this.data.form;return r.fields.forEach(function(e){i.some(function(t){if(t.attribute==e.name)return void(e.error=t.error)})}),this.setData({form:r}),void this.showToast("提交数据有误，请检查修改后重新提交")}var s=this.data.form;if(1==s.submit.agreement&&1==s.submit.chooseAgreement&&!s.isChecked)return void this.showToast("请勾选服务协议");o.showLoading({title:"提交中",modal:!0}),console.log("提交中",this.data.data.template);var d=this.data.data,u=d.type,c=d.formType;w.default.submitFeedback({id:this.data.formId,template:this.data.form.fields,type:u,formType:c}).then(function(){o.hideLoading();var t=s.submit,n=t.commitAction,i=t.link,r=t.type;2==n?"homestore"==r?o.navigateTo({url:"/pages/shop/products/products?storeid="+i}):"page"==r?o.navigateTo({url:"/modules/custome/custome?id="+i}):"xcxhome"==r&&o.switchTab({url:"/tabs/home/index"}):a.showToast(e.data.form.submit.toast||"表单提交成功！"),a.init()}).catch(function(e){o.hideLoading(),console.log(e),a.showToast(e.errorMessage)})},hideDatePicker:function(){this.setData({"datePicker.currDate":"","datePicker.showDatePicker":!1})},showDatePicker:function(e){var t=e.currentTarget.dataset,n=t.index,a=t.date,o=t.enabletime;this.setData({datePicker:{fieldIndex:n,currDate:a||"",showDatePicker:!0,enableTime:o}}),console.log(this.data)},handleChooseImg:function(e){var t=this,n=e.currentTarget.dataset.index;o.chooseImage({count:1,success:function(e){var a=e.tempFilePaths;w.default.uploadImage(a[0]).then(function(e){var a=t.data.form.fields[n].value,o=void 0===a?[]:a;o.push(e.url),t.setData(y({},"form.fields["+n+"].value",o))}).catch(function(e){console.log("chooseimage",e)})}})},handleRemoveImg:function(e){var t=e.currentTarget.dataset,n=t.index,a=t.imgindex,o=this.data.form.fields[n].value;o.splice(a,1),this.setData(y({},"form.fields["+n+"].value",o))},handleSelecteDate:function(e){var t=e.target.dataset.index,n=e.detail.date;this.setData(y({"datePicker.showDatePicker":!1},"form.fields["+t+"].value",n))},handleSelecteTime:function(e){var t=e.target.dataset.index;this.setData(y({"datePicker.showDatePicker":!1},"form.fields["+t+"].value",e.detail.value))},handleGetLocation:function(e){var t=this,n=e.currentTarget.dataset.index;console.log(e),b.default.authLocation().then(function(){return o.showLoading({title:"定位中",modal:!0}),b.default.queryLocation()}).then(function(e){o.hideLoading(),console.log(e),(0,v.queryAddress)({latitude:e.latitude,longitude:e.longitude}).then(function(e){var a=e.data,o=a.city,i=a.district,r=a.street,s=a.famousArea;t.setData(y({},"form.fields["+n+"].value",o+i+r+s))})}).catch(function(e){o.hideLoading(),t.showToast("获取当前地址失败，请打开小程序设置中的位置开关或手动输入当前地址"),console.log(e)})},handleFieldChange:function(e){var t,n=this;console.log(e);var a=e.target.dataset.index,o=e.detail.value,i=this.data.form.fields[a];switch(i.type){case"radio":case"checkbox":this.setData(y({},"form.fields["+a+"].value",i.options.filter(function(e){return o.includes(e.id.toString())}))),i.options.forEach(function(e,t){o.includes(e.id.toString())?n.setData(y({},"form.fields["+a+"].options["+t+"].checked",!0)):n.setData(y({},"form.fields["+a+"].options["+t+"].checked",!1))});break;case"picker":i.options.forEach(function(e,t){n.setData(y({},"form.fields["+a+"].options["+t+"].checked",t==o))}),this.setData((t={},y(t,"form.fields["+a+"].selectedIndex",o),y(t,"form.fields["+a+"].value",[i.options[o]]),t));break;default:this.setData(y({},"form.fields["+a+"].value",o))}console.log(this.data)},handleSelectAddressResult:function(e,t){console.log("---handleSelectAddressREsult---",e,t),this.setData(y({},"form.fields["+e+"].value",t))},handleSelectArea:function(e){var t=e.currentTarget.dataset.index,n=this.data,a=n.data,i=n.formId,r=n.form,s=a.template.fields[t].level||3,d=r.fields[t].value,u="",c="",l="";if(console.log("value",d,a),d&&d.code){var p=d.code.split(",");u=p[0],c=p[1],l=p[2]}o.navigateTo({url:"/component/address_picker/index?action=customForm&provinceCode="+u+"&cityCode="+c+"&districtCode="+l+"&level="+s+"&formId="+i+"&fieldIndex="+t})},checkboxChange:function(e){var t=e.currentTarget.dataset.checked;t=!t,this.setData(y({},"form.isChecked",t))},applyModifyUrl:function(){o.navigateTo({url:"/pages/agreement/index?title="+k.default.stringify(this.data.form.submit.title)+"&content="+k.default.stringify(this.data.form.submit.content)})}}}),Page({})}),window.define("dist/minui/wxc-toast/dist/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=Component({behaviors:[],properties:{isShow:{type:Boolean,value:!1},text:{type:String,value:""},icon:{type:String,value:""},iconColor:{type:String,value:""},iconImage:{type:String,value:""},duration:{type:Number,value:2e3}},data:{},methods:{show:function(){var e=this,t=this.data.duration;clearTimeout(this._timer),this.setData({isShow:!0}),t>0&&t!==1/0&&(this._timer=setTimeout(function(){e.hide(),e.triggerEvent("success",{},{})},t))},hide:function(){this._timer=clearTimeout(this._timer),this.setData({isShow:!1})}}}),Page({})}),window.define("component/page/modules/comment/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}var y=e("../common.js"),v=m(y),w=e("../../../../network/api.js"),x=m(w);Component({behaviors:[v.default],properties:{module:{type:Object}},data:{comment:{}},methods:{showToast:function(e,t){var n=this;this.setData({toast:{text:e,icon:t,isShow:!0}}),setTimeout(function(){n.setData({"toast.isShow":!1})},1500)},onSubmitComment:function(e){var t=this,n=this;if(!this.data.isSubmitting){console.log("form发生了submit事件，携带数据为：",e.detail.value);var a=void 0,i=this.data.comment;i.name&&0!=i.name.trim().length?i.phone&&0!=i.phone.trim().length?/^1[0-9]{10}$/.test(i.phone.trim())?i.content&&0!=i.content.trim().length||(a="请输入留言内容"):a="手机号码格式错误":a="请输入手机号码":a="请输入姓名",console.log("errors：",a),a?n.showToast(a,"no"):(o.showLoading({title:"请稍后",modal:!0}),this.setData({isSubmitting:!0}),x.default.saveMessage(i).then(function(e){console.log(e),o.hideLoading(),n.showToast("提交成功！","yes"),console.log("bingooooooooooooo",e),n.setData({comment:{},isSubmitting:!1})}).catch(function(e){o.hideLoading(),console.log(e),n.showToast("网络连接错误，请稍后重试！","no"),t.setData({isSubmitting:!1})}))}},onCommentChange:function(e){var t=this.data.comment;console.log(e.target.id,"++++++++++++"),t[e.target.id]=e.detail.value,this.setData({comment:t})}}}),Page({})}),window.define("component/page/modules/img_advert_fx/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=e("../common.js"),v=function(e){return e&&e.__esModule?e:{default:e}}(y);Component({behaviors:[v.default],data:{imgUrlsWH:{}},properties:{module:{type:Object,observer:"ready"}},ready:function(){this.init()},methods:{init:function(){var e=this.data.module,t=this.data.imgUrlsWH[e.options.imgUrl];if(t){var n;this.setData((n={},m(n,"module.options.width",t.width),m(n,"module.options.height",t.height),n))}},setImgAdvertWH:function(e){var t,n=e.detail.width,a=e.detail.height,o=e.target.dataset.imgurl;this.setData((t={},m(t,"module.options.width",n),m(t,"module.options.height",a),m(t,"imgUrlsWH",Object.assign({},this.data.imgUrlsWH,m({},o,{width:n,height:a}))),t)),console.log("this.data",this.data)}}}),Page({})}),window.define("component/hotel_intime/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}var y=e("../../utils/const.js"),v=m(y),w=e("../../utils/notification.js"),x=m(w),b=e("../../utils/util.js"),S=m(b);Component({properties:{isTimeChangeable:{type:Boolean,value:!0},inTime_data:{type:String,value:""},leaveTime_data:{type:String,value:""},statistics_data:{type:Number,value:3},startDate:{type:Number,value:0},endDate:{type:Number,value:0}},data:{},attached:function(){this.init()},ready:function(){},detached:function(){console.log("移除接收酒店时间变化的通知---settings.action.HOTEL_DATE_CHANGED===="),x.default.remove(v.default.action.HOTEL_DATE_CHANGED,this)},methods:{init:function(){var e=this,t=this,n=i().getFlash("inTimeObj");console.log("=========inTimeObj==============",n),n&&n.startDate&&n.startDate>0?this.setData(Object.assign({},n),function(){t.triggerEvent("changetime",t.data)}):this.setData({inTime_data:S.default.getDateStr(0)+" 今天",leaveTime_data:S.default.getDateStr(1)+" 明天",statistics_data:1},function(){t.triggerEvent("changetime",t.data)}),x.default.register(v.default.action.HOTEL_DATE_CHANGED,this,function(t){var n=e;console.log("接收酒店时间变化的通知-----封装组件----settings.action.HOTEL_DATE_CHANGED====",t.data),n.setData({startDate:t.data.startDate,endDate:t.data.endDate,inTime_data:S.default.timestampToTime(t.data.startDate),leaveTime_data:S.default.timestampToTime(t.data.endDate),statistics_data:(t.data.endDate-t.data.startDate)/864e5},function(){n.triggerEvent("changetime",n.data)})})},handleChangeTime:function(e){if(console.log("isTimeChangeable---\x3e",this.data.isTimeChangeable),this.data.isTimeChangeable){var t=this.data,n=t.startDate,a=t.endDate;n>0&&a>0?o.navigateTo({url:"/pages/hotel/checkdate/index?startDate="+n+"&endDate="+a}):n>0?o.navigateTo({url:"/pages/hotel/checkdate/index?startDate="+n}):a>0?o.navigateTo({url:"/pages/hotel/checkdate/index?endDate="+a}):o.navigateTo({url:"/pages/hotel/checkdate/index"})}}}}),Page({})}),window.define("component/page/modules/hotel/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}var y=e("../common.js"),v=m(y),w=e("../../../../utils/notification.js"),x=m(w),b=e("../../../../utils/const.js"),S=m(b),D=e("../../../../utils/util"),C=m(D);Component({behaviors:[v.default],properties:{module:{type:Object}},data:{location:{},indicatorDots:!1},ready:function(){var e=o.getStorageSync("location");console.log(e.location,"////////////////////"),this.setData({location:Object.assign({},e,{isLocation:e.locationType})})},attached:function(){this.init()},detached:function(){this.removeNotification()},methods:{handlesearch:function(){var e=this.data.keyword||"";o.navigateTo({url:"/pages/sources/newsinfo/newssearch?keyword="+e+"&type=indexsearch"})},handleSearchHotelList:function(){var e=this.selectComponent("#hoteltime");console.log("hoteltimeComponent===>",e),i().setFlash("keyword",this.data.keyword);var t=this.data.location,n=t.cityName,a=t.location,r=t.isLocation,s=t.cityCode;o.navigateTo({url:"/pages/hotel/list/index?intime="+C.default.stringify(e.data)+"&cityName="+n+"&location="+a+"&isLocation="+r+"&cityCode="+s})},init:function(){var e=this;x.default.register(S.default.action.HOTEL_SEARCH_DATA,this,function(t){console.log("跳转搜索页settings.action.HOTEL_SEARCH_DATA====",t.data),e.setData({keyword:t.data.keyword})}),x.default.register(S.default.action.HOTEL_LOCATION_CHANGED,this,function(t){console.log("酒店业务组件接受通知---地址变化settings.action.LOCATION_CHANGED====",t.data);var n=t.data;e.setData({"location.cityName":n.cityName,"location.location":n.location,"location.isLocation":n.isLocation,"location.cityCode":n.cityCode})})},removeNotification:function(){x.default.remove(S.default.action.HOTEL_LOCATION_CHANGED,this),x.default.remove(S.default.action.LOCATION_CHANGED,this)}}}),Page({})}),window.define("component/page/modules/text_nav/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m),v=e("../../../../utils/util.js");Component({properties:{module:{type:Object}},attached:function(){(0,v.bindBehavior)(this,y.default)}}),Page({})}),window.define("component/page/modules/img_text/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=e("../common.js"),v=function(e){return e&&e.__esModule?e:{default:e}}(y),w=e("../../../../utils/util.js");Component({properties:{module:{type:Object,observer:function(e,t){t&&t.options&&this.onchangeConent()}}},attached:function(){(0,w.bindBehavior)(this,v.default)},data:{showMore:!0},ready:function(){this.onchangeConent()},methods:{hiddenMore:function(){this.setData({showMore:!1})},showMore:function(){this.setData({showMore:!0})},onchangeConent:function(){("type1"==this.data.module.options.showType||"type2"==this.data.module.options.showType)&&this.data.module.options.content.length>105?this.setData(m({},"module.options.showContent",this.data.module.options.content.substring(0,104)+"...")):"type3"==this.data.module.options.showType&&this.data.module.options.content.length>140&&this.setData(m({},"module.options.showContent",this.data.module.options.content.substring(0,138)+"..."))}}}),Page({})}),window.define("component/page/modules/notice/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Component({properties:{module:{type:Object}},data:{animationData:{},velocity:16},ready:function(){this.setNotice()},detached:function(){clearInterval(this.interval)},methods:{start:function(){var e=this.data,t=e.width,n=e.duration,a=this,i=682/750*o.getSystemInfoSync().screenWidth;a.animation.translate(i).step({duration:100,timingFunction:"step-start"}),a.animation.translate(-t).step({duration:n});for(var r=0;r<200;r++)a.animation.translate(i).step({duration:100,timingFunction:"step-start"}),a.animation.translate(-t).step({duration:n});a.setData({animationData:Object.assign({},a.animation.export())})},setNotice:function(){var e=this.data.velocity,t=this;o.createSelectorQuery().in(this).select("#text").boundingClientRect(function(n){console.log("notice-setNotice",n);var a=n.width,i=500*(a+682/750*o.getSystemInfoSync().screenWidth)/e;t.setData({width:a,duration:i});var r=o.createAnimation({duration:i});t.animation=r,t.interval=setInterval(t.start.bind(t),1e3),setTimeout(function(){clearInterval(t.interval)},5e3)}).exec()}}}),Page({})}),window.define("component/page/modules/groups/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=e("../../../../network/api"),v=function(e){return e&&e.__esModule?e:{default:e}}(y);Component({properties:{module:{type:Object,value:"",observer:function(e,t){console.log("newVal",e,t),this.setData({scrollLeft:NaN})}},moduleIndex:{type:Number,value:0},pageid:{type:String,value:""},pageType:{type:String,value:""}},data:{group:{},showMore:!1,checkindex:0},ready:function(){var e=i().globalConfig;this.setData({isShowStoreName:e.isShowStoreName,group:this.data.module,checkindex:0}),console.log(this.data.group,"+++++++++++")},methods:{showMore:function(){var e=this;o.createSelectorQuery().in(this).select("#group").boundingClientRect(function(t){e.setData({moreTop:t.top*(750/o.getSystemInfoSync().screenWidth)+88})}).exec(),this.setData({showMore:!this.data.showMore})},hideMore:function(){this.setData({showMore:!1})},catchmove:function(){},bindCheckItem:function(e){var t=e.currentTarget.dataset.item,n=t.limitNum,a=t.cids,o=t.groupType,i=this.data.module.options.location;this.setData({checkindex:e.currentTarget.dataset.index});var r={cids:a.map(function(e){return e.id}).join(","),groupType:o,limitNum:n};"news"!==o&&(r.location=i),this.queryIndexGroup(r)},bindCheckMoreItem:function(e){var t=o.createSelectorQuery().in(this),n=e.currentTarget.dataset,a=n.index,i=n.item,r=i.limitNum,s=i.cids,d=i.groupType;this.setData({checkindex:a});var u=this,c={cids:s.map(function(e){return e.id}).join(","),groupType:d,limitNum:r};"news"!==d&&(c.location=2),this.queryIndexGroup(c),t.selectAll(".single-item").boundingClientRect(function(e){var t=e.reduce(function(e,t,n){return n<=a?e+t.width:e},0);t*(750/o.getSystemInfoSync().screenWidth)<=662?u.setData({scrollLeft:NaN}):u.setData({scrollLeft:t-662/750*o.getSystemInfoSync().screenWidth})}).exec()},queryIndexGroup:function(e){var t=this;v.default.queryIndexGroup(e).then(function(e){var n;t.setData((n={},m(n,"group.data",e.data.data||[]),m(n,"group.total",e.data.total),n))}).catch(function(){var e;t.setData((e={},m(e,"group.data",[]),m(e,"group.total",0),e))})},makedataSource:function(e){var t=e.currentTarget.dataset.index,n=this.data.group.options.groups[this.data.checkindex],a=this.data.group.options.location,o=void 0===a?2:a;if("goods"==n.groupType)this.jump("/pages/sources/products/index?dsId=&location="+o+"&dataType=1&type=goodslist&categoryIds="+n.cids.map(function(e){return e.id}).join(","));else if("news"==n.groupType){var i=this.data,r=i.pageid,s=i.pageType;this.jump("/pages/sources/newsinfo/newsinfo?location="+o+"&from=groups&dataType=2&index="+t+"&categoryIds="+n.cids.map(function(e){return e.id}).join(",")+"&pageid="+r+"&pageType="+s)}else"project"==n.groupType?this.jump("/pages/sources/services/index?location="+o+"&type=group&dataType=2&categoryIds="+n.cids.map(function(e){return e.id}).join(",")):"supply"==n.groupType&&this.jump("/pages/sources/supplyinfo/supplyinfo?location="+o+"&type=group&dataType=2&categoryIds="+n.cids.map(function(e){return e.id}).join(","))},jump:function(e){1==getCurrentPages().length?o.navigateTo({url:e}):o.redirectTo({url:e})},handlephone:function(e){var t=e.currentTarget.dataset.mobile;o.makePhoneCall({phoneNumber:t})}}}),Page({})}),window.define("dist/minui/wxc-tab/dist/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var m=e("./Event"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);n.default=Component({options:{multipleSlots:!0},behaviors:[],properties:function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({defaultIndex:{type:Number,value:0},componentId:{type:String,value:""},animate:{type:Boolean,value:!1},textColor:{type:String,value:"#000"},activeTextColor:{type:String,value:"#ff5777"},lineColor:{type:String,value:"#ddd"},activeLineColor:{type:String,value:"#ff5777"},fontSize:{type:String,value:"38rpx"},lineFixWidth:{type:Boolean,value:!1},lineHeight:{type:String,value:!1}},"lineHeight",{type:String,value:"4rpx"}),data:{tabs:[],width:0,activeKey:0,move:0},attached:function(){var e=this;this.componentId=this.data.componentId,this.tabs=[],y.default.on("tab-create-"+this.componentId,function(t){e.type=t.label?"simple":"complex",e.tabs.push(t)})},ready:function(){var e=this.minAndMax(this.data.defaultIndex);this.onSwitch(e,"all"),this.listenSwitch();var t=this.tabs.length<6?100/this.tabs.length:20;"complex"===this.type&&y.default.emit("label-width-"+this.componentId,t),this.setData({tabs:this.tabs,width:t,type:this.type,move:t*e})},detached:function(){},methods:{minAndMax:function(e){var t=this.tabs.length-1;return e>t?t:e<0?0:e},listenSwitch:function(){var e=this;y.default.on("from-label-switch-"+this.componentId,function(t){e.onSwitch(t,"to-panel")}),y.default.on("from-panel-switch-"+this.componentId,function(t){e.onSwitch(t,"to-label")})},onSwitch:function(e,t){t||(e=e.currentTarget.dataset.idx,t="to-panel");var n=e*this.data.width;this.setData({activeKey:e,move:n}),"all"===t?(y.default.emit("to-label-switch-"+this.componentId,e),y.default.emit("to-panel-switch-"+this.componentId,e)):y.default.emit(t+"-switch-"+this.componentId,e),this.afterSwitch(e)},afterSwitch:function(e){this.triggerEvent("tabchange",{key:e,componentId:this.componentId})}}}),Page({})}),window.define("dist/minui/wxc-tab/dist/panel",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var m=e("./Event"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);n.default=Component({behaviors:[],properties:{tabIndex:Number,label:String,componentId:{type:String,value:""}},data:{activeKey:1,test:0},attached:function(){var e=this;this.componentId=this.data.componentId,this.data.label&&y.default.emit("tab-create-"+this.componentId,{key:this.data.tabIndex,label:this.data.label}),y.default.on("to-panel-switch-"+this.componentId,function(t){e.setData({activeKey:t})})},methods:{}}),Page({})}),window.define("component/page/modules/info_category/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Component({properties:{module:{type:Object,value:null}},data:{categoryList:[],firstIndex:0,secondIndex:0,title:""},ready:function(){this.setModule(this.data.module)},methods:{setModule:function(e){var t=e.data.categoryList,n=e.options,a=n.title,o=n.dsId,i=void 0===o?"":o,r=n.dataType;this.setData({categoryList:t,firstIndex:0,secondIndex:0,title:a,dsId:i,dataType:r});var s=this;setTimeout(function(){s.setGroupWidth(s)},500)},handleFirstClick:function(e){var t=e.currentTarget.dataset.index;this.setData({firstIndex:t});var n=this;setTimeout(function(){n.setGroupWidth(n)},500)},handleMoreClick:function(){var e=this.data,t=e.dataType,n=e.dsId;o.navigateTo({url:"/pages/sources/newsinfo/newsinfo?from=infoCategory&dataType="+t+"&&dsId="+n})},handleSecondClick:function(e){var t=this.data,n=t.dataType,a=t.dsId,i=t.firstIndex,r=t.categoryList,s=e.currentTarget.dataset.index,d=r[i].id,u=r[i].categorySecond[s].id;this.setData({secondIndex:s}),o.navigateTo({url:"/pages/sources/newsinfo/newsinfo?from=infoCategory&dataType="+n+"&firstId="+d+"&secondId="+u+"&dsId="+a})},setGroupWidth:function(e){var t=o.createSelectorQuery().in(e),n=o.getSystemInfoSync().screenWidth;t.selectAll(".twoline-item").boundingClientRect(function(t){var a=t.reduce(function(e,t){return e+t.width},0);if(console.log("width",a),a<=n)e.setData({width:a,height:88});else{var o=0,i=88;t.reduce(function(e,r,s){var d=e+r.width;return d>=(a/2>n?a/2:n)&&0==o&&(o=d,i=s==t.length-1?88:176),d},0),e.setData({width:o,height:i})}}).exec()}}}),Page({})}),window.define("component/page/modules/designer/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{module:{type:Object,observer:"init"}},ready:function(){this.init()},methods:{init:function(){var e=this.data.module;e.data&&e.data.length>4&&(e.data=e.data.slice(0,4)),this.setData({module:e}),console.log(e,"modulemodule")},handlenews:function(e){this.jump("/pages/decoration/designer/detail/index?id="+e.currentTarget.dataset.id)}}}),Page({})}),window.define("component/page/modules/picture/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{module:{type:Object,observer:"init"}},ready:function(){this.init()},data:{currentIndex:0,imgUrl:[["http://imgcdnali.wfenxiao.com.cn/xcx/c/decorationpicture/jianyue.png","http://imgcdnali.wfenxiao.com.cn/xcx/c/decorationpicture/xiandai.png","http://imgcdnali.wfenxiao.com.cn/xcx/c/decorationpicture/zongshi.png","http://imgcdnali.wfenxiao.com.cn/xcx/c/decorationpicture/oushi.png","http://imgcdnali.wfenxiao.com.cn/xcx/c/decorationpicture/meishi.png","http://imgcdnali.wfenxiao.com.cn/xcx/c/decorationpicture/wujv.png"],["http://imgcdnali.wfenxiao.com.cn/xcx/c/decorationpicture/keting.png","http://imgcdnali.wfenxiao.com.cn/xcx/c/decorationpicture/woshi.png","http://imgcdnali.wfenxiao.com.cn/xcx/c/decorationpicture/zongshi.png","http://imgcdnali.wfenxiao.com.cn/xcx/c/decorationpicture/chufang.png","http://imgcdnali.wfenxiao.com.cn/xcx/c/decorationpicture/weishengjian.png","http://imgcdnali.wfenxiao.com.cn/xcx/c/decorationpicture/yangtai.png"],["http://imgcdnali.wfenxiao.com.cn/xcx/c/decorationpicture/xiaohuxing.png","http://imgcdnali.wfenxiao.com.cn/xcx/c/decorationpicture/yijv.png","http://imgcdnali.wfenxiao.com.cn/xcx/c/decorationpicture/liangjv.png","http://imgcdnali.wfenxiao.com.cn/xcx/c/decorationpicture/sanjv.png","http://imgcdnali.wfenxiao.com.cn/xcx/c/decorationpicture/sijv.png","http://imgcdnali.wfenxiao.com.cn/xcx/c/decorationpicture/fushi.png"]]},methods:{init:function(){var e=this.data.module;e.data&&e.data.length>10&&(e.data=e.data.slice(0,10)),this.setData({module:e}),console.log(e,"modulemodule")},handlenews:function(e){var t=e.currentTarget.dataset,n=t.index,a=t.currentindex,o=this.data.module.data,i=o[a].itemId,r=o[a].value[n],s=r.name,d=r.type,u=void 0===d?0:d,c=r.itemValueId;this.jump("/pages/sources/picture/index?checkname="+s+"&type="+u+"&itemValueId="+c+"&itemId="+i)},handleMoreNews:function(){this.jump("/pages/sources/picture/index")},handleFirstClick:function(e){var t=e.currentTarget.dataset.index;this.setData({currentIndex:t})}}}),Page({})}),window.define("component/page/modules/company/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var w=e("../common.js"),x=m(w),b=e("../../../../network/api"),S=m(b),D=e("../../../../utils/const.js"),C=m(D),_=e("../../../../utils/notification"),T=m(_);Component({behaviors:[x.default],properties:{module:{type:Object,observer:"init"}},data:{objectArray:[],index:0,areaName:"区域范围",sort:"area"},ready:function(){var e=this;T.default.register(C.default.action.LOCATION_CHANGED,this,function(t){e.setData({areaName:t.data.cityName})}),this.queryDecorateCompanyCity(),this.setArea()},detached:function(){T.default.remove()},methods:{init:function(){var e=this.data.module;e.data&&e.data.length>10&&(e.data=e.data.slice(0,10)),this.setData({module:e})},setArea:function(){var e=o.getStorageSync("location");console.log(e.location,"location.location"),this.setData({areaName:e.location})},handleSwitchSort:function(e){var t=this.data.module.options,n=t.dsId,a=void 0===n?"":n,o=t.location,i=void 0===o?1:o,r=t.dataType,s=void 0===r?1:r;this.setData({query:Object.assign({},this.data.query,{dsId:a,location:i,dataType:s})});var d=e.currentTarget.dataset.sort,u=this.data.sort;if("goodRate"==d?d==u?(this.setData({order:"ascend"==this.data.order?"descend":"ascend"}),this.setData({"query.pageNo":1,"query.sort":d+":"+this.data.order})):(console.log(d),this.setData({sort:d,order:"descend","query.pageNo":1,"query.sort":d+":descend"})):this.setData({sort:d,"query.pageNo":1,"query.sort":""}),"goodRate"==d){var c=this.data.objectArray[this.data.index].code;this.handleCompanyList(Object.assign({},this.data.query,{cityCode:c}),!0)}},bindPickerChange:function(e){this.setData({index:e.detail.value});var t=this.data.objectArray[e.detail.value].code;this.setData({areaName:this.data.objectArray[e.detail.value].name,areacode:t});var n=this.data.module.options.showNum?this.data.module.options.showNum:"";this.handleCompanyList(Object.assign({},this.data.query,{pageSize:n,cityCode:t}),!0)},queryDecorateCompanyCity:function(){var e=this;S.default.decorateCompanyCity().then(function(t){o.hideLoading();var n=[].concat(v(t.data));n.splice(0,0,{code:"",id:0,name:"全部区域"}),e.setData({objectArray:n})}).catch(function(){return o.hideLoading()})},handleCompanyList:function(e){var t=this;o.showLoading({title:"加载中"}),S.default.decorateCompanyList(e).then(function(e){var n;o.hideLoading();var a=e.data.data.slice(0,t.data.module.options.showNum);t.setData((n={},y(n,"module.data",a||[]),y(n,"module.total",e.data.total),n))}).catch(function(){return o.hideLoading()})},handlenews:function(e){this.jump("/pages/decoration/company/detail/index?id="+e.currentTarget.dataset.id)},toCompList:function(){var e=this.data.module.options,t=e.dsId,n=void 0===t?"":t,a=e.location,o=void 0===a?1:a,i=e.dataType,r=void 0===i?1:i;if(this.data.areacode){var s=this.data.areacode,d=this.data.areaName;this.jump("/pages/sources/company/company?dsId="+n+"&location="+o+"&dataType="+r+"&cityCode="+s+"&areaName="+d)}else this.jump("/pages/sources/company/company?dsId="+n+"&location="+o+"&dataType="+r)}}}),Page({})}),window.define("dist/minui/wxc-price/dist/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e,t,n){if(!e||!t)return!1;if(n=n||"f",e=parseFloat(e,10),t=parseInt(t,10),"f"===n){return e.toString().split(".")[0]+"."+e.toString().split(".")[1].substring(0,t)}return e.toFixed(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=Component({behaviors:[],properties:{value:{type:[Number,String],value:""},icon:{type:[String],value:""},status:{type:String,value:""},decimal:{type:String,value:"2"},decimalNum:{type:[Number,String],value:""}},data:{},methods:{},attached:function(){if(this.data.value){var e=this.data.value;switch(this.data.decimal){case"1":e=m(this.data.value,1);break;case"none":e=parseInt(this.data.value);break;case"small":e=parseInt(this.data.value).toString().trim(),this.setData({decimalNum:this.data.value.toString().split(".")[1].trim()})}this.setData({value:e})}}}),Page({})}),window.define("component/page/modules/hotellist/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{module:{type:Object}},ready:function(){console.log("hotellist",this.data);var e=o.getStorageSync("location");console.log(e.location,"////////////////////"),this.setData({location:e})},data:{},methods:{gotoDetail:function(e){this.jump("/pages/shop/products/products?storeid="+e.currentTarget.dataset.id)},makedataSource:function(){this.jump("/pages/hotel/list/index")}}}),Page({})}),window.define("component/page/modules/carstore/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{module:{type:Object},serverTime:{type:Number}},ready:function(){var e=o.getStorageSync("config");this.setData({isShowStoreName:e.isShowStoreName})},data:{},methods:{makestore:function(e){var t=e.currentTarget.dataset.store;this.jump("/pages/shop/products/products?storeid="+t.id)}}}),Page({})}),window.define("dist/minui/wxc-elip/dist/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=Component({behaviors:[],properties:{line:{type:Number,value:""}},data:{},methods:{}}),Page({})}),window.define("component/page/modules/carproject/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{module:{type:Object},serverTime:{type:Number}},ready:function(){var e=o.getStorageSync("config");this.setData({isShowStoreName:e.isShowStoreName})},data:{},methods:{makestore:function(e){var t=e.currentTarget.dataset.store;this.jump("/pages/shop/products/products?storeid="+t.storeId)}}}),Page({})}),window.define("component/page/modules/cartimescard/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{module:{type:Object},serverTime:{type:Number}},ready:function(){console.log("nearstore",this.data)},data:{},methods:{makestore:function(e){var t=e.currentTarget.dataset.store;this.jump("/pages/shop/products/products?storeid="+t.id)}}}),Page({})}),window.define("component/page/modules/edulist/item/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../../../../../behaviors/toast.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{eduitem:{type:Object},index:{type:Number},disabled:{type:Boolean},from:{type:String}},ready:function(){},methods:{linkToCourseDetail:function(){var e=this.data,t=e.eduitem;e.disabled?this.showToast("订阅专栏后才能观看"):o.navigateTo({url:"/pages/edu/coursedetail/index?id="+t.id})}}}),Page({})}),window.define("component/page/modules/edulist/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{module:{type:Object},serverTime:{type:Number}},ready:function(){var e=o.getStorageSync("config");this.setData({isShowStoreName:e.isShowStoreName})},data:{},methods:{}}),Page({})}),window.define("component/page/modules/cutprice/list/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Component({properties:{list:{type:Array,value:[]}},data:{},methods:{}}),Page({})}),window.define("component/page/modules/cutprice/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../common.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{module:{type:Object}},data:{},methods:{}}),Page({})}),window.define("component/page/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Component({behaviors:[],properties:{modules:{type:Array,value:[]},serverTime:{type:Number},pageid:{type:String,value:""},pageType:{type:String,value:""},storeType:{type:String,value:""}},data:{},attached:function(){},moved:function(){},ready:function(){console.log("-------page----index----------",this.data.modules)},methods:{}}),Page({})}),window.define("dist/minui/wxc-abnor/dist/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var m=e("./config"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);n.default=Component({behaviors:[],properties:{type:{type:String,value:"",observer:function(e){if(e&&y.default[e]){var t=this.data.image||y.default[e].image,n=this.data.title||y.default[e].title,a=this.data.button||y.default[e].button,o=this.data.tip||y.default[e].tip;this.setData({image:t,title:n,button:a,tip:o})}}},image:{type:String,value:""},title:{type:String,value:""},tip:{type:String,value:""},button:{type:String,value:""}},data:{},ready:function(){var e=this.data.type;if(e&&y.default[e]){var t=this.data.image||y.default[e].image,n=this.data.title||y.default[e].title,a=this.data.button||y.default[e].button,o=this.data.tip||y.default[e].tip;this.setData({image:t,title:n,button:a,tip:o})}},methods:{emitAbnorTap:function(e){var t=e.detail,n={};this.triggerEvent("abnortap",t,n)}}}),Page({})}),window.define("component/home_gift_popup/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Component({properties:{list:{type:Array,value:[]},tabName:{type:String,value:"我的"},index:{type:Number,value:0}},data:{},methods:{show:function(){var e=this.selectComponent("#home_gift_popup");e&&e.show()},hide:function(){var e=this.selectComponent("#home_gift_popup");e&&e.hide();var t=this.data,n=t.index,a=this;n+1<t.list.length&&(this.setData({index:n+1}),this.triggerEvent("updateindex",{index:n+1},{}),setTimeout(function(){a.show()},500))}}}),Page({})}),window.define("component/phone_action/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Component({properties:{list:{type:Array,value:[]}},data:{showDialog:!1},methods:{call:function(e){var t=e.target.dataset.phone;o.makePhoneCall({phoneNumber:t.replace("-","").split("转")[0]})},show:function(){console.log("toggleDialog===>",this.data.showDialog),this.setData({showDialog:!0})},hide:function(){console.log("toggleDialog===>",this.data.showDialog),this.setData({showDialog:!1})}}}),Page({})}),window.define("component/phonebutton/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../../network/api"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({properties:{size:{type:String,value:"primary"},loginUrl:{type:String}},data:{},methods:{gotoLogin:function(){o.navigateTo({url:"/pages/login/login"})},_getPhoneNumber:function(e){var t=this;if(console.log("_getPhoneNumber",e),-1!==e.detail.errMsg.indexOf("ok")){console.log(e.detail.errMsg);var n=e.detail.iv,a=e.detail.encryptedData;o.showLoading({title:"请稍候"}),y.default.bindSimple({encryptedData:a,iv:n}).then(function(e){if(o.hideLoading(),e&&0==e.status&&e.data.result){var n=o.getStorageSync("userinfo");n.mobile=e.data.mobile,o.setStorageSync("userinfo",n),i().globalData.userinfo=n,t.showToast("手机号绑定成功"),t.triggerEvent("showtoast",{title:"手机号绑定成功"}),t.triggerEvent("changeuser")}else if(e&&0==e.status&&0==e.data.result){t.triggerEvent("showtoast",{title:e.data.msg}),t.showToast(e.data.msg);var a=t;setTimeout(function(){o.navigateTo({url:a.data.loginUrl})},1500)}else{t.showToast("手机号绑定失败,请到登录页绑定"),t.triggerEvent("showtoast",{title:"手机号绑定失败,请到登录页绑定"});var r=t;setTimeout(function(){o.navigateTo({url:r.data.loginUrl})},1500)}console.log(e)}).catch(function(e){o.hideLoading(),console.log(e),t.triggerEvent("showtoast",{title:"手机号绑定失败,请到登录页绑定"}),t.showToast("手机号绑定失败,请到登录页绑定");var n=t;setTimeout(function(){o.navigateTo({url:n.data.loginUrl})},1500)}),console.log(e.detail.iv),console.log(e.detail.encryptedData)}else console.log(this.data.loginUrl),o.navigateTo({url:this.data.loginUrl})}}}),Page({})}),window.define("component/phonemodal/phonemodal",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Component({properties:{showModal:{type:Boolean,observer:function(e,t){this.onShowModal(e,t)}},url:{type:String,observer:function(e){this.setData({loginUrl:e})}}},data:{data:"加载中",show:!1,loginUrl:"/pages/login/login"},attached:function(){},methods:{onCancel:function(){this.setData({show:!1,showModal:!1})},onShowModal:function(e){if(1==e){var t=o.getStorageSync("config");this.setData({show:!0,title:t.programName||"小程序"})}else this.setData({show:!1})},changeuser:function(){this.triggerEvent("changeuser")},showtoast:function(e){this.showToast(e.detail.title)}}}),Page({})}),window.define("dist/minui/wxc-dialog/dist/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=Component({behaviors:[],properties:{title:{type:String},titleColor:{type:String,value:"#000000"},content:{type:String},contentColor:{type:String,value:"#888888"},confirmText:{type:String},confirmColor:{type:String,value:"#ff5777"},cancelText:{type:String},cancelColor:{type:String,value:"#666666"},image:{type:String}},data:{status:"hide"},methods:{show:function(){var e=this.selectComponent(".popup");e&&e.show(),this.setData({status:"show"})},hide:function(){var e=this.selectComponent(".popup");e&&e.hide(),this.setData({status:"hide"})},onContentTap:function(){},cancelCallback:function(){this.triggerEvent("cancel")},confirmCallback:function(){this.triggerEvent("confirm")}}}),Page({})}),window.define("component/newsinfo/newsinfo",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../../network/api"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({properties:{options:{type:Object,value:{}}},data:{categoryList:[],firstIndex:0,secondIndex:0,currentFirstIndex:0,currentSecondIndex:0,query:{pageSize:10,pageNo:1}},ready:function(){var e=this.data.options;this.handleLoad(e)},methods:{handleLoad:function(e){switch(console.log(e,"options"),this.setData({from:e.from}),console.log(e,"options111"),e.from){case"infoCategory":this.handleInfoCategory(e);break;case"dataSource":this.handleDataSource(e);break;case"groups":this.handleGroups(e);break;case"tabs":this.handleDataSource(e)}},handleDataSource:function(e){var t=this,n=e.dsId,a=e.dataType;y.default.queryNewsinfoList({dsId:n,dataType:a}).then(function(n){if(o.hideLoading(),n.data.data&&1==n.data.data.length&&"tabs"!==t.data.from){var a=n.data.data[0];o.redirectTo({url:"/pages/sources/newsinfo/newsinfodetail?id="+a.id})}else e.firstId=-1,e.secondId=-1,t.handleInfoCategory(e)}).catch(function(){return o.hideLoading()})},handleInfoCategory:function(e){var t=this,n=e.dsId,a=e.dataType,i=e.firstId,r=e.secondId;o.showLoading({title:"加载中"});var s=this;y.default.qeuryInfoCategoryByDsId({dsId:n,dataType:a}).then(function(e){var o=e.data.categoryList,d=0,u=0;o.some(function(e,t){return i==e.id&&(d=t),i==e.id}),o[d].categorySecond.some(function(e,t){return r==e.id&&(u=t),r==e.id}),s.setData({categoryList:o,firstIndex:d,currentFirstIndex:d,secondIndex:u,currentSecondIndex:u,dsId:n,dataType:a,"query.pageNo":1}),t.queryInfoListByCategory()}).catch(function(){return o.hideLoading()})},handleFirstClick:function(e){var t=this.data,n=t.currentFirstIndex,a=t.currentSecondIndex,o=e.currentTarget.dataset.index;this.setData({firstIndex:o,secondIndex:o==n?a:-1})},handleSecondClick:function(e){var t=this.data.firstIndex,n=e.currentTarget.dataset.index;this.setData({secondIndex:n,currentSecondIndex:n,currentFirstIndex:t,"query.pageNo":1}),this.queryInfoListByCategory()},queryInfoListByCategory:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.data,a=n.dsId,i=n.dataType,r=n.firstIndex,s=n.secondIndex,d=n.categoryList,u=n.query,c=u.pageSize,l=u.pageNo;o.showLoading({title:"加载中"});var p=d[r].categorySecond[s].id;y.default.queryNewsinfoList({dsId:a,dataType:i,categoryId:p,pageSize:c,pageNo:l}).then(function(n){o.hideLoading(),e.setData({list:t?e.data.list.concat(n.data.data):n.data.data,loadmore:n.data.nextCursor>0,loadingmore:!1,query:Object.assign({},e.data.query,{pageNo:n.data.nextCursor,pageSize:n.data.pageSize}),scrollTop:t?e.data.scrollTop:0,isShow:!0})}).catch(function(){return o.hideLoading()})},handleGroups:function(e){var t=this,n=e.categoryIds,a=e.dataType,i=e.pageid,r=e.index,s=e.pageType,d=n.split(",")[0];o.showLoading({title:"加载中"});var u=this,c={index:r};i&&(c.pageId=i),y.default.qeuryInfoCategoryByGroup(Object.assign({},c,{type:s})).then(function(e){var n=e.data,o=0,i=0;n.some(function(e,t){var a=n[o].categorySecond.some(function(e,t){return d==e.id&&(i=t),d==e.id});return a&&(o=t),a}),u.setData({categoryList:n,firstIndex:o,currentFirstIndex:o,secondIndex:i,currentSecondIndex:i,dsId:"",dataType:a,"query.pageNo":1}),t.queryInfoListByCategory()}).catch(function(){return o.hideLoading()})},queryGroupNewsinfoList:function(e,t){var n=this;y.default.queryGroupInfo(e).then(function(e){o.hideLoading(),n.setData({list:t?e.data.data:n.data.list.concat(e.data.data),loadmore:e.data.nextCursor>0,loadingmore:!1,query:Object.assign({},n.data.query,{pageNo:e.data.nextCursor,pageSize:e.data.pageSize}),scrollTop:t?0:n.data.scrollTop,isShow:!0})}).catch(function(e){return console.log(e)})},handleLoadMore:function(){this.data.loadmore&&!this.data.loadingmore&&(this.setData({loadingmore:!0}),o.showLoading({title:"加载中"}),"group"==this.data.type?this.queryGroupNewsinfoList(this.data.query,!1):this.queryInfoListByCategory(!0))},handlescroll:function(e){this.setData({scrollTop:e.detail.scrollTop})},handlenews:function(e){o.navigateTo({url:"/pages/sources/newsinfo/newsinfodetail?id="+e.currentTarget.dataset.id})}}}),Page({})}),window.define("component/category/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Component({properties:{category:{type:Array,value:[],observer:function(e,t){console.log(e,t,"old"),this.init()}}},data:{leftIndex:0,passive:!1,list:[],firstList:[]},ready:function(){console.log(this.data,"data"),this.init()},methods:{init:function(){console.log("++++1");var e=this.data.category.map(function(e){return{id:e.id,name:e.name}}),t=this.data.category.map(function(e){if(e.categoryList&&e.categoryList.length){var t=e.categoryList.filter(function(e){return e.imgUrl}),n=e.categoryList.filter(function(e){return!e.imgUrl}),a=2*Math.ceil(t.length/3),o=Math.ceil(n.length/3),i=a+o>6,r=t.filter(function(e,t){return t<9}),s=6-2*Math.ceil(r.length/3),d=n.filter(function(e,t){return t<3*s});return{id:e.id,name:e.name,imgList:t,textList:n,simpleImgList:r,simpleTextList:d,showAll:i,hasOpen:!1}}return{id:e.id,name:e.name,showAll:!1}});console.log("list",t,e),this.setData({list:t,firstList:e})},handleOpen:function(e){var t=e.currentTarget.dataset.index;this.setData(m({},"list["+t+"].hasOpen",!this.data.list[t].hasOpen))},handleNavigate:function(e){var t=e.currentTarget.dataset,n=t.cid,a=t.cname;this.triggerEvent("cclick",{id:n,name:a},{})},handleLeftClick:function(e){var t=e.currentTarget.dataset.index;this.setData({leftIndex:t,passive:!0,rightId:"right"+t});var n=this;o.createSelectorQuery().in(this).select("#left"+t).boundingClientRect(function(e){var a=o.getSystemInfoSync(),i=a.windowHeight;if(console.log(e),e.bottom>i-50){var r=Math.floor(i/100);n.setData({leftId:"left"+(t-r)})}}).exec()},handleRightScroll:function(){var e=this.data.passive;this.scrollEndTimer&&(clearTimeout(this.scrollEndTimer),this.scrollEndTimer=null);var t=this;this.scrollEndTimer=setTimeout(function(){e||t.handleLeftTop(),t.setData({passive:!1})},300)},handleLeftTop:function(){var e=this.data.list,t=o.createSelectorQuery().in(this),n=this;t.selectAll(".right-item").boundingClientRect(function(t){if(t&&0!=t.length){var a=t.findIndex(function(e){return e.top>-17});console.log("左侧分类",e[a].name);o.createSelectorQuery().in(n).select("#left"+a).boundingClientRect(function(e){var t=o.getSystemInfoSync(),i=t.windowHeight;if(console.log(e),e.top<0)n.setData({leftIndex:a,leftId:"left"+a});else if(e.bottom>i-50){var r=Math.floor(i/100);n.setData({leftIndex:a,leftId:"left"+(a-r)})}else n.setData({leftIndex:a})}).exec()}}).exec()}}}),Page({})}),window.define("component/decoration_company/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var v=e("../../network/api"),w=m(v),x=e("../../utils/util.js"),b=m(x),S=e("../../behaviors/toast.js"),D=m(S);Component({behaviors:[D.default],properties:{selectArea:{type:Object},tab:{type:String},dataType:{type:Number}},data:{sort:"area",query:{pageNo:1,pageSize:20,sort:""},list:[],objectArray:[],index:0,areaName:"全部区域"},methods:{handleLoad:function(e){if(console.log(e,"options"),e){var t=e.dataType,n=void 0===t?1:t,a=e.cityCode,o=void 0===a?"":a,i=e.areaName,r=void 0===i?"全部区域":i;this.setData({query:Object.assign({},this.data.query,{dataType:n},e),cityCode:o,areaName:r})}else this.setData({query:Object.assign({},this.data.query,{dataType:1})});this.handleCompanyList(Object.assign({},this.data.query),!0),this.queryDecorateCompanyCity()},handleCompanyList:function(e,t){o.showLoading({title:"加载中"});var n=this;w.default.decorateCompanyList(e).then(function(e){o.hideLoading(),n.setData({list:t?e.data.data:n.data.list.concat(e.data.data),loadmore:e.data.nextCursor>0,loadingmore:!1,query:Object.assign({},n.data.query,{pageNo:e.data.nextCursor,pageSize:e.data.pageSize}),scrollTop:t?0:n.data.scrollTop,isShow:!0})}).catch(function(){return o.hideLoading()})},handleLoadMore:function(){this.data.loadmore&&!this.data.loadingmore&&(this.setData({loadingmore:!0}),o.showLoading({title:"加载中"}),this.handleCompanyList(this.data.query,!1))},bindNameInput:function(e){this.setData({name:e.detail.value})},bindPhoneInput:function(e){this.setData({phone:e.detail.value})},handleSubmit:function(){var e=this.data,t=e.name,n=e.phone,a=e.selectArea,i=this,r=!1;if(!t)return r=!0,void this.showToast("请输入姓名");if(!a.code)return r=!0,void this.showToast("请选择区域");if(b.default.testMobile(n)&&!r){var s=[{label:"姓名",value:t},{label:"手机号",value:n},{label:"区域",value:{city:a.city,code:a.code},type:"area"}];w.default.feedbackSave({template:s,type:"company",formType:2}).then(function(e){o.hideLoading(),0==e.status&&e.data&&i.showToast("已经收到您的信息，我们将尽快为您推荐口碑公司")}).catch(function(e){o.hideLoading(),i.showToast(w.default.errors(e.error)||"获取推荐失败")})}else this.showToast("请输入正确的手机号码")},handleSwitchSort:function(e){var t=e.currentTarget.dataset.sort,n=this.data.sort;if("goodRate"==t?t==n?(this.setData({order:"ascend"==this.data.order?"descend":"ascend"}),this.setData({"query.pageNo":1,"query.sort":t+":"+this.data.order})):(console.log(t),this.setData({sort:t,order:"descend","query.pageNo":1,"query.sort":t+":descend"})):this.setData({sort:t,"query.pageNo":1,"query.sort":""}),"goodRate"==t){var a=this.data.cityCode;this.handleCompanyList(Object.assign({},this.data.query,{cityCode:a}),!0)}},bindPickerChange:function(e){this.setData({index:e.detail.value});var t=this.data.objectArray[e.detail.value].code;this.setData({areaName:this.data.objectArray[e.detail.value].name,cityCode:t}),this.handleCompanyList(Object.assign({},this.data.query,{cityCode:t}),!0)},queryDecorateCompanyCity:function(){var e=this;w.default.decorateCompanyCity().then(function(t){o.hideLoading();var n=[].concat(y(t.data));n.splice(0,0,{code:"",id:0,name:"全部区域"}),e.setData({objectArray:n})}).catch(function(){return o.hideLoading()})}}}),Page({})}),window.define("component/waterfall/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../../network/api"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({properties:{item:{type:Object,value:{}},list:{type:Array,value:[]},index:{type:Number,value:0},type:{type:String,value:""}},data:{},methods:{toDetail:function(e){var t=this.data.index,n=e.currentTarget.dataset,a=n.impressionid,o=n.type;this.triggerEvent("handletap",{id:a,index:t,type:o}),this.changeSee({impressionId:a})},changeSee:function(e){var t=this;y.default.impressionSee(e).then(function(e){o.stopPullDownRefresh(),console.log(e.data,"res");var n=Object.assign({},t.data.item,{seeCount:e.data.seeCount});t.setData({item:n})}).catch(function(e){console.log(e),o.stopPullDownRefresh()})},changePraise:function(e){var t=this,n=e.currentTarget.dataset.impressionid,a=Object.assign({},this.data.item,{isPraise:1==this.data.item.isPraise?0:1});this.setData({item:a});var i=1==this.data.item.isPraise?1:-1,r={addOrMinus:i,impressionId:n};y.default.impressionPraise(Object.assign({},r)).then(function(e){o.stopPullDownRefresh();var n=Object.assign({},t.data.item,{praiseCount:e.data.praiseCount});t.setData({item:n})}).catch(function(e){console.log(e),o.stopPullDownRefresh()})}}}),Page({})}),window.define("component/picture-tab/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Component({properties:{list:{type:Array,value:[]},height:{type:Number,value:0}},data:{scrollTop:0},methods:{handleLoadMore:function(){this.triggerEvent("loadmore",{},{})},handletap:function(e){this.triggerEvent("handletap",e.detail)},setScrollTop:function(e){this.setData({scrollTop:e})}}}),Page({})}),window.define("component/decoration_picture/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}var v=e("../../network/api"),w=m(v),x=e("../../utils/util.js"),b=m(x);Component({properties:{},data:{picture:[],type:0,defaultSelectList:[{name:"综合排序",type:"likeOrSee",value:[{name:"点赞数",isCheck:0},{name:"浏览次数",isCheck:0}]}],checkTypeIndex:"",query:{singeQuery:{pageNo:1,pageSize:10,type:0},moreQuery:{pageNo:1,pageSize:10,type:1}},selectList:[],selectIndex:[],checkIndexArray:{singeIndexArray:[],moreIndexArray:[]},selectAllList:{singeList:[],moreList:[]}},methods:{handleLoad:function(e){console.log(e,"options");var t={};if("0"===e.type){var n=e.itemValueId,a=e.itemId,i=this.data.query.singeQuery;t=Object.assign({},i,{itemValueIds:n,itemIds:a}),this.setData({type:0,showType:0,style:a,checkname:e.checkname,"query.singeQuery":Object.assign({},i,{itemIdsArray:[{itemValueId:n,itemId:a}]})})}else if(1==e.type){var r=e.itemValueId,s=e.itemId,d=this.data.query.moreQuery;t=Object.assign({},d,{itemValueIds:r,itemIds:s}),this.setData({type:1,showType:1,style:s,checkname:e.checkname,"query.moreQuery":Object.assign({},d,{itemIdsArray:[{itemValueId:r,itemId:s}]})})}this.setData({height:o.getSystemInfoSync().screenHeight-101}),this.handlePictureList(Object.assign({},t),!0),this.querySelectItem()},querySelectItem:function(){var e=this;w.default.querySelectItem().then(function(t){console.log(t),e.setData({"selectAllList.singeList":e.data.defaultSelectList.concat(t.data[0].single),"selectAllList.moreList":e.data.defaultSelectList.concat(t.data[1].more),selectList:0===e.data.type?e.data.defaultSelectList.concat(t.data[0].single):e.data.defaultSelectList.concat(t.data[1].more)})})},handlePictureList:function(e,t){var n=this;o.showLoading({title:"加载中"});var a=this.data,i=a.type,r=a.query,s=this;w.default.pictureList(Object.assign({},e,{type:i})).then(function(e){if(o.hideLoading(),0===i?r.singeQuery=Object.assign({},s.data.query.singeQuery,{pageNo:e.data.nextCursor,pageSize:e.data.pageSize}):r.moreQuery=Object.assign({},s.data.query.moreQuery,{pageNo:e.data.nextCursor,pageSize:e.data.pageSize}),s.setData({picture:t?e.data.data:s.data.picture.concat(e.data.data),loadmore:e.data.nextCursor>0,loadingmore:!1,query:r,scrollTop:t?0:s.data.scrollTop,isShow:!0}),console.log("clear",t),t){var a=n.selectComponent("#pictureTab");console.log("comp",a),a&&a.setScrollTop(0)}}).catch(function(){return o.hideLoading()})},handleMoreQuery:function(){if(this.data.loadmore&&!this.data.loadingmore){this.setData({loadingmore:!0}),o.showLoading({title:"加载中"});var e=this.data,t=e.type,n=e.query,a=n.singeQuery,i=a.itemIdsArray,r=y(a,["itemIdsArray"]),s=n.moreQuery,d=s.itemIdsArray,u=y(s,["itemIdsArray"]),c=0===t?Object.assign({},r,{itemIds:i&&i.map(function(e){return e.itemId}).join(","),itemValueIds:i&&i.map(function(e){return e.itemValueId}).join(",")}):Object.assign({},u,{itemIds:d&&d.map(function(e){return e.itemId}).join(","),itemValueIds:d&&d.map(function(e){return e.itemValueId}).join(",")});this.handlePictureList(c,!1)}},selectType:function(e){var t=e.currentTarget.dataset.type;if(t!=this.data.type){var n={},a=[],o=[];if(0==t){a=this.data.selectAllList.singeList,o=this.data.checkIndexArray.singeIndexArray;var i=this.data.query.singeQuery,r=i.itemIdsArray,s=void 0===r?[]:r,d=y(i,["itemIdsArray"]),u=s.map(function(e){return e.itemId}).join(","),c=s.map(function(e){return e.itemValueId}).join(",");n=Object.assign({},d,{itemIds:u,itemValueIds:c},n,{psgeNo:1})}else{a=this.data.selectAllList.moreList,o=this.data.checkIndexArray.moreIndexArray;var l=this.data.query.moreQuery,p=l.itemIdsArray,h=void 0===p?[]:p,g=y(l,["itemIdsArray"]),f=h.map(function(e){return e.itemId}).join(","),m=h.map(function(e){return e.itemValueId}).join(",");n=Object.assign({},g,{itemIds:f,itemValueIds:m},n,{pageNo:1})}this.setData({type:t,selectList:a,selectIndex:o,checkTypeIndex:""}),this.handlePictureList(n,!0)}},handleFirstClick:function(e){var t=e.currentTarget.dataset.index;this.setData({checkTypeIndex:t})},onConcal:function(){this.setData({checkTypeIndex:""})},bindCheckName:function(e){var t=e.currentTarget.dataset,n=t.checkindex,a=t.index,o=this.data,i=o.selectList,r=o.selectIndex,s=o.checkIndexArray,d=o.type,u=o.query,c=o.style,l={pageNo:1},p={};if("likeOrSee"==i[n].type?l.likeOrSee=""===a?"":a+1:p=a||0===a?{itemId:i[n].itemId,itemValueId:i[n].value[a].itemValueId}:{itemId:i[n].itemId,itemValueId:-1},0==d){s.singeIndexArray[n]=a;var h=u.singeQuery,g=h.itemIdsArray,f=void 0===g?[]:g,m=y(h,["itemIdsArray"]),v=f.filter(function(e){return e.itemId!=p.itemId});p.itemId&&v.push(p);var w=v.map(function(e){return e.itemId}).join(","),x=v.map(function(e){return e.itemValueId}).join(",");l=Object.assign({},m,{itemIds:w,itemValueIds:x},l),u.singeQuery=Object.assign({},u.singeQuery,l,{itemIdsArray:v})}else{s.singeIndexArray[n]=a;var b=u.moreQuery,S=b.itemIdsArray,D=void 0===S?[]:S,C=y(b,["itemIdsArray"]),_=D.filter(function(e){return e.itemId!=p.itemId});p.itemId&&_.push(p);var T=_.map(function(e){return e.itemId}).join(","),k=_.map(function(e){return e.itemValueId}).join(",");l=Object.assign({},C,{itemIds:T,itemValueIds:k},l),u.moreQuery=Object.assign({},u.moreQuery,l,{itemIdsArray:_})}r[n]=a,c==[""+i[n].itemId]&&this.setData({style:"",showType:""}),this.setData({selectIndex:r,checkIndexArray:s,checkTypeIndex:"",query:u}),this.handlePictureList(l,!0)},handletap:function(e){var t=this.data,n=t.type,a=t.query,i=a.singeQuery,r=a.moreQuery,s=e.detail,d=s.id,u=s.index;i.pageNo=Math.ceil((u+1)/i.pageSize),r.pageNo=Math.ceil((u+1)/r.pageSize);var c=0==n?b.default.stringify(i):b.default.stringify(r);o.navigateTo({url:"/pages/decoration/viewpager/index?from=picture&currentId="+d+"&query="+c})}}}),Page({})}),window.define("component/decoration_designer/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../../network/api"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({properties:{},data:{designer:[],query:{pageSize:10,pageNo:1}},methods:{handleLoad:function(e){console.log(e,"options");var t=e.dsId,n=e.dataType;this.setData({dsId:t,dataType:n}),this.handleDesignerList({dsId:t,dataType:n},!0)},handleDesignerList:function(e,t){o.showLoading({title:"加载中"});var n=this;y.default.queryDesignerList(e,t).then(function(e){o.hideLoading(),n.setData({designer:t?e.data.data:n.data.designer.concat(e.data.data),loadmore:e.data.nextCursor>0,loadingmore:!1,query:Object.assign({},n.data.query,{pageNo:e.data.nextCursor,pageSize:e.data.pageSize}),scrollTop:t?0:n.data.scrollTop,isShow:!0})}).catch(function(){return o.hideLoading()})},handleLoadMore:function(){this.data.loadmore&&!this.data.loadingmore&&(this.setData({loadingmore:!0}),o.showLoading({title:"加载中"}),this.handleDesignerList(this.data.query,!1))},handleTop:function(){var e=this.data,t=e.dsId,n=e.dataType;this.handleDesignerList({dsId:t,dataType:n},!0)}}}),Page({})}),window.define("component/live/live_item",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../../behaviors/toast.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m),v=e("../../network/api.js");Component({behaviors:[y.default],properties:{live:{type:Object},index:{type:Number}},ready:function(){},methods:{handleAddFavorite:function(e){var t=this.data.live;this.setData({"live.isFavorite":1,"live.favoriteUsers":t.favoriteUsers+1});var n=new Date,a=new Date(t.startTime.replace(/-/g,"/"));1==t.status&&(a-n)/6e4>6?this.showToast("已加入收藏，直播开始前5分钟将收到提醒"):this.showToast("已加入收藏"),(0,v.addLiveFavorite)({id:t.id,formId:e})},handleRemoveFavorite:function(){var e=this.data,t=e.live,n=e.index;this.setData({"live.isFavorite":0,"live.favoriteUsers":t.favoriteUsers-1}),this.showToast("已取消收藏"),this.triggerEvent("removefavorite",{index:n},{composed:!0,bubbles:!0}),(0,v.removeLiveFavorite)({id:t.id})},handleFavorite:function(e){var t=e.detail.formId;this.data.live.isFavorite?this.handleRemoveFavorite():this.handleAddFavorite(t)},handleTapLive:function(e){if("favoriteBtn"!=e.target.id){var t=this.data.live;this.triggerEvent("ontaplive",t)}}}}),Page({})}),window.define("component/live/live_list",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Component({properties:{liveList:Array,topush:{type:Boolean,value:!1}},data:{},methods:{handleTapLive:function(e){var t=e.detail,n=this.data.topush;console.log(this.data),n?o.navigateTo({url:"/pages/live/push/index?id="+t.id}):o.navigateTo({url:"/pages/live/detail/index?id="+t.id})}}}),Page({})}),window.define("component/live/live_page",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=e("../../network/api.js");Component({data:{tabs:[{title:"当前活动",liveList:[],noDataTitle:"没有直播活动"},{title:"历史活动",liveList:[],noDataTitle:"没有历史直播活动"}],isPusher:!1},ready:function(){var e=this,t=this.selectComponent("#tab"),n=o.createSelectorQuery().in(t);n.select(".tab__navbar").boundingClientRect(),n.exec(function(t){o.getSystemInfo({success:function(n){e.setData({scrollHeight:n.windowHeight-t[0].height})}})}),this.renderStartButton()},methods:{renderStartButton:function(){var e=this;(0,y.checkPusher)().then(function(t){t.data.res&&e.setData({isPusher:!0})})},onTabChange:function(e){var t=e.detail.key;switch(o.showLoading({title:"请稍后",mask:!0}),t){case 0:this.queryLives();break;case 1:this.queryHistories()}},queryLives:function(){var e=this;this.setData(m({},"tabs[0].loading",!0)),(0,y.queryCurrentLives)({pageSize:999}).then(function(t){var n;o.hideLoading(),e.setData((n={},m(n,"tabs[0].liveList",t.data.data),m(n,"tabs[0].loading",!1),n))}).catch(function(t){e.setData(m({},"tabs[0].loading",!1)),o.hideLoading()})},queryHistories:function(){var e=this;this.setData(m({},"tabs[1].loading",!0)),(0,y.queryHistoryLives)({pageSize:999}).then(function(t){var n;o.hideLoading(),e.setData((n={},m(n,"tabs[1].liveList",t.data.data),m(n,"tabs[1].loading",!1),n))}).catch(function(t){o.hideLoading(),e.setData(m({},"tabs[1].loading",!1))})}}}),Page({})}),window.define("dist/minui/wxc-search/dist/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Component({properties:{placeholder:{type:String,value:"搜索"},isShow:{type:Boolean,value:!1},isShowSearchHistory:{type:Boolean,value:!0},isShowSearchKey:{type:Boolean,value:!1},searchKeys:{type:Array,value:[]},name:{type:String,value:"wxSearchHisKeys"},maxHeight:Number,focus:{type:Boolean,value:!1}},data:{searchHistories:[],value:""},ready:function(){this.init()},methods:{init:function(){var e=(this.data.barHeight,this);o.getSystemInfo({success:function(t){var n=t.windowHeight,a=n-48;e.setData({searchHeight:a,maxHeight:4*n/5})}}),this.getHisKeys()},getHisKeys:function(){var e=this.data.name,t=[];try{t=o.getStorageSync(e),console.log(t),t&&this.setData({searchHistories:t})}catch(e){}},hideSearch:function(){this.setData({isShow:!1}),this.triggerEvent("onsearchhide")},showSearch:function(){this.setData({isShow:!0}),this.triggerEvent("onsearchshow")},onSearchFocus:function(){var e=this.data.value;this.setData({showDel:e.trim().length>0}),0==e.trim().length&&this.showSearch()},onSearchChange:function(e){var t=e.detail.value;this.setData({value:t,showDel:t.trim().length>0}),0==t.trim().length&&this.showSearch()},clearSearch:function(){this.setData({focus:!0,value:"",showDel:!1,searchFocus:!0}),this.triggerEvent("clear")},onSearch:function(){var e=this.data.value;void 0!==e&&0!=e.trim().length&&(this._addHistory(),this.hideSearch(),this.triggerEvent("search",{value:e}))},onKeyTap:function(e){var t=e.currentTarget.dataset.key;this.setData({value:t,showDel:!0}),this.hideSearch(),this.triggerEvent("search",{value:t})},_addHistory:function(){var e=this,t=this.data,n=t.value,a=t.name;if(void 0!==n&&0!=n.length){var i=o.getStorageSync(a);i?(i.indexOf(n)<0&&i.unshift(n),o.setStorage({key:a,data:i,success:function(){e.getHisKeys()}})):(i=[],i.push(n),o.setStorage({key:a,data:i,success:function(){e.getHisKeys()}}))}},clearSearchHistories:function(){var e=this,t=this.data.name;o.removeStorage({key:t,success:function(t){e.setData({searchHistories:[]})}})}}}),Page({})}),window.define("pages/page/search/product-tab/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Component({properties:{keyword:{type:String,value:""},serverTime:{type:Number,observer:"handleSearch"},products:{type:Object},filters:{type:Object,value:{},observer:function(e){console.log(e,"newVal"),this.setData({newFilter:e}),this.reset()}}},data:{query:{},filter:!0,sort:"sales:descend",segements:[{key:"sales",title:"销量优先",checked:!0,order:"descend"},{key:"evaluateCount",title:"好评最高",order:"descend"},{key:"price",title:"价格",sort:!0,order:"ascend"}],isShowFilter:!1},ready:function(){var e=this,t=i().globalConfig;e.setData({isShowStoreName:t.isShowStoreName}),console.log(e.data.isShowStoreName,"isShowStoreName"),o.getSystemInfo({success:function(t){var n=o.createSelectorQuery();n.select("#search").boundingClientRect(),n.select("#tab").boundingClientRect(),n.exec(function(n){e.setData({scrollHeight:t.windowHeight-n[0].height-n[1].height-36})})}})},methods:{onSwitch:function(e){var t=e.currentTarget.dataset.index,n=this.data.segements,a=n.findIndex(function(e){return e.checked}),o=n[t];t==a?(o.sort&&(o.order="ascend"==o.order?"descend":"ascend"),n[t]=o):(n.forEach(function(e){e.checked=!1,e.sort&&(e.order=void 0)}),o.checked=!0,o.sort&&(o.order="ascend"),n[t]=o);var i=o.key,r=o.order;this.setData({sort:i+":"+r}),this.triggerEvent("onquery",{sort:this.data.sort,query:this.data.query}),this.setData({segements:n})},handleCheckBrand:function(e){var t=e.currentTarget.dataset.index,n=this.data.newFilter;n.brandList.childrenList[t].checked=!n.brandList.childrenList[t].checked,this.setData({newFilter:n})},handleCheckProperty:function(e){var t=e.currentTarget.dataset,n=t.index,a=t.idx,o=this.data.newFilter;o.propertyList[n].childrenList[a].checked=!o.propertyList[n].childrenList[a].checked,this.setData({newFilter:o})},handleSetPrice:function(e){var t=e.currentTarget.dataset.type,n=e.detail.value,a=this.data.newFilter;a[""+t]=n,this.setData({newFilter:a})},handleCheckCategory:function(e){var t=e.currentTarget.dataset.index,n=this.data.newFilter;n.categoryList[t].checked=!n.categoryList[t].checked,this.setData({newFilter:n})},handleSubmitFilter:function(){var e=this.data.newFilter;console.log(e,"newFilter");var t=e.minPrice,n=e.maxPrice,a=e.brandList.childrenList?e.brandList.childrenList.filter(function(e){return e.checked}).map(function(e){return e.propertyName}):[],o=e.categoryList.filter(function(e){return e.checked}).map(function(e){return e.id}),i=[];e.propertyList.forEach(function(e){var t={pid:e.id},n=[];e.childrenList.forEach(function(e){e.checked&&n.push(e.propertyName)}),t.propertyNames=n.join(","),i.push(t)});var r={};void 0!=t&&t.trim().length>0&&(r.minPrice=t.trim()),void 0!=n&&n.trim().length>0&&(r.maxPrice=n.trim(0)),a.length>0&&(console.log(a,"brandIds"),i.push({pid:e.brandList.id,propertyNames:a.join(",")})),o.length>0&&(r.catIds=o.join(",")),r.properties=i.filter(function(e){return e.propertyNames.length>0});var s=!1;(r.minPrice||r.maxPrice||r.brandIds&&r.brandIds.length>0||r.properties&&r.properties.length>0)&&(s=!0),this.setData({query:r,filterActive:s}),console.log(r,"query"),this.triggerEvent("onquery",{sort:this.data.sort,query:this.data.query}),this.setData({isShowFilter:!1})},handleSearch:function(){this.reset()},handleScrollBottom:function(){console.log("to bottom");var e=this.data.products;console.log(e.pageNo,e.pageTotal,"+++++++++++++++++"),e.pageNo<e.pageTotal&&(console.log("_______________________"),this.triggerEvent("onquery",{sort:this.data.sort,query:Object.assign({},this.data.query,{pageNo:e.pageNo+1})}))},handleResetFilter:function(){var e=this.data.newFilter;e.categoryList.forEach(function(e){return e.checked=!1}),e.brandList.childrenList&&e.brandList.childrenList.forEach(function(e){return e.checked=!1}),e.propertyList.forEach(function(e){e.childrenList.forEach(function(e){return e.checked=!1})}),this.setData({query:{},newFilter:Object.assign({},e,{minPrice:"",maxPrice:""})})},reset:function(){console.log("reset ?"),this.setData({query:{},filterActive:!1,sort:"sales:descend",segements:[{key:"sales",title:"销量优先",checked:!0,order:"descend"},{key:"evaluateCount",title:"好评最高",order:"descend"},{key:"price",title:"价格",sort:!0,order:"ascend"}]})},showFilterPop:function(){this.setData({isShowFilter:!0})},hideFilter:function(){this.setData({isShowFilter:!1})}}}),Page({})}),window.define("pages/page/search/store-tab/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Component({properties:{keyword:{type:String,value:""},serverTime:{type:Number,observer:"handleSearch"},stores:{type:Object}},data:{query:{},filter:!1,sort:"sales:descend",segements:[{key:"sales",title:"销量优先",checked:!0,order:"descend"},{key:"evaluateCount",title:"好评最高",order:"descend"},{key:"distance",title:"距离最近",order:"ascend"}]},ready:function(){var e=this;o.getSystemInfo({success:function(t){var n=o.createSelectorQuery();n.select("#search").boundingClientRect(),n.select("#tab").boundingClientRect(),n.exec(function(n){console.log(n),e.setData({scrollHeight:t.windowHeight-n[0].height-n[1].height-36})})}})},methods:{handleTabSwitch:function(e){var t=e.detail,n=t.key,a=t.order;this.setData({sort:n+":"+a}),this.triggerEvent("onquery",{sort:this.data.sort,query:this.data.query})},handleSearch:function(){this.reset()},handleScrollBottom:function(){console.log("to bottom");var e=this.data.stores;e.pageNo<e.pageTotal&&this.triggerEvent("onquery",{sort:this.data.sort,query:Object.assign({},this.data.query,{pageNo:e.pageNo+1})})},reset:function(){console.log("reset ?"),this.setData({query:{},filterActive:!1,sort:"sales:descend",segements:[{key:"sales",title:"销量优先",checked:!0,order:"descend"},{key:"evaluateCount",title:"好评最高",order:"descend"},{key:"distance",title:"距离最近",order:"ascend"}]})}}}),Page({})}),window.define("component/cart_popup/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(){function e(e,t){var n=[],a=!0,o=!1,i=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){o=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=e("../../network/api.js"),w=function(e){return e&&e.__esModule?e:{default:e}}(v);Component({properties:{type:{type:String,value:"haha",observer:function(e,t){}},propsCurrentGood:{type:Object,value:{},observer:function(e,t){this.setData({currentGood:e})}},detail:{type:Object,value:{}}},data:{showDialog:!1,addImage:"http://imgcdnali.wfenxiao.com.cn/xcx/c/plus1.png"},methods:{getCurrentGoodBuyMessage:function(e){return e?e.quantity<=0?"暂无库存":e.maxBuy>0&&e.quantity<=e.maxBuy?"剩余库存小于最小购买量":e.minBuy>0&&e.maxBuy>0?"至少购买"+e.minBuy+"件，最多购买"+e.maxBuy+"件":e.minBuy>0?"至少购买"+e.minBuy+"件":e.maxBuy>0?"最多购买"+e.maxBuy+"件":"":""},toggleDialog:function(){console.log("toggleDialog===>",this.data.showDialog),this.setData({showDialog:!this.data.showDialog})},handleSelectSpec:function(e){var t,n=this,a=e.target.dataset,o=a.specindex,i=a.specvalueindex,r=this.data.currentGood,s=r.specs[o],d=s.values[i];if(!d.disabled&&!d.selected){r.specs[o].values.forEach(function(e,t){n.setData(m({},"currentGood.specs["+o+"].values["+t+"].selected",!1))}),this.setData((t={},m(t,"currentGood.selectedSpec["+o+"]",s.itemId+":"+d.itemValueId),m(t,"currentGood.specs["+o+"].values["+i+"].selected",!0),t));var u="";r.selectedSpec.forEach(function(e){if(e){var t=e.split(":"),n=y(t,2),a=n[0],o=n[1],i=r.specs.find(function(e){return e.itemId==a}).values.find(function(e){return e.itemValueId==o}).itemValue;u+=i+" "}}),this.setData({"currentGood.selectedSpecValue":u});var c=r.skus.findIndex(function(e){return e.propertiesValue==r.selectedSpec.join(";")});-1!=c&&(r.skus.forEach(function(e,t){n.setData(m({},"currentGood.skus["+t+"].selected",!1))}),this.setData({"currentGood.selectedSku":r.skus[c],"currentGood.num":this.setQuantity(r.skus[c].minBuy,r.skus[c].maxBuy,r.skus[c].quantity,r.num),"currentGood.buyMessage":this.getCurrentGoodBuyMessage(r.skus[c])})),r.specs.forEach(function(e,t){e.values.forEach(function(a,o){var i=Array.from(r.selectedSpec);i.splice(t,1,e.itemId+":"+a.itemValueId);var s=r.skus.find(function(e){return e.propertiesValue==i.join(";")});n.setData(m({},"currentGood.specs["+t+"].values["+o+"].disabled",s&&s.quantity<=0||s&&s.maxBuy>0&&s.quantity<s.maxBuy?1:0))})}),console.log("currentGood---------\x3e",this.data.currentGood)}},setQuantity:function(e,t,n,a){return a>=e&&a<=n&&(t>0&&a<=t||0==t)?a:e>n||t>0&&e>t?0:e>0&&a<=e?e:t>0&&a>t?t>n?n:t:1},handleQuantityPlus:function(e){console.log(e,this.data);var t=this.data.currentGood;t.skus&&t.skus.length>0?t.selectedSku&&t.selectedSku.quantity>t.num&&(t.selectedSku.maxBuy?(t.selectedSku.maxBuy>t.selectedSku.quantity?t.selectedSku.quantity:t.selectedSku.maxBuy)>t.num&&this.setData({"currentGood.num":t.num+1}):this.setData({"currentGood.num":t.num+1})):t.stock>t.num&&this.setData({"currentGood.num":t.num+1})},handleQuantityMinus:function(){this.data.currentGood.num<2||this.data.currentGood.num<(this.data.currentGood.selectedSku&&this.data.currentGood.selectedSku.minBuy?this.data.currentGood.selectedSku.minBuy:2)||this.setData({"currentGood.num":this.data.currentGood.num-1})},handleAddToCart:function(){var e=this,t=this.data.currentGood;return o.showLoading({title:"请稍后",mask:!0}),w.default.addToCart({goodsId:t.id,propertiesId:t.selectedSku.propertiesId,quantity:t.num||1}).then(function(t){console.log("--------res------",t),o.hideLoading(),0==t.status?(o.showToast({title:"加入购物车成功！",icon:"none",duration:1e3}),e.triggerEvent("addToCartSuccess",{}),e.toggleDialog()):o.showToast({title:"网络连接错误！",icon:"none",duration:1e3})}).catch(function(e){console.log("err---\x3e",e),o.showToast({title:e.data&&e.data.msg?e.data.msg:"网络连接错误！",icon:"none",duration:1e3}),o.hideLoading()})},handleCreateTuan:function(){var e=this.data.currentGood;this.triggerEvent("createTuan",e)}}}),Page({})}),window.define("pages/pingjia/component/evaluatecontent/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=e("../../../../network/api.js"),w=m(v),x=e("../../../../behaviors/toast.js"),b=m(x);Component({behaviors:[b.default],properties:{evaluateData:{type:Object,value:{}},sType:{type:Number}},data:{},methods:{handleReleaseBtn:function(e){var t=this,n=e.currentTarget.dataset,a=n.index,i=n.item,r=i.id,s=i.orderNo,d=i.type,u=i.anonymous,c=i.secondEvaluateContent,l=i.sType,p=[];p=""==c&&4!=l&&5!=l&&7!=l?0==u?["发表追评","设置匿名"]:["发表追评","取消匿名"]:0==u?["设置匿名"]:["取消匿名"],o.showActionSheet({itemList:p,success:function(e){0==e.tapIndex&&""==c&&4!=l&&5!=l&&7!=l?o.navigateTo({url:"/pages/pingjia/evaluateform/index?orderNo="+s+"&type="+d+"&id="+r}):w.default.querySetAnonymous({id:r,anonymous:0==u?1:0}).then(function(e){var n;o.hideLoading(),t.setData((n={},y(n,"evaluateData.data["+a+"].anonymous",e.data.anonymous),y(n,"evaluateData.data["+a+"].nickName",e.data.nickName),n)),t.showToast(0==u?"设置匿名成功":"取消匿名成功")}).catch(function(e){console.log(e),o.hideLoading(),t.showToast(0==u?"设置匿名失败":"取消匿名失败")})},fail:function(e){console.log(e.errMsg)}}),this.setData({})},onTapPic:function(e){var t=e.currentTarget.dataset.type;o.previewImage({current:e.currentTarget.dataset.link,urls:"first"==t?this.data.evaluateData.data[e.currentTarget.dataset.index].firstEvaluateImgs:this.data.evaluateData.data[e.currentTarget.dataset.index].secondEvaluateImgs})}}}),Page({})}),window.define("pages/pingjia/component/evaluateitems/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Component({properties:{pingjiaArray:{type:Array,value:[]},cType:{type:Number,value:0},homePage:{type:Boolean,value:!1}},data:{currentType:0},attached:function(){var e=this.data.cType;this.setData({currentType:-1==e?0:e})},methods:{onEvaluateItem:function(e){var t=e.currentTarget.dataset.index,n=0==t?-1:1==t?1:2==t?2:3==t?3:4;this.setData({currentType:t,evaluate:n}),this.triggerEvent("onquery",{currentType:this.data.currentType,evaluate:this.data.evaluate})}}}),Page({})}),window.define("pages/cutprice/components/help-modal/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Component({properties:{},data:{list:["1.邀请好友一起砍价，无论是否砍到指定价格都可以购买商品；","2.对于同一个砍价，您只能帮助砍价一次；","3.每次砍价金额随机，参与好友越多越容易成功；","4.您每天最多可以帮助3个好友砍价；","5.砍价完成以后需尽快支付，逾期失效；"]},methods:{show:function(){var e=this.selectComponent("#modal");e&&e.show()},hide:function(){var e=this.selectComponent("#modal");e&&e.hide()}}}),Page({})}),window.define("pages/cutprice/components/cut-modal-self/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Component({properties:{currCutPrice:{type:Number,value:0}},data:{},methods:{show:function(){var e=this.selectComponent("#modal");e&&e.show()},hide:function(){var e=this.selectComponent("#modal");e&&e.hide()}}}),Page({})}),window.define("pages/cutprice/components/cut-modal-friend/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Component({properties:{cutPrice:{type:Object,value:{}}},data:{},methods:{show:function(){var e=this.selectComponent("#modal");e&&e.show()},hide:function(){var e=this.selectComponent("#modal");e&&e.hide()},handleCutPrice:function(){this.triggerEvent("cutprice",{},{}),this.hide()}}}),Page({})}),window.define("pages/shop/components/store_header/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../../../../network/api"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({properties:{shopId:{type:String,value:""},storeDetail:{type:Object,value:{}}},data:{},attached:function(){console.error("header--attached====="),this.getStoreDetail()},methods:{getStoreDetail:function(){var e=this;o.showLoading({title:"请稍后",mask:!0}),y.default.getStoreDetail({id:this.data.shopId}).then(function(t){o.hideLoading(),e.setData({storeDetail:t.data}),e.triggerEvent("setStoreDetail",{store:t.data})})},jumpstoredetail:function(e){var t=e.currentTarget.dataset.id,n=e.currentTarget.dataset.openevaluate;o.navigateTo({url:"/pages/shop/desc/desc?id="+t+"&openevaluate="+n})},collectionOn:function(){var e=this,t=this.data.storeDetail;t.hasCollection?y.default.unfollowStore({storeId:t.id}).then(function(t){t&&0==t.status&&t.data.result&&e.setData({"storeDetail.hasCollection":!1})}):y.default.followStore({storeId:t.id}).then(function(t){t&&0==t.status&&t.data.result&&e.setData({"storeDetail.hasCollection":!0})})}}}),Page({})}),window.define("pages/shop/components/cart/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../../../../network/api.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({properties:{shopId:{type:String,value:""},numTotal:{type:String,value:""},priceTotal:{type:String,value:""},selectFullMoney:{type:String,value:""},action:{type:String,value:"store"},diningTableNo:{type:String,value:""},cyType:{type:String,value:""},minSendFeeDifference:{type:Number,value:""},minSendFee:{type:Number,value:""}},data:{},ready:function(){console.log(this.data,"data")},attached:function(){this.queryCartInfo()},methods:{queryCartInfo:function(){var e=this;this.data.shopId&&y.default.queryCartStatics({storeId:this.data.shopId}).then(function(t){e.setData({numTotal:t.data.cartNum,priceTotal:t.data.cartGoodsTotal,showTip:!0,selectFullMoney:t.data.fullMoney,minSendFeeDifference:t.data.minSendFeeDifference,minSendFee:t.data.minSendFee}),e.triggerEvent("changesendfee",{data:t.data})}).catch(function(){e.setData({cart:{cartNum:20,cartGoodsTotal:200}})})},handleCheckout:function(){console.log("this.data.shopId----\x3e",this.data.shopId);var e=o.getStorageSync("userinfo");if(!e||!e.mobile)return void o.navigateTo({url:"/pages/login/login"});"checkout"==this.data.action?this.triggerEvent("checkout",{}):o.navigateTo({url:"/pages/shop/carts/index?storeId="+this.data.shopId+"&diningTableNo="+this.data.diningTableNo+"&cyType="+this.data.cyType})}}}),Page({})}),window.define("dist/minui/wxc-loadmore/dist/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var m=e("./config");n.default=Component({behaviors:[],properties:{text:{type:String,value:""},isEnd:{type:Boolean,value:!1},icon:{type:String}},data:{type:m.TYPES[Math.floor(Math.random()*m.TYPES.length)],iconStatus:m.IconType.HIDDEN,iconType:m.IconType},attached:function(){var e=m.IconType.HIDDEN,t=this.data.icon;t&&(e=m.IconType.SHOW_DEFAULT),/\.(jpg|gif|jpeg|png)+$/.test(t)&&(e=m.IconType.SHOW_CONFIG),this.setData({iconStatus:e})},methods:{}}),Page({})}),window.define("pages/shop/components/store_mall/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=e("../../../../network/api"),v=function(e){return e&&e.__esModule?e:{default:e}}(y);Component({properties:{shopId:{type:String,value:""},category:{type:Object,value:{id:-1,name:""}}},data:{shopMall:{sort:"saleNum",mode:"grid",shop:{},products:{data:[],nextCursor:1},loading:!0,loadmore:!1,category:{id:-1,name:""}},currentGood:{},type:"111",propName2:"va000",propObj:{},isShow:!1,toastText:""},attached:function(){this.setData(m({},"shopMall.category",this.data.shopMall.category||{})),this.queryMallProducts({shopId:this.data.shopId},!0)},methods:{setStoreDetail:function(e){this.setData({store:e.store}),this.triggerEvent("setStoreDetail",{store:e.store})},setQueryCategory:function(e){this.setData(m({},"shopMall.category",e||{})),o.showLoading({title:"请稍候",mask:!0}),this.queryMallProducts({shopId:this.data.shopId},!0),o.hideLoading()},testqueryMallProducts:function(e){this.queryMallProducts({shopId:this.data.shopId},!0)},queryMallProducts:function(e,t){var n=this;this.setData({"shopMall.loading":!0});var a=this.data.shopMall,i=a.sort,r=a.order,s=a.category,d=e.shopId,u=e.pageNo,c=void 0===u?1:u,l=this.data.shopMall.products;v.default.queryStoreGoodsList({storeId:d,pageNo:c,pageSize:10,sort:"price"==i?i+":"+r:i,categoryId:s.id}).then(function(e){o.hideLoading(),t&&(l.data=[]);var a=void 0;e&&e.data&&e.data.data&&e.data.data.length>0&&l.pageNo!=e.data.nextCursor&&(a=l.data.concat(e.data.data)),n.setData({"shopMall.loadmore":!1,"shopMall.products":e.data,"shopMall.products.data":a,"shopMall.loading":!1})}).catch(function(e){console.log(e),o.hideLoading(),n.setData({"shopMall.loadmore":!1})})},handleSwitchSort:function(e){var t=e.target.dataset.sort,n=this.data.shopMall.sort;"price"!=t&&t==n||("price"==t?t==n?this.setData({"shopMall.order":"asc"==this.data.shopMall.order?"desc":"asc"}):(console.log(t),this.setData({"shopMall.sort":t,"shopMall.order":"asc"})):this.setData({"shopMall.sort":t}),o.showLoading({title:"请稍后",mask:!0}),this.queryMallProducts({shopId:this.data.shopId,sort:this.data.shopMall.sort,order:this.data.shopMall.order},!0))},handleToggleMode:function(e){var t=e.target.dataset.mode;this.setData({"shopMall.mode":t})},bindmallsearch:function(){console.log(this.data.shopId),o.navigateTo({url:"/pages/shop/search/search?storeid="+this.data.shopId})},onReachMallBottom:function(){this.data.shopMall.products.nextCursor>0&&!this.data.shopMall.loadmore&&(this.setData({"shopMall.loadmore":!0}),this.queryMallProducts({shopId:this.data.shopId,pageNo:this.data.shopMall.products.nextCursor,pageSize:10}))},onMallScroll:function(e){this.setData({"shopMall.fixHeader":e.detail.scrollTop>156})},handleClassify:function(){var e=this.data.shopMall.category;o.navigateTo({url:"/pages/shop/classify/index?storeid="+this.data.shopId+"&categoryId="+e.id})},addToCart:function(e){var t=this,n=this,a=e.target.dataset.good;this.setData({currentGood:a}),o.showLoading({title:"请稍后",mask:!0}),v.default.queryGoodSku({goodsId:a.id}).then(function(e){if(o.hideLoading(),0==e.status){var i=e.data;if(i&&i.specs&&i.specs.length>0){t.setData({"currentGood.num":0,"currentGood.specs":i.specs,"currentGood.skus":i.skus,"currentGood.selectedSpec":new Array(i.specs.length)}),n.toggleDialog(),1==i.specs.length&&i.specs.forEach(function(e,n){var a=e.itemId;e.values.forEach(function(e,o){var r=a+":"+e.itemValueId;i.skus.find(function(e){return e.propertiesValue==r}).quantity<=0&&t.setData(m({},"currentGood.specs["+n+"].values["+o+"].disabled",!0))})}),t.setData({type:"555"}),console.log("pagecurrentGood==>",t.data.currentGood);var r=t.data,s=r.propName2,d=r.propObj;t.setData({propName2:s+"a","propObj.name":d.name+"bbb"})}else a.stock<=0?o.showToast({title:"该商品库存不足！",duration:1e3}):v.default.addToCart({goodsId:a.id,quantity:1}).then(function(e){o.hideLoading(),0==e.status?(o.showToast({title:"加入购物车成功！",duration:1e3}),n.queryCartInfo(t.data.shopId)):o.showToast({title:"网络连接错误！",duration:1e3})}).catch(function(e){console.log("err---\x3e",e),o.showToast({title:e.data&&e.data.msg?e.data.msg:"网络连接错误！",duration:1e3}),o.hideLoading()})}}).catch(function(e){o.hideLoading(),console.log(e)})},handleAddToCartSuccess:function(){this.queryCartInfo()},queryCartInfo:function(){var e=this.selectComponent("#cart");e&&e.queryCartInfo()},goodDetail:function(e){var t=e.currentTarget.dataset.id;o.navigateTo({url:"/pages/products/show/show?id="+t+"&&isFromShop=true"})},toggleDialog:function(){var e=this.selectComponent("#cartpop");e&&e.toggleDialog()},showToast:function(e){var t=this;t.setData({isShow:!0,toastText:e}),setTimeout(function(){t.setData({isShow:!1,toastText:""})},1e3)}}}),Page({})}),window.define("pages/mine/component/cutprice/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Component({properties:{item:{type:Object,value:{}}},data:{numStyle:"width: 40rpx; height:35rpx; font-size: 20rpx; color: #ffffff; background: #000; text-align: center; border-radius: 8rpx; padding: 5rpx 0;",symbolStyle:"font-size: 20rpx; color: #000; padding: 0 6rpx;",format:"hh:mm:ss"},methods:{onEndCount:function(){this.triggerEvent("timeover",{})},toPayOrder:function(e){this.triggerEvent("orderpaied",{item:e.currentTarget.dataset.item})},orderDetail:function(e){this.triggerEvent("orderdetail",{orderId:e.currentTarget.dataset.id,type:e.currentTarget.dataset.type})}}}),Page({})}),window.define("dist/minui/wxc-counter/dist/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=Component({behaviors:[],properties:{number:{type:[Number,String],value:0,observer:function(e){this.setData({number:parseInt(e,10)})}},max:{type:[Number,String],value:1,observer:function(e){this.setData({max:parseInt(e,10)})}},min:{type:[Number,String],value:0,observer:function(e){this.setData({min:parseInt(e,10)})}},disabled:{type:Boolean,value:!1},color:{type:String,value:"#ff5777"}},data:{},attached:function(){},methods:{addHandler:function(e){var t=this.data.min,n=this.data.max,a=this.data.disabled;n<=this.data.number||a||(this.setData({number:++this.data.number}),this.triggerEvent("changenumber",{e:e,number:this.data.number,min:t,max:n,type:"add"}))},minusHandler:function(e){var t=this.data.min,n=this.data.max,a=this.data.disabled;t>=this.data.number||a||(this.setData({number:--this.data.number}),this.triggerEvent("changenumber",{e:e,number:this.data.number,min:t,max:n,type:"minus"}))}}}),Page({})}),window.define("pages/services/components/service_spec_dialog/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(){function e(e,t){var n=[],a=!0,o=!1,i=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){o=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Component({properties:{show:{type:Boolean,value:!1},service:{type:Object,value:{}}},data:{},methods:{hideDialog:function(){this.triggerEvent("hidedialog",{service:this.data.service},{})},handleSelectSpec:function(e){var t,n=this,a=e.target.dataset,o=a.specindex,i=a.specvalueindex,r=this.data.service,s=r.specs[o],d=s.values[i];if(!d.disabled&&!d.selected){r.specs[o].values.forEach(function(e,t){n.setData(m({},"service.specs["+o+"].values["+t+"].selected",!1))}),this.setData((t={},m(t,"service.selectedSpec["+o+"]",s.itemId+":"+d.itemValueId),m(t,"service.specs["+o+"].values["+i+"].selected",!0),t));var u="";r.selectedSpec.forEach(function(e){var t=e.split(":"),n=y(t,2),a=n[0],o=n[1],i=r.specs.find(function(e){return e.itemId==a}).values.find(function(e){return e.itemValueId==o}).itemValue;u+=i+" "}),this.setData({"service.selectedSpecValue":u}),this.triggerEvent("updateSelectedSpecValue",{selectedSpecValue:u},{});var c=r.skus.findIndex(function(e){return n.trimEnd(e.properties,";")==r.selectedSpec.join(";")});-1!=c&&(r.skus.forEach(function(e,t){n.setData(m({},"service.skus["+t+"].selected",!1))}),this.setData({"service.selectedSku":r.skus[c]}),this.triggerEvent("updateSelectedSku",{selectedSku:r.skus[c]},{})),r.specs.forEach(function(e,t){e.values.forEach(function(a,o){var i,s=Array.from(r.selectedSpec);s.splice(t,1,e.itemId+":"+a.itemValueId);var d=r.skus.find(function(e){return e.propertiesValue==s.join(";")});n.setData((i={},m(i,"service.specs["+t+"].values["+o+"].disabled",d&&d.quantity<=0?1:0),m(i,"service.num",1),i))})})}},handleAddToCart:function(e){this.triggerEvent("createorder",{service:this.data.service},{})},trimEnd:function(e,t){if(null==t||""==t){for(var n=/\/s/,a=e.length;n.test(e.charAt(--a)););return e.slice(0,a+1)}for(var o=new RegExp(t),i=e.length;o.test(e.charAt(--i)););return e.slice(0,i+1)}}}),Page({})}),window.define("pages/services/components/service_arrivedtime_dialog/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../../../../behaviors/toptips.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({behaviors:[y.default],properties:{show:{type:Boolean,value:!1},dateList:{type:Array,value:[],observer:"initDateTimes"}},data:{days:[],times:[],currentIndex:0,timeIndex:-1,tempCurrentIndex:0,tempTimeIndex:-1},methods:{initDateTimes:function(){var e=this.data.dateList.map(function(e){return{remainNum:e.remainNum,text:e.weekDay,available:e.available,day:e.month+"-"+e.day}}),t=this.data.dateList.map(function(e){return e.timeData});this.setData({days:e,times:t})},handleClickDay:function(e){var t=0,n=this.data.dateList,a=e.currentTarget.dataset.index;for(var o in n[a].timeData)if(1==n[a].timeData[o].available){t=o;break}this.setData({tempCurrentIndex:a,tempTimeIndex:t})},handleClickTime:function(e){if(!e.currentTarget.dataset.disabled){var t=e.currentTarget.dataset.index;this.setData({tempTimeIndex:t})}},handleUpdateDateTime:function(){var e=this.data,t=e.tempCurrentIndex,n=e.tempTimeIndex,a=t,o=n;if(-1==o)return void console.log("请先选择时间");var i=this.data.dateList,r={arrivedYear:i[a].year,arrivedMonth:i[a].month,arrivedDay:i[a].day,arrivedTime:i[a].timeData[o].time,arrivedWeek:i[a].weekDay};this.triggerEvent("ok",{arrivedDate:r},{})},hideDialog:function(){this.triggerEvent("hide",{},{})}}}),Page({})}),window.define("pages/services/components/service_customer_form/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=e("../../../../network/api"),w=function(e){return e&&e.__esModule?e:{default:e}}(v);Component({properties:{form:{type:Array,value:[],observer:"updateForm"},textareaObj:{type:Object,value:{},observer:"updateTextAreaObj"}},data:{focus:!1,imgUrl:[],formData:[]},ready:function(){},methods:{updateForm:function(e,t){if(t&&!(t.length>0)){console.log("updateForm--------------",e,t);var n=e.map(function(e){switch(e.type){case"text":case"textarea":return{label:e.label,value:""};case"radio":case"checkbox":case"upload":return{label:e.label,value:[]}}});this.setData({formData:n})}},updateTextAreaObj:function(e,t){if(e){var n=(this.data.formData,e.value),a=e.index;console.log("newVal",e),console.log("---this.data",this.data,n),this.setData(y({},"formData["+a+"].value",n)),console.log("this.data---",this.data)}},handleRadioClick:function(e){var t=e.target.dataset,n=t.value,a=t.index,o=t.optionindex;console.log("index=",a,o);var i=this.data,r=(i.formData,i.form);this.setData(y({},"formData["+a+"].value",[n]));var s=!r[a].options[o].checked,d=r[a].options.map(function(e){return e.value===n?e.checked=s:e.checked=!1,e});this.setData(y({},"form["+a+"].options",d)),console.log("this.data",this.data)},handleCheckboxClick:function(e){console.log(e);var t=e.target.dataset,n=t.value,a=t.index,o=t.optionindex,i=this.data,r=i.formData,s=i.form;this.setData(y({},"formData["+a+"].value",[].concat(m(r[a].value),[n])));var d=!s[a].options[o].checked;this.setData(y({},"form["+a+"].options["+o+"].checked",d)),console.log("this.data",this.data)},handleChooseImg:function(e){console.log("e---",e);var t=e.currentTarget.dataset.index,n=this;o.chooseImage({count:1,success:function(e){var a=e.tempFilePaths;w.default.uploadImage(a[0]).then(function(e){var a=n.data.formData;console.log("formData---",a,t);var o=a[t].value;o.push(e.url),n.setData(y({},"formData["+t+"].value",o))}).catch(function(e){console.log("chooseimage",e)})}})},handleRemoveImg:function(e){var t=e.currentTarget.dataset,n=t.index,a=t.imgindex,o=this.data.formData,i=o[n].value;i.splice(a,1),this.setData(y({},"formData["+n+"].value",i))},jumpTextarea:function(e){var t=e.currentTarget.dataset.index,n=this.data.form[t],a=this.data.formData[t].value;i().setFlash("service_textarea_data",{data:n,index:t,value:a}),o.navigateTo({url:"/pages/services/service_textarea/index"})},validate:function(){var e=this.data,t=e.form,n=e.formData;console.log("---form---formData",t,n);for(var a=[],o=0;o<t.length;o++){if(console.log("i==",o),t[o].require&&this.isEmpty(n[o].value)){"radio"===t[o].type||"checkbox"===t[o].typ?a.push("请选择"+t[o].label):a.push("请输入"+t[o].label);break}"text"==t[o].type&&"none"!==t[o].validate&&("email"!=t[o].validate||this.validateEmail(n[o].value)||a.push("请输入正确的"+t[o].label),"idcard"!=t[o].validate||this.validateIDCard(n[o].value)||a.push("请输入正确的"+t[o].label),"phone"!=t[o].validate||this.validatePhone(n[o].value)||a.push("请输入正确的"+t[o].label))}return a},validateIDCard:function(e){var t=/^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/;return this.isEmpty(e)||t.test(e)},validatePhone:function(e){var t=/^1[0-9]{10}$/;return this.isEmpty(e)||t.test(e)},validateEmail:function(e){var t=/^(?:[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;return this.isEmpty(e)||t.test(e)},isEmpty:function(e){if(null==e)return!0;if(Array.isArray(e)||"string"==typeof e||"function"==typeof e.splice||isBuffer(e)||isTypedArray(e)||isArguments(e))return!e.length;var t=getTag(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(isPrototype(e))return!Object.keys(e).length;for(var n in e)if(hasOwnProperty.call(e,n))return!1;return!0},handleFocus:function(){this.setData({focus:!0})},handleBlur:function(){this.setData({focus:!1})},handleNameChange:function(e){var t=e.currentTarget.dataset.index,n=e.detail.value;this.setData(y({},"formData["+t+"].value",n))},getBookerInfo:function(){var e=this.data,t=e.form,n=e.formData;return t.map(function(e,t){return{label:e.label,type:e.type,value:n[t].value}})},getCellPhone:function(){for(var e=this.data,t=e.form,n=e.formData,a="",o=0;o<t.length;o++)if("phone"===t[o].validate){a=n[o].value||"";break}return a}}}),Page({})}),window.define("pages/services/components/service_order_project/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Component({properties:{serviceList:{type:Array,value:[]},appointmentPeople:{type:String,value:""}},data:{},methods:{}}),Page({})}),window.define("pages/services/components/service_store_address/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Component({properties:{store:{type:Object,value:{}}},data:{},methods:{makePhone:function(e){console.log(e.target.dataset),this.triggerEvent("handlephone",{data:e.target.dataset.phone})}}}),Page({})}),window.define("pages/services/components/service_order_list_action/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}var y=e("../../../../network/api"),v=m(y),w=e("../../../../behaviors/toast.js"),x=m(w);Component({behaviors:[x.default],properties:{actionList:{type:Array,value:[]},orderid:{type:String,value:""},showType:{type:String,value:"list"},orderType:{type:Number,value:0},orderNo:{type:String,value:""}},data:{isPaying:!1},methods:{cancelOrder:function(e){var t=this,n=e.currentTarget.dataset.id;console.log("that===111",t),o.showModal({title:"提示",content:2==this.data.orderType?"您已支付预约金额，确认商家已退还您所支付的金额了吗？":3==this.data.orderType?"您已支付订金，取消后订金将不予以退还，确定要取消该优质服务吗？":"确定要取消该优质服务吗？",cancelText:"点错了",confirmText:"确认",success:function(e){var a=this;e.confirm&&(o.showLoading({title:"请稍候"}),v.default.seviceCancelOrder({id:n}).then(function(){o.hideLoading(),console.log("that---111",t),t.triggerEvent("ordercanceled",{})}).catch(function(e){o.hideLoading(),a.showToast(v.default.errors(e.error)||"取消订单失败")}))}})},toCancelOrder:function(e){var t=this,n=e.currentTarget.dataset.id;console.log("that===111",t),o.showModal({title:"提示",content:"确定要取消该优质服务吗？",cancelText:"点错了",confirmText:"确认",success:function(e){var a=this;e.confirm&&(o.showLoading({title:"请稍候"}),v.default.cancelBook({id:n}).then(function(){o.hideLoading(),console.log("that---111",t),t.triggerEvent("ordercanceled",{})}).catch(function(e){o.hideLoading(),a.showToast(v.default.errors(e.error)||"取消订单失败")}))}})},toPayOrder:function(e){var t=this,n=this;if(!n.data.isPaying){n.setData({isPaying:!0});var a=e.currentTarget.dataset.id;o.showLoading({title:"请稍候"}),v.default.seviceToPay({orderId:a}).then(function(e){o.hideLoading(),0==e.status&&e.data&&e.data.nonceStr&&o.requestPayment({timeStamp:e.data.timeStamp+"",nonceStr:e.data.nonceStr,package:e.data.package,signType:"MD5",paySign:e.data.paySign,success:function(){n.triggerEvent("orderpaied",{}),n.setData({isPaying:!1})},fail:function(){n.setData({isPaying:!1})}})}).catch(function(e){n.setData({isPaying:!1}),o.hideLoading(),console.log("------that---111----",e),t.showToast(v.default.errors(e.error)||"调起支付失败")})}},toTailPayOrder:function(e){var t=this,n=this;if(!n.data.isPaying){n.setData({isPaying:!0});var a=e.currentTarget.dataset.id;o.showLoading({title:"请稍候"}),v.default.seviceTailPay({orderId:a}).then(function(e){o.hideLoading(),0==e.status&&e.data&&e.data.nonceStr&&o.requestPayment({timeStamp:e.data.timeStamp+"",nonceStr:e.data.nonceStr,package:e.data.package,signType:"MD5",paySign:e.data.paySign,success:function(){n.triggerEvent("ordertailpaied",{}),n.setData({isPaying:!1})},fail:function(){n.setData({isPaying:!1})}})}).catch(function(e){n.setData({isPaying:!1}),o.hideLoading(),console.log("------that---111----",e),t.showToast(v.default.errors(e.error)||"调起支付失败")})}}}}),Page({})}),window.define("dist/minui/wxc-tab/dist/label",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var m=e("./Event"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);n.default=Component({behaviors:[],properties:{tabIndex:Number,componentId:{type:String,value:""}},data:{activeKey:0,width:0},attached:function(){var e=this,t=this.data.componentId;y.default.emit("tab-create-"+t,{key:this.data.tabIndex}),y.default.on("to-label-switch-"+t,function(t){e.setData({activeKey:t})}),y.default.on("label-width-"+t,function(t){e.setData({width:t})})},moved:function(){y.default.removeListener()},methods:{onSwitch:function(){y.default.emit("from-label-switch-"+this.data.componentId,this.data.tabIndex)}}}),Page({})}),window.define("pages/orders/components/order_refund_action/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Component({properties:{actionList:{type:Array,value:[]},orderid:{type:String,value:""},refundId:{type:String,value:""}},data:{},methods:{}}),Page({})}),window.define("pages/food/components/food_order/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}var y=e("../../../../network/api"),v=m(y),w=e("../../../../behaviors/toast.js"),x=m(w);Component({behaviors:[x.default],properties:{item:{type:Object,value:{}},index:{type:Number}},data:{orderstatus:{0:"全部",10:"待付款",20:"已关闭",30:"待核销",70:"已完成"},isPaying:!1,numStyle:"color: #f00000;",format:"mm分ss秒"},methods:{toPayOrder:function(e){var t=this;console.log("123112233");var n=this,a=e.currentTarget.dataset.id;o.showLoading({title:"请稍候"}),v.default.cyOrderPay({orderNo:a}).then(function(e){o.hideLoading(),0==e.status&&e.data&&e.data.nonceStr&&o.requestPayment({timeStamp:e.data.timeStamp+"",nonceStr:e.data.nonceStr,package:e.data.package,signType:"MD5",paySign:e.data.paySign,success:function(){n.triggerEvent("orderpaied",{})},fail:function(){}})}).catch(function(e){n.setData({isPaying:!1}),o.hideLoading(),console.log("------that---111----",e),t.showToast(v.default.errors(e.error)||"调起支付失败")})},onEndCount:function(){this.triggerEvent("timeover",{index:this.data.index})}}})}),window.define("pages/hotel/components/hotel-tab/segements/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=Component({properties:{textColor:{type:String,value:"#000"},activeTextColor:{type:String,value:"red"},segements:{type:Array,value:[],observer:"init"},filter:{type:Boolean,value:!0},filterActive:{type:Boolean,value:!1}},data:{},attached:function(){},ready:function(){this.init()},detached:function(){},methods:{init:function(){var e=this.data.segements;e.forEach(function(e){if(e.options&&e.options.length>0){var t=e.options.find(function(e){return e.checked});e.title=t?t.title:""}}),this.setData({segements:e})},onSwitch:function(e){var t=e.currentTarget.dataset.index,n=this.data.segements,a=t,o=n[t];if(o.checked=!0,o.sort&&(o.order="ascend"),o.options){var i=this.selectComponent(".Options_Pop");this.setData({currentOptions:o.options}),i&&i.show()}o.sort&&(o.order="ascend"==o.order?"descend":"ascend"),this.triggerEvent("switch",o),this.setData({segements:n,currentIndex:a})},onOptionChecked:function(e){var t=this.data,n=t.segements,a=t.currentIndex,o=e.currentTarget.dataset.index;n[a].options.forEach(function(e,t){e.checked=t==o});var i=n[a].options.find(function(e){return e.checked});n[a].title=i?i.title:"",this.setData({segements:n}),console.log("=========onOptionChecked=========",i),this.triggerEvent("optionchange",i)},showFilterPop:function(e){var t=this.selectComponent(".Filter_Pop");t&&t.show(),this.triggerEvent("onpopshow",{},{composed:!0,bubbles:!0})},hideFilterPop:function(e){var t=this.selectComponent(".Filter_Pop");t&&t.hide(),this.triggerEvent("onpophide",{},{composed:!0,bubbles:!0})}}}),Page({})}),window.define("pages/hotel/components/hotel-tab/hotel_tab/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}var y=e("../../../../../utils/util.js"),v=m(y),w=e("../../../../../utils/const.js"),x=m(w),b=e("../../../../../utils/notification.js"),S=m(b),D=e("../../../../../network/api"),C=m(D),_={filter:!0,filterActive:!1,segements:[{key:"time",value:["","",""],checked:!1},{key:"options",options:[{key:1,title:"推荐排序",checked:!0},{key:1,title:"好评优先"},{key:1,title:"距离最近"}]}],filters:[{key:"brandIds",type:"radio",title:"品牌(单选)",options:[]},{key:"price",type:"radio",title:"价格",options:[{key:"0",title:"不限"},{key:"1",title:"￥150以下"},{key:"2",title:"￥150 ~ ￥300"},{key:"3",title:"￥301 ~ ￥450"},{key:"4",title:"￥451 ~ ￥600"},{key:"5",title:"￥600以上"}]}]};Component({properties:{serverTime:{type:Number,observer:"reload"},intime:{type:Object,value:{}}},data:Object.assign({},JSON.parse(JSON.stringify(_)),{query:{}}),attached:function(){this.registerNotification()},ready:function(){this.init()},detached:function(){console.log("===========tab组件detached============"),S.default.remove(x.default.action.HOTEL_DATE_CHANGED)},methods:{reload:function(e){this.setData(Object.assign({},JSON.parse(JSON.stringify(_))))},init:function(){var e=this.data.intime;e&&e.endDate>0?this.setData({startDate:e.startDate,endDate:e.endDate,"segements[0].value":[e.inTime_data,e.leaveTime_data,e.statistics_data+"晚"],"segements[0].checked":!1,inTime_data:e.inTime_data,leaveTime_data:e.leaveTime_data,statistics_data:e.statistics_data}):this.setData({"segements[0].value":[v.default.getDateStr(0),v.default.getDateStr(1),"1晚"]}),this.getBrands()},registerNotification:function(){var e=this;S.default.register(x.default.action.HOTEL_DATE_CHANGED,this,function(t){var n=e;console.log("接收酒店时间变化的通知----搜索tab-------settings.action.HOTEL_DATE_CHANGED====",t.data),n.setData({startDate:t.data.startDate,endDate:t.data.endDate,"segements[0].value":[v.default.timestampToTime(t.data.startDate),v.default.timestampToTime(t.data.endDate),(t.data.endDate-t.data.startDate)/864e5+"晚"],"segements[0].checked":!0,statistics_data:(t.data.endDate-t.data.startDate)/864e5,inTime_data:v.default.timestampToTime(t.data.startDate),leaveTime_data:v.default.timestampToTime(t.data.endDate)},function(){n.triggerEvent("changetime",n.data)})})},getBrands:function(){var e=this;C.default.queryHotelBrandList({}).then(function(t){var n=[];console.log("res.data--\x3e",t.data);for(var a in t.data)n.push({key:t.data[a].id,title:t.data[a].brandName});console.log("brands--\x3e",n),e.setData({"filters[0].options":n})}).catch(function(e){o.hideLoading(),console.log(e)})},handleChangeTime:function(){var e=this.data,t=e.startDate,n=e.endDate;t>0&&n>0?o.navigateTo({url:"/pages/hotel/checkdate/index?startDate="+t+"&endDate="+n}):t>0?o.navigateTo({url:"/pages/hotel/checkdate/index?startDate="+t}):n>0?o.navigateTo({url:"/pages/hotel/checkdate/index?endDate="+n}):o.navigateTo({url:"/pages/hotel/checkdate/index"})},handleTabSwitch:function(e){console.log("handleTabSwitch",e);var t=this.data.query;switch(e.detail.key){case"time":this.handleChangeTime();break;case"options":t=Object.assign({},t,{sort:"好评优先"==e.detail.title?"evaluateScore:descend":"距离最近"==e.detail.title?"distance:descend":""}),this.setData({"segements[1].options":e.detail.options,"segements[1].title":e.detail.title,"segements[1].checked":e.detail.checked})}},handleOptionChange:function(e){console.log("handleOptionChange",e);var t=Object.assign({},t,{sort:"好评优先"==e.detail.title?"evaluateScore:descend":"距离最近"==e.detail.title?"distance:ascend":""});this.triggerEvent("query",t)},handleFilter:function(e){console.log("handleFilter",e);var t=e.detail,n=this.selectComponent(".Segements");n&&n.hideFilterPop();var a={};t.forEach(function(e){var t=e.options.filter(function(e){return e.checked}).map(function(e){return e.key});t.length>0&&(a[e.key]=t.join(","))}),console.log("handleFilter---query--\x3e",a);var o=Object.assign({},this.data.query,{brandIds:a.brandIds||0,price:a.price||0});this.setData({query:o,filterActive:Object.keys(o).length>0}),this.triggerEvent("query",o)}}}),Page({})}),window.define("pages/hotel/components/order_item/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Component({properties:{item:{type:Object,value:{},observer:function(e,t){clearInterval(this.timer),this._init()}},hide:{type:Boolean,value:!1,observer:function(e,t){!0===e&&clearInterval(this.timer)}}},data:{remainTime:0,bookInTime:"",bookOutTime:"",pay:!1,cancel:!1,evaluate:!1,orderStatusName:""},ready:function(){},detached:function(){10===this.data.item.status&&clearInterval(this.timer)},methods:{_init:function(){var e=this.data.item.bookInTime,t=this.data.item.bookOutTime,n=this.data.item.actionList;if(this.setData({bookInTime:e.substring(5,7)+"月"+e.substring(8,10)+"日",bookOutTime:t.substring(5,7)+"月"+t.substring(8,10)+"日",pay:-1!==n.indexOf("pay"),cancel:-1!==n.indexOf("cancel"),evaluate:-1!==n.indexOf("evaluate"),orderStatusName:this.data.item.orderStatusName}),10===this.data.item.status){var a=this.data.item.remainTime;a>0&&(this.setData({remainTime:a-1}),this._countDown())}},_countDown:function(){var e=this;this.timer=setInterval(function(){var t=e.data.remainTime;t>1?e.setData({remainTime:t-1}):(e.setData({orderStatusName:"已取消",pay:!1}),e.triggerEvent("removedata",e.data.item.id),clearInterval(e.timer))},1e3)},_gotoDetails:function(){o.navigateTo({url:"/pages/hotel/order_detail/index?id="+this.data.item.id})},_gotoEvaluate:function(){o.navigateTo({url:"/pages/pingjia/evaluateform/index?type=3&orderNo="+this.data.item.orderNo})},_payOrder:function(){this.triggerEvent("payorder",{orderNo:this.data.item.orderNo,id:this.data.item.id})},_cancelOrder:function(){this.triggerEvent("cancelorder",{id:this.data.item.id})}}}),Page({})}),window.define("pages/hotel/components/date_picker/calendar",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Component({behaviors:[],relations:{index:{type:"parent"}},properties:{year:Number,month:Number,limitDays:Number,isEndMonth:Boolean},data:{},methods:{isDate:function(e){return null!=e&&void 0!=e&&new Date(e).getDate()==e.substring(e.length-2)},isLeapYear:function(e){return e%400==0||e%4==0&&e%100!=0},calDaysInMonth:function(e,t,n){var a=this.isLeapYear(e),o=new Date,i=o.getDate();return console.log("day-----------\x3e",i,n,t),1==t&&a?n&&i<=29?i-1:29:1!=t||a?[3,5,8,10].includes(t)?n&&i<=30?i-1:30:n&&i<=31?i-1:31:n&&i<=28?i-1:28},calDays:function(e,t,n,a,o,i){var r=void 0,s=[],d=new Date,u=new Date(d.getFullYear(),d.getMonth(),d.getDate()).getTime(),c=this.calDaysInMonth(e,t,i);a&&(r=a+24*(n-1)*3600*1e3);for(var l=0;l<c;l++){var p=new Date(e,t,l+1).getTime(),h=!1,g=!1,f="";a?(h=p>=u&&p<=r,f=a==p?"入住":f,o?(f=o==p?"离店":f,g=p>=a&&p<=o):g=p==a):h=p>=u;var m={value:l+1,valid:h,tip:f,selected:g,chooseResult:""};s.push(m)}return s},handleSelectDate:function(e){var t=e.currentTarget.dataset.day,n=this.data,a=n.year,o=n.month;console.log(a,o,t),this.triggerEvent("clickday",{year:a,month:o,day:t},{bubbles:!0,composed:!0})},render:function(e,t){var n=this.data,a=n.year,o=n.month,i=n.limitDays,r=n.isEndMonth,s=new Date(a,o),d=(s.getUTCDay()+1)%7,u=this.calDays(a,o,i,e,t,r),c=(7-(u.length+d)%7)%7;this.setData({emptyGrids:d,days:u,emptyAfter:c})}}}),Page({})}),window.define("pages/hotel/components/date_picker/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";e("../../../../utils/util");Component({properties:{startDate:{type:Number,value:0},endDate:{type:Number,value:0}},relations:{calendar:{type:"child",linked:function(e){var t=this.data,n=t.startDate,a=t.endDate;e.render(n,a)}}},data:{},attached:function(){},ready:function(){},methods:{handleSelectDay:function(e){var t=e.detail,n=t.year,a=t.month,o=t.day,i=new Date(n,a,o).getTime(),r=this.data,s=r.startDate,d=r.endDate;d?(s=i,d=0):s&&i>s?d=i:s=i,this.setData({startDate:s,endDate:d}),this.getRelationNodes("calendar").forEach(function(e){return e.render(s,d)}),s>0&&d>0&&this.triggerEvent("onsubmit",{startDate:s,endDate:d})}}}),Page({})}),window.define("pages/live/components/live-pusher/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../../../../network/api.js");Component({properties:{live:{type:Object}},data:{showStart:!0,status:void 0,beauty:0,whiteness:0,camera:0,showCount:!1,countDown:3,showCover:!1,fullscreen:!1,paused:!1},ready:function(){this.liveCtx=o.createLivePusherContext("livePusher",this)},detached:function(){o.setKeepScreenOn({keepScreenOn:!1}),this.tick&&(clearInterval(this.tick),this.tick=void 0)},methods:{statechange:function(e){var t=this,n=this.data.live,a=this;switch(e.detail.code){case 1002:(0,m.startPush)({id:n.id}).then(function(){t.setData({"live.status":2,showCount:!1}),a.triggerEvent("onpushstart")}),o.setKeepScreenOn({keepScreenOn:!0});break;case-1307:this.showTips("直播服务器连接失败，请稍后重试"),o.setKeepScreenOn({keepScreenOn:!1})}},showTips:function(e){this.setData({showStart:!0,showTips:!0,tips:e})},handleStopPush:function(){var e=this.data.live,t=this;2==e.status&&o.showModal({title:"提示",content:"确定要结束直播活动吗？",success:function(n){n.confirm&&(t.liveCtx.stop(),(0,m.stopPush)({id:e.id}).then(function(){t.setData({"live.status":3})}),o.setKeepScreenOn({keepScreenOn:!1}),t.setData({showStart:!1,showTips:!0,tips:"直播已结束"}),t.triggerEvent("onpushstop"))}})},handleToggleCamera:function(){var e=this.data.camera;this.setData({camera:0==e?1:0}),this.liveCtx.switchCamera()},handleStart:function(){var e=this.data,t=e.live,n=e.paused,a=this;1==t.status?(this.setData({showCount:!0,showCover:!0,showStart:!1,showTips:!1}),this.countDown()):2==t.status&&(n?this.liveCtx.resume({success:function(){a.setData({paused:!1,showCover:!1,showStart:!1,showTips:!1})}}):(this.setData({showCount:!0,showCover:!0,showStart:!1,showTips:!1}),this.countDown()))},countDown:function(){var e=this;e.setData({showAnim:!0}),this.tick=setInterval(function(){var t=e.data.countDown;t-=1,e.setData({countDown:t}),0==t&&(clearInterval(e.tick),e.liveCtx.start())},1e3)},handleToggleFullscreen:function(){var e=this.data.fullscreen;this.setData({fullscreen:!e})},handlePause:function(){var e=this;this.liveCtx.pause({success:function(){e.setData({paused:!0,showCover:!0,showStart:!0,showTips:!1})}})}}}),Page({})}),window.define("pages/live/components/live-player/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Component({properties:{liveData:{type:Object,observer:"renderLive"}},data:{showTips:!0,showControls:!1,fullScreen:!1,state:"waiting"},ready:function(){var e=o.createAnimation({duration:1e3,timingFunction:"ease"});this.animation=e,this.liveCtx=o.createLivePlayerContext("livePlayer",this)},detached:function(){this.clearTick(),o.setKeepScreenOn({keepScreenOn:!1})},methods:{renderLive:function(e,t){var n=Object.assign({},e);t||(n.tip=1==n.status?"直播尚未开始，请耐心等待":"直播进行中"),this.setData({live:n})},statechange:function(e){var t=e.detail.code;switch(console.log(t),t){case 2001:this.setData({state:"pending",showTips:!0,"live.tip":"连接服务器成功"});break;case 2002:this.setData({"live.tip":"加载直播内容"});break;case 2007:this.setData({"live.tip":"启动播放器"});break;case 2004:this.setData({state:"playing","live.tip":"开始播放直播内容"});break;case 2008:this.setData({"live.tip":"启动解码器"});break;case 2003:this.setData({showTips:!1}),this.triggerEvent("onlivestart"),o.setKeepScreenOn({keepScreenOn:!0});break;case 2006:this.setData({state:"pause"});break;case 3005:this.setData({"live.tip":"获取视频流失败"});break;case 2103:this.setData({"live.tip":"正在重试连接"});break;case-2301:this.setData({state:"error",showTips:!0,"live.tip":"直播开小差去啦，请稍后重试"}),this.triggerEvent("onliveerror")}},error:function(e){console.error("live-player error:",e.detail.errMsg)},startLive:function(){if(2==this.data.live.status){var e=this;this.clearTick(),this.setData({state:"pending","live.tip":"连接到直播服务器"}),this.liveCtx.play(),this.tick=setTimeout(function(){e.hideControls()},3e3)}},stopLive:function(){this.triggerEvent("onlivestop"),this.clearTick(),this.setData({state:"waiting",showTips:!0}),this.liveCtx.stop(),o.setKeepScreenOn({keepScreenOn:!1})},toggleFullScreen:function(){this.clearTick();var e=this,t=this.data,n=t.fullScreen,a=t.live;n?(this.liveCtx.exitFullScreen(),e.setData({fullScreen:!1})):(this.liveCtx.requestFullScreen({direction:0==a.screenType?90:0}),e.setData({fullScreen:!0})),this.tick=setTimeout(function(){e.hideControls()},3e3)},handleTapPlayer:function(){this.data.showControls?this.hideControls():this.showControls(!0)},showControls:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;this.clearTick(),this.animation.opacity(1).step(),this.setData({showControls:!0,animationData:this.animation.export()}),e&&(t.tick=setTimeout(function(){t.hideControls()},3e3))},hideControls:function(){this.animation.opacity(0).step(),this.setData({showControls:!1,animationData:this.animation.export()})},clearTick:function(){this.tick&&clearTimeout(this.tick)}}}),Page({})}),window.define("pages/live/components/live-video/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Component({properties:{srcs:{type:Array,value:[]},direction:{type:Number,value:1}},data:{showTips:!0,currentIndex:0},ready:function(){this.videoCtx=o.createVideoContext("myVideo",this)},detached:function(){o.setKeepScreenOn({keepScreenOn:!1})},methods:{playVideo:function(){var e=this;this.setData({autoplay:!0,currentIndex:0,showTips:!1},function(){e.videoCtx.play(),o.setKeepScreenOn({keepScreenOn:!0})})},handlePlay:function(){var e=this.data;e.currentIndex==e.srcs.length-1?this.setData({autoplay:!1}):this.setData({autoplay:!0}),this.triggerEvent("onplayvideo")},handleEnd:function(){console.log("on end");var e=this.data,t=e.srcs,n=e.currentIndex,a=this,i=n+1;t[i]?a.setData({currentIndex:i}):(this.setData({showTips:!0}),o.setKeepScreenOn({keepScreenOn:!1}))}}}),Page({})}),window.define("pages/car/components/project_tab/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m={filter:!1,filterActive:!1,segements:[{key:"price",title:"价格",sort:!0,order:"ascend"},{key:"options",options:[{key:1,title:"推荐排序",checked:!0},{key:1,title:"销量最高"},{key:1,title:"距离最近"},{key:1,title:"评分最高"}]}]};Component({properties:{serverTime:{type:Number,observer:"reload"}},data:Object.assign({},JSON.parse(JSON.stringify(m)),{query:{}}),methods:{reload:function(){this.setData(Object.assign({},JSON.parse(JSON.stringify(m))))},handleTabSwitch:function(e){console.log("handleTabSwitch",e);var t=this.data.query;switch(e.detail.key){case"price":t=Object.assign({},t,{sort:"price:"+e.detail.order}),this.triggerEvent("query",t);break;case"options":this.setData({"segements[1].options":e.detail.options,"segements[1].title":e.detail.title,"segements[1].checked":e.detail.checked})}},handleOptionChange:function(e){console.log("handleOptionChange",e);var t=this.data.query;t=Object.assign({},t,{sort:"评分最高"==e.detail.title?"evaluateScore:descend":"距离最近"==e.detail.title?"distance:ascend":"销量最高"==e.detail.title?"orderNum:descend":""}),this.triggerEvent("query",t)}}}),Page({})}),window.define("pages/car/components/order_item/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Component({properties:{item:{type:Object,value:{},observer:function(){clearInterval(this.timer),this._init()}},hide:{type:Boolean,value:!1,observer:function(e){!0===e&&clearInterval(this.timer)}}},data:{pay:!1,cancel:!1,evaluate:!1,orderStatusName:""},ready:function(){},detached:function(){10===this.data.item.status&&clearInterval(this.timer)},methods:{_init:function(){var e=this.data.item,t=e.actionList,n=e.status;this.setData({orderStatusName:10==n?"待付款":30==n?"待使用":40==n?"待评价":20==n?"已关闭":"",createdTime:this.data.item.createdTime?this.data.item.createdTime.split(" ")[0]:"",pay:-1!==t.indexOf("pay"),cancel:-1!==t.indexOf("cancel"),evaluate:-1!==t.indexOf("evaluate"),view:-1!==t.indexOf("view")})},_gotoDetails:function(){o.navigateTo({url:"/pages/car/projectorderdetail/index?id="+this.data.item.id})},_gotoEvaluate:function(){o.navigateTo({url:"/pages/pingjia/evaluateform/index?type=7&orderNo="+this.data.item.orderNo})},_payOrder:function(){this.triggerEvent("payorder",{orderNo:this.data.item.orderNo,id:this.data.item.id,carNo:this.data.item.carNo})},_cancelOrder:function(){this.triggerEvent("cancelorder",{id:this.data.item.id})}}}),Page({})}),window.define("pages/edu/components/title_layout/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../../../../network/api.js");Component({properties:{course:{type:Object,value:{}}},data:{},methods:{handleCollect:function(){var e=this,t=this.data.course,n=t.id,a=t.isFavorite,i=a?(0,m.cancelMarkCourse)({id:n}):(0,m.markCourse)({id:n});o.showLoading({title:"请稍候"}),i.then(function(t){o.hideLoading(),t&&t.data&&t.data.result&&e.setData({"course.isFavorite":!a})}).catch(function(){return o.hideLoading()})}}}),Page({})}),window.define("pages/edu/components/imgtext/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Component({properties:{course:{type:Object,value:{}}},data:{},methods:{}}),Page({})}),window.define("pages/edu/components/video/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Component({properties:{course:{type:Object,value:{}}},data:{mobile:""},ready:function(){this.videoContext=o.createVideoContext("myVideo",this),console.log("注册videoContext")},methods:{handlePlay:function(){console.log("---播放---"),this.triggerEvent("keepon",{},{})},handleEnded:function(){console.log("---停止---"),this.triggerEvent("keepoff",{},{})},handleError:function(e){console.log("---video.err--",e),this.triggerEvent("keepoff",{},{})},handlePause:function(){console.log("---暂停---")},validate:function(){console.log("校验");var e=o.getStorageSync("userinfo");this.setData({mobile:e.mobile}),e.mobile?this.videoContext.play():this.triggerEvent("showmodal",{},{})},buyCourse:function(){this.triggerEvent("buycourse",{},{})}}}),Page({})}),window.define("pages/edu/components/waves/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Component({externalClasses:["my-class"],properties:{play:{type:Boolean,value:!1}},data:{},methods:{}}),Page({})}),window.define("pages/edu/components/bgaudio/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Component({properties:{course:{type:Object,value:{}}},data:{play:!1,current:0,percent:0,left:0,inited:!1,duration:0},ready:function(){var e=this;o.getSystemInfo({success:function(t){e.setData({screenWidth:t.windowWidth})}}),this.innerAudioContext=o.getBackgroundAudioManager(),console.log("ready.innerAudioContext",this.innerAudioContext);var t=this.data.course,n=t.file,a=t.sampleFile;this.innerAudioContext.src!=n&&this.innerAudioContext.src!=a||(console.log("设置 是否播放 进度"),this.setData({play:!this.innerAudioContext.paused,duration:this.innerAudioContext.duration||0}),this.init(),this.innerAudioContext.paused&&this.onTimeUpdate())},methods:{init:function(){var e=this;this.innerAudioContext.onPlay(function(){return e.onPlay()}),this.innerAudioContext.onPause(function(){return e.onPause()}),this.innerAudioContext.onStop(function(){return e.onStop()}),this.innerAudioContext.onEnded(function(){return e.onEnded()}),this.innerAudioContext.onError(function(t){return e.onError(t)}),this.innerAudioContext.onTimeUpdate(function(){return e.onTimeUpdate()})},px2rpx:function(e){var t=this.data.screenWidth,n=750*e/t;return console.log("px:"+e+",rpx:"+n),n},play:function(){if(this.data.inited)this.innerAudioContext.play();else{var e=this.data.course,t=e.isPayed,n=e.file,a=e.sampleFile,o=e.name,i=e.coverUrl,r="";r=0==t?a:n,this.innerAudioContext.src=r,this.innerAudioContext.title=o,this.innerAudioContext.coverImgUrl=i,this.init(),this.setData({inited:!0})}},tooglePlay:function(){console.log("tooglePlay",this.data.play),this.data.play?this.innerAudioContext.pause():this.validate()},handleProgressChange:function(e){if(this.innerAudioContext.src){var t=e.changedTouches[0].pageX,n=Math.max(Math.min(this.px2rpx(t),623),33),a=n-33,o=100*a/590,i=this.innerAudioContext.duration*o*.01;this.setData({left:a,percent:o,current:i}),this.innerAudioContext.seek(i)}},onPlay:function(){console.log("---音频开始播放---"),this.setData({play:!0})},onPause:function(){console.log("---音频暂停播放---"),this.setData({play:!1})},onStop:function(){console.log("---停止播放---")},onEnded:function(){console.log("---播放结束---"),this.setData({play:!1,current:this.innerAudioContext.duration,percent:100,left:590})},onError:function(e){console.log("audio-err",e),this.triggerEvent("showtoast",e,{})},onWaiting:function(){console.log("缓冲中")},onCanplay:function(){console.log("缓冲完毕")},onTimeUpdate:function(){var e=this.innerAudioContext.currentTime;this.data.duration||this.setData({duration:this.innerAudioContext.duration});var t=100*e/this.innerAudioContext.duration,n=parseInt(.01*t*590);this.setData({current:e,percent:t,left:n})},validate:function(){console.log("校验");var e=o.getStorageSync("userinfo");console.log("---user.info",e),this.setData({mobile:e.mobile}),e.mobile?this.play():this.triggerEvent("showmodal",{},{})},buyCourse:function(){this.triggerEvent("buycourse",{},{})}}}),Page({})}),window.define("pages/edu/components/specialcolumn/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=e("../../../../network/api"),w=m(v),x=e("../../../../behaviors/toast.js"),b=m(x);Component({behaviors:[b.default],properties:{course:{type:Object,value:{}}},data:{eduColumnTabs:[{title:"详情"},{title:"目录"}],tabType:{eduType:{type:"detail",key:0}},eduColumn:[],scrollTop:0,loadmore:!1,loading:!0,query:{pageSize:10,pageNo:1,sort:"joinTime:descend"},sortimgStr:"down"},methods:{onTabChange:function(e){if(console.log(e,"--------------columnChange----"),"eduColumnTabs"==e.detail.componentId&&this.data.tabType.eduType.key!==e.detail.key){if(0==e.detail.key)this.setData(y({},"tabType.eduType.key",e.detail.key));else{var t=Object.assign({},this.data.query,{columnId:this.data.course.id});this.setData(y({query:t},"tabType.eduType.key",e.detail.key)),this.getEdus(t,!0,!0)}var n={showDetail:0==e.detail.key};this.triggerEvent("showdetail",n)}},getEdus:function(e,t,n){var a=this;n&&(o.showLoading({title:"请稍候"}),this.setData({loading:!0})),w.default.columnCourseList(e).then(function(e){console.log("res+++++++++++++columnCourseList++",e),o.hideLoading(),a.setData({eduColumn:t?e.data.data:a.data.eduColumn.concat(e.data.data),loadmore:e.data.nextCursor>0,loadingmore:!1,loading:!1,query:Object.assign({},a.data.query,{pageNo:e.data.nextCursor,pageSize:e.data.pageSize}),total:e.data.total})}).catch(function(e){o.hideLoading(),console.log(e,"err")})},lower:function(){if(console.log(this.data.loadmore,!this.data.loadingmore,"+++++++++colmum++++++++"),this.data.loadmore){if(this.data.loadingmore)return;this.setData({loadingmore:!0}),this.getEdus(this.data.query,!1,!1)}},onSortColumn:function(){var e=this.data.query.sort,t="descend"==e.split(":")[1]?"ascend":"descend",n="descend"==e.split(":")[1]?"up":"down",a=Object.assign({},this.data.query,{sort:"joinTime:"+t});this.setData({query:a,sortimgStr:n}),this.getEdus(a,!0,!0)}}}),Page({})}),window.define("behaviors/toast",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";t.exports={properties:{title:{type:String},timeout:{type:Number}},methods:{showToast:function(e,t){var n=this,a=this.data.toast||{};clearTimeout(a.timer),a={show:!0,title:e},this.setData({toast:a});var o=setTimeout(function(){n.clearToast()},t||2e3);this.setData({"toast.timer":o})},clearToast:function(){var e=this.data.toast||{};clearTimeout(e.timer),this.setData({"toast.show":!1})}}}}),window.define("behaviors/toptips",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";t.exports=Behavior({behaviors:[],properties:{title:{type:String},timeout:{type:Number}},data:{myBehaviorData:{}},onLoad:function(){},attached:function(){},methods:{showZanTopTips:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=this.data.zanTopTips||{};a.timer&&(clearTimeout(a.timer),a.timer=void 0),"number"==typeof n&&(n={duration:n}),n=Object.assign({duration:3e3},n);var o=setTimeout(function(){e.setData({"zanTopTips.show":!1,"zanTopTips.timer":void 0})},n.duration);this.setData({zanTopTips:{show:!0,content:t,options:n,timer:o}})}}})}),window.define("component/about/about",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var m=e("../../network/api"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);n.default={data:{},onLoad:function(){o.showLoading({title:"请稍后"}),this.queryAbout()},makephone:function(e){var t=e.currentTarget.dataset.phone,n=t.telephone,a=t.cellphone,i=t.extNum,r=[];n&&(i?r.push(n+"转"+i):r.push(n)),a&&r.push(a),o.showActionSheet({itemList:r,success:function(e){console.log(e,"oooooooooooooo"),void 0!=e.tapIndex&&o.makePhoneCall({phoneNumber:r[e.tapIndex].replace("-","").split("转")[0]})}})},makemap:function(){o.navigateTo({url:"/modules/map/index"})},onTapImg:function(e){o.previewImage({current:e.currentTarget.dataset.link,urls:this.data.about.images})},queryAbout:function(){var e=this,t={sign:"about"};y.default.getIndexMenu(t).then(function(t){o.hideLoading(),e.setData({about:t.data.options})}).catch(function(e){return console.log(e)})}}}),window.define("component/brandlist/brandlist",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var m=e("../../network/api"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);n.default={onLoad:function(e){o.showLoading({title:"请稍后"}),this.queryBrandList(this.data.query,!0)},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},queryBrandList:function(e,t){var n=this;y.default.getBrandListByLocation(e).then(function(e){console.log(e,"++++"),o.hideLoading(),n.setData({list:t?e.data.data:n.data.list.concat(e.data.data),isShow:!0,loadmore:e.data.nextCursor>0,loadingmore:!1,query:{pageNo:e.data.nextCursor,pageSize:e.data.pageSize}}),console.log(e,"++++++++++++")}).catch(function(e){return console.log(e)})},makeproduct:function(e){console.log(e.currentTarget.dataset.item);var t=e.currentTarget.dataset.item;i().setFlash("brand",t),o.navigateTo({url:"/pages/storelist/storelist"})},lower:function(e){console.log(this.data.loadmore,!this.data.loadingmore,"+++++++++++++++++"),this.data.loadmore&&!this.data.loadingmore&&(console.log(e),this.setData({loadingmore:!0}),this.queryBrandList(this.data.query,!1))}}}),window.define("component/car_popup/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Component({properties:{showDialog:{type:Boolean,value:!1},modalData:{type:Object,value:{}}},data:{checkedIds:{}},attached:function(){},methods:{closeDialog:function(){this.triggerEvent("showmodal")},checkService:function(e){var t,n=e.currentTarget.dataset.id,a=e.currentTarget.dataset.itemid,o=null,i=null;this.data.modalData.skulist.map(function(e){e.properties==a+":"+n&&(o=e.price,i=e.originalPrice)}),this.setData((t={checkedIds:{id:n,itemId:a}},m(t,"modalData.price",o),m(t,"modalData.originalprice",i),t))},toPay:function(){var e=this.data,t=e.modalData,n=e.checkedIds,a=t.itemlist,i=t.skulist,r=t.id,s=null;i.map(function(e){e.properties==n.itemId+":"+n.id&&(s=e.id)}),a&&a[0].itemValue.length&&!n.id||o.navigateTo({url:"/pages/car/proordercreate/index?id="+r+"&skuId="+s})}}}),Page({})}),window.define("component/carousel/carousel",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={carousel:{indicatorDots:!0,autoplay:!0,interval:3e3,duration:1e3,height:150,imgUrls:[]}}}),window.define("component/cartpop/index.filter",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={maxin:function(){return"sss"}}}),window.define("component/cartpop/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(){function e(e,t){var n=[],a=!0,o=!1,i=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){o=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=e("../../network/api.js"),w=function(e){return e&&e.__esModule?e:{default:e}}(v);Component({properties:{type:{type:String,value:"haha",observer:function(e,t){}},propsCurrentGood:{type:Object,value:{},observer:function(e,t){this.setData({currentGood:e});var n=(this.data.detail,e);console.error("observer--\x3e",n),n.skus&&n.skus.length>0&&n.selectedSku&&n.num<n.selectedSku.quantity&&(n.num<n.selectedSku.maxBuy>0&&n.num<n.selectedSku.maxBuy||!n.selectedSku.maxBuy)?this.setData({addImage:"http://imgcdnali.wfenxiao.com.cn/xcx/c/plus1.png"}):this.setData({addImage:"http://imgcdnali.wfenxiao.com.cn/xcx/c/plus-disable.png"}),console.log("addImage",this.data.addImage)}},detail:{type:Object,value:{}}},data:{showDialog:!1,addImage:"http://imgcdnali.wfenxiao.com.cn/xcx/c/plus1.png",toast:{show:!1,title:""}},methods:{getCurrentGoodBuyMessage:function(e){return e?e.quantity<=0?"暂无库存":e.maxBuy>0&&e.quantity<=e.maxBuy?"剩余库存小于最小购买量":e.minBuy>0&&e.maxBuy>0?"至少购买"+e.minBuy+"件，最多购买"+e.maxBuy+"件":e.minBuy>0?"至少购买"+e.minBuy+"件":e.maxBuy>0?"最多购买"+e.maxBuy+"件":"":""},toggleDialog:function(){console.log("toggleDialog===>",this.data.showDialog),this.setData({showDialog:!this.data.showDialog})},handleSelectSpec:function(e){var t,n=this,a=e.target.dataset,o=a.specindex,i=a.specvalueindex,r=this.data.currentGood,s=r.specs[o],d=s.values[i];if(!d.disabled&&!d.selected){r.specs[o].values.forEach(function(e,t){n.setData(m({},"currentGood.specs["+o+"].values["+t+"].selected",!1))}),this.setData((t={},m(t,"currentGood.selectedSpec["+o+"]",s.itemId+":"+d.itemValueId),m(t,"currentGood.specs["+o+"].values["+i+"].selected",!0),t));var u="";r.selectedSpec.forEach(function(e){if(e){var t=e.split(":"),n=y(t,2),a=n[0],o=n[1],i=r.specs.find(function(e){return e.itemId==a}).values.find(function(e){return e.itemValueId==o}).itemValue;u+=i+" "}}),this.setData({"currentGood.selectedSpecValue":u});var c=r.skus.findIndex(function(e){return e.propertiesValue==r.selectedSpec.join(";")});-1!=c&&(r.skus.forEach(function(e,t){n.setData(m({},"currentGood.skus["+t+"].selected",!1))}),this.setData({"currentGood.selectedSku":r.skus[c],"currentGood.num":this.setQuantity(r.skus[c].minBuy,r.skus[c].maxBuy,r.skus[c].quantity,r.num),"currentGood.buyMessage":this.getCurrentGoodBuyMessage(r.skus[c])})),r.specs.forEach(function(e,t){e.values.forEach(function(a,o){var i=Array.from(r.selectedSpec);i.splice(t,1,e.itemId+":"+a.itemValueId);var s=r.skus.find(function(e){return e.propertiesValue==i.join(";")});n.setData(m({},"currentGood.specs["+t+"].values["+o+"].disabled",s&&s.quantity<=0||s&&s.maxBuy>0&&s.quantity<s.maxBuy?1:0))})}),console.log("currentGood---------\x3e",this.data.currentGood)}},setQuantity:function(e,t,n,a){return a>=e&&a<=n&&(t>0&&a<=t||0==t)?a:e>n||t>0&&e>t?0:e>0&&a<=e?e:t>0&&a>t?t>n?n:t:1},handleQuantityPlus:function(e){console.log(e,this.data);var t=this.data.currentGood;t.skus&&t.skus.length>0?t.selectedSku&&t.selectedSku.quantity>t.num&&(t.selectedSku.maxBuy?(t.selectedSku.maxBuy>t.selectedSku.quantity?t.selectedSku.quantity:t.selectedSku.maxBuy)>t.num&&this.setData({"currentGood.num":t.num+1}):this.setData({"currentGood.num":t.num+1})):t.stock>t.num&&this.setData({"currentGood.num":t.num+1})},handleQuantityMinus:function(){this.data.currentGood.num<2||this.data.currentGood.num<(this.data.currentGood.selectedSku&&this.data.currentGood.selectedSku.minBuy?this.data.currentGood.selectedSku.minBuy:2)||this.setData({"currentGood.num":this.data.currentGood.num-1})},handleAddToCart:function(){var e=this,t=this.data.currentGood;return o.showLoading({title:"请稍后",mask:!0}),w.default.addToCart({goodsId:t.id,propertiesId:t.selectedSku.propertiesId,quantity:t.num||1}).then(function(t){console.log("--------res------",t),o.hideLoading(),0==t.status?(e.showToast("加入购物车成功！"),e.triggerEvent("addToCartSuccess",{}),e.toggleDialog()):e.showToast("网络连接错误！")}).catch(function(t){console.log("err---\x3e",t),e.showToast(t.data&&t.data.msg?t.data.msg:"网络连接错误！"),o.hideLoading()})},handleCreateTuan:function(){var e=this.data.currentGood;this.triggerEvent("createTuan",e)}}}),Page({})}),window.define("component/fenxiao/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var y=e("../../network/api"),v=m(y),w=e("../../utils/es6-promise.min"),x=m(w),b=e("../../utils/const.js"),S=m(b),D=e("../../utils/notification"),C=m(D),_=e("../../dist/index"),T=e("../../utils/wxParse/wxParse.js");n.default={data:{},onLoad:function(e){var t=this;this.setData({from:e.from||"line",channelCode:e.channelCode||"",shareCode:e.shareCode||""}),o.showLoading({title:"请稍后"});var n=this;C.default.register(S.default.action.BIND_PHONE_SUCCESS,this,function(e){console.log("--------BIND_PHONE_SUCCESS--------",e);var a=o.getStorageSync("userinfo");t.setData({userinfo:a}),n.init()})},onShow:function(){var e=o.getStorageSync("userinfo");this.setData({userinfo:e})},init:function(){this.queryDistribute().then(function(){o.hideLoading()}).catch(function(e){console.log(e),o.hideLoading()})},queryDistribute:function(){var e=this,t=this.data.channelCode,n=this;return v.default.getRecruitmentDistribute({channelCode:t}).then(function(t){o.hideLoading();var a=t.data;return e.setData({config:a}),a&&a.isOpen&&a.isDist?n.saleCenter():a&&a.isOpen&&a.isRecruit&&!a.isDist?n.getRecruitmentInfo():x.default.reject()})},saleCenter:function(){var e=this;return v.default.saleCenter().then(function(t){return o.hideLoading(),e.setData({userdata:t.data}),o.setStorageSync("userinfo",t.data),i().globalData.userinfo=t.data,console.log("----saleCenter--userInfo---------",t.data),t.data})},getRecruitmentInfo:function(){var e=this;return v.default.getRecruitmentInfo().then(function(t){return console.log(t),o.hideLoading(),e.setData({detail:t.data}),T.wxParse("content","html",t.data.content?t.data.content:"暂无",e,5),t.data})},showZanToast:function(e,t){_.Toast.showZanToast.call(this,e,t)},clearZanToast:function(){_.Toast.clearZanToast.call(this)},applyRecruitment:function(){var e=this;console.log("+++++++++");var t=o.getStorageSync("userinfo");this.setData({userinfo:t}),this.data.userinfo.mobile?(o.showLoading({title:"请稍后"}),console.log("applyRecruitment==this.data.from===>",this.data.from),v.default.applyRecruitment({from:this.data.from,channelCode:this.data.channelCode,shareCode:this.data.shareCode}).then(function(t){console.log("apply res=>",t),o.hideLoading(),e.showZanToast("恭喜您，已成功申请为"+e.data.config.globalName+"！"),setTimeout(function(){this.saleCenter()}.bind(e),2e3)}).catch(function(t){console.log("apply err=>",t),o.hideLoading(),t&&1000104==t.error?(console.log("++++++++++++++++++++++++++++++++++++++++++"),e.showZanToast("很抱歉，您的分销申请已被拒绝！\n\n 拒绝理由："+t.errorMessage)):t&&1002111==t.error?e.showZanToast("此二维码已失效"):e.showZanToast(v.default.errors(t.error)||"网络连接错误，请稍后重试")})):this.setData({showModal:!0,url:"/pages/login/login?type=zhaomu&from="+this.data.from+"&zhaomuName="+this.data.config.globalName+"&channelCode="+this.data.channelCode})},showPopup:function(){var e=this.selectComponent(".J_Popup");e&&e.show()},hidePopup:function(){var e=this.selectComponent(".J_Popup");e&&e.hide()},copeShareCode:function(){var e=this.data.userdata.shareCode,t=void 0===e?"":e;o.setClipboardData({data:t,success:function(){}})},onUnload:function(){C.default.remove(S.default.action.BIND_PHONE_SUCCESS,this)}}}),window.define("component/map/map",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var m=e("../../network/api"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);n.default={onLoad:function(e){o.setNavigationBarTitle({title:"在线地图"})},onReady:function(){},onShow:function(){var e=i().globalData.location;e&&e.location&&(this.setData({cityName:e.location}),o.showLoading({title:"请稍后"}),this.queryBrandList(this.data.query,!0))},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},queryBrandList:function(e,t){var n=this;o.showLoading({title:"加载中"}),y.default.getBrandListByLocation(e).then(function(e){console.log(e,"++++"),o.hideLoading(),n.setData({list:t?e.data.data:n.data.list.concat(e.data.data),isShow:!0,loadmore:e.data.nextCursor>0,loadingmore:!1,query:{pageNo:e.data.nextCursor,pageSize:e.data.pageSize}}),console.log(e,"++++++++++++")}).catch(function(e){return console.log(e)})},makemap:function(e){console.log(e.currentTarget.dataset.item);var t=e.currentTarget.dataset.item;o.navigateTo({url:"/pages/brandmap/brandmap?id="+t.id+"&title="+t.brandName})},lower:function(e){console.log(this.data.loadmore,!this.data.loadingmore,"+++++++++++++++++"),this.data.loadmore&&!this.data.loadingmore&&(console.log(e),this.setData({loadingmore:!0}),this.queryBrandList(this.data.query,!1))}}}),window.define("component/o2o-orders/orders",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var y=e("../../network/api"),v=m(y),w=e("../../utils/notification"),x=m(w),b=e("../../utils/const.js"),S=m(b),D={loadmore:!1,isloadingmore:!1,scrollTop:0,pagination:{nextCursor:0,previousCursor:0,totalNumber:0},query:{pageNo:0},orderList:[],lastMinutes:40,isPaying:!1,errGoodList:[]};n.default={orderDetail:function(e){var t=e.currentTarget.dataset.id;o.navigateTo({url:"/pages/orders/o2oshow/show?id="+t})},onLoad:function(){this.setData(D)},onReady:function(){},onShow:function(){var e=o.getStorageSync("userinfo");this.setData({userinfo:e});var t=void 0;t={pageNo:1},e.mobile&&this.queryOrdersList(t,!0,!0)},onHide:function(){clearInterval(this.timer)},onPullDownRefresh:function(){console.log("-----onPullDownRefresh--------")},onReachBottom:function(){},queryOrdersList:function(e,t,n){var a=this,i=e||{};t&&(o.showLoading({title:"请稍候"}),this.setData({loading:!0})),o.stopPullDownRefresh(),v.default.queryOrders(i).then(function(e){o.stopPullDownRefresh(),t&&(o.hideLoading(),a.setData({loading:!1})),a.setData({isloadingmore:!1,orderList:n?e.data.data:a.data.orderList.concat(e.data.data),loading:!1,loadmore:e.data.nextCursor>0,pagination:{nextCursor:e.data.nextCursor,previousCursor:e.data.previousCursor,totalNumber:e.data.totalNumber},query:{pageNo:e.data.nextCursor}});var i=a.data.orderList;if(i&&i.length>0)for(var r=0;r<i.length;r++){if(10==i[r].orderStatus){i[r].remainMinutes=i[r].remainMinutes>0?i[r].remainMinutes:0;var s=i[r].remainMinutes/60>0?parseInt(i[r].remainMinutes/60):0,d=s<0?"":s<10?"0"+s+"分钟":s+"分钟",u=parseInt(i[r].remainMinutes%60),c=u<10?"0"+u+"秒":u+"秒";i[r].remainMinutesText=d+c,0==i[r].remainMinutes&&(i[r].orderStatus=20,i[r].actionList=[])}a.setData({orderList:i})}clearInterval(a.timer),a.timer=setInterval(function(){var e=!1;if(i&&i.length>0)for(var t=0;t<i.length;t++){if(10==i[t].orderStatus){e=!0,i[t].remainMinutes=i[t].remainMinutes>0?i[t].remainMinutes-1:0;var n=i[t].remainMinutes/60>0?parseInt(i[t].remainMinutes/60):0,o=n<0?"":n<10?"0"+n+"分钟":n+"分钟",r=parseInt(i[t].remainMinutes%60),s=r<10?"0"+r+"秒":r+"秒";i[t].remainMinutesText=o+s,0==i[t].remainMinutes&&(i[t].orderStatus=20,i[t].actionList=[])}a.setData({orderList:i})}e||clearInterval(a.timer)},1e3)}).catch(function(e){console.log(e),o.stopPullDownRefresh(),t&&(o.hideLoading(),a.setData({loading:!1})),a.setData({loadmore:!1,isloadingmore:!1})})},lower:function(){console.log("---------lower--------",this.data.query),this.data.loadmore&&!this.data.isloadingmore&&(this.setData({isloadingmore:!0}),this.queryOrdersList(this.data.query,!1,!1))},onOrderCanceled:function(){this.queryOrdersList({},!0,!0)},payOrder:function(e){if(console.log("---------payOrder--------------"),!this.data.isPaying){var t=this;t.setData({isPaying:!1});var n=e.currentTarget.dataset.id,a=e.currentTarget.dataset.no;o.showLoading({title:"请稍候"}),v.default.queryPaySign({orderNo:a}).then(function(e){o.hideLoading(),0==e.status&&e.data&&e.data.nonceStr?o.requestPayment({timeStamp:e.data.timeStamp+"",nonceStr:e.data.nonceStr,package:e.data.package,signType:"MD5",paySign:e.data.paySign,success:function(){console.log("支付--success"),this.onOrderPaid(n)},fail:function(){console.log("支付--fail"),o.showToast({title:"支付已取消",duration:2e3})}}):t.showTopTips("支付信息获取失败"),t.setData({isPaying:!1})}).catch(function(){o.hideLoading(),t.setData({isPaying:!1}),t.showTopTips("支付信息获取失败")})}},onOrderPaid:function(e){this.queryOrdersList({},!1,!0),o.navigateTo({url:"/pages/orders/result/index?result=1&id="+e})},gotoshop:function(e){var t=this,n=e.timeStamp-parseInt(this.lastTime);if(this.lastTime=e.timeStamp,!(n<500)){console.log("---------gotoshop--------",e);var a=e.currentTarget.dataset.id;this.gotoshoptimer=setTimeout(function(){x.default.post(S.default.action.GOTO_SHOP,{storeId:a}),clearInterval(t.gotoshoptimer)},700)}},logisticsDetail:function(e){console.log("logisticsDetail---》"),console.log("e---》",e);var t=e.currentTarget.dataset.orderid,n=e.currentTarget.dataset.iscanshow;console.log("orderId---》",t),console.log("iscanshow---》",n),n?o.navigateTo({url:"/pages/orders/showlogistics/showlogistics?id="+t}):o.navigateTo({url:"/pages/orders/o2oshow/show?id="+t})},onUnload:function(){x.default.remove(S.default.action.BIND_PHONE_SUCCESS,this)},changeuser:function(){var e=o.getStorageSync("userinfo");this.setData({userinfo:e}),this.queryOrdersList({pageNo:1},!0,!0)},gotoLogin:function(){o.navigateTo({url:"/pages/login/login"})}}}),window.define("component/open_tuan/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(n,"__esModule",{value:!0});var y=e("../../network/api.js"),v=function(e){return e&&e.__esModule?e:{default:e}}(y),w=e("../../utils/util.js");n.default={toggleTuanDialog:function(){console.log("close"),this.setData({showOpenTuanDialog:!this.data.showOpenTuanDialog})},handleTapTuanMore:function(e){e.currentTarget.dataset.num<=0||this.getMoreOpenTuan()},getMoreOpenTuan:function(){var e=this,t=this;o.showLoading({title:"请稍后"}),v.default.queryOpeningList({goodsId:this.data.goods.id}).then(function(n){o.hideLoading(),t.setData({openTuan:n.data}),t.toggleTuanDialog(),n.data&&n.data.length>0&&e.startCountMoreTuan()}).catch(function(e){o.hideLoading(),console.log(e)})},startCountMoreTuan:function(){var e=this,t=this;t.data.openTuan.forEach(function(e,n){t.setData(m({},"openTuan["+n+"].leftTime",(0,w.renderTimer)(e.remainTime)))}),this.timerMore=setInterval(function(){t.data.openTuan.forEach(function(n,a){var o;0==n.remainTime&&(clearInterval(e.timerMore),e.getMoreOpenTuan());var i=n.remainTime-1;t.setData((o={},m(o,"openTuan["+a+"].remainTime",i),m(o,"openTuan["+a+"].leftTime",(0,w.renderTimer)(i)),o))})},1e3)},startOpenTuanCount:function(){var e=this;e.data.goods.groupEvent.sponsoringList.forEach(function(t,n){e.setData(m({},"goods.groupEvent.sponsoringList["+n+"].leftTime",(0,w.renderTimer)(t.remainTime)))}),this.openTuanTimer=setInterval(function(){e.data.goods.groupEvent.sponsoringList.forEach(function(t,n){var a;0==t.remainTime&&(clearInterval(e.openTuanTimer),e.queryProductById(!1));var o=t.remainTime-1;e.setData((a={},m(a,"goods.groupEvent.sponsoringList["+n+"].remainTime",o),m(a,"goods.groupEvent.sponsoringList["+n+"].leftTime",(0,w.renderTimer)(o)),a))})},1e3)}}}),window.define("component/order_action/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(n,"__esModule",{value:!0});var y=e("../../network/api"),v=function(e){return e&&e.__esModule?e:{default:e}}(y);e("../../dist/index");n.default={cancelOrder:function(e){var t=this,n=e.currentTarget.dataset.id;console.log("that===111",t),o.showModal({title:"提示",content:"确定要取消该订单吗？",success:function(e){e.confirm&&(o.showLoading({title:"请稍候"}),v.default.cancelOrder({id:n}).then(function(e){o.hideLoading(),console.log("that---111",t),t.showZanToast("订单已取消"),t.onOrderCanceled()}).catch(function(e){console.log(e),o.hideLoading()}))}})},confirmOrder:function(e){var t=this,n=e.currentTarget.dataset.id;o.showModal({title:"提示",content:"确认您已收到商品？",success:function(e){e.confirm&&(o.showLoading({title:"请稍候"}),n&&v.default.confirmOrder({orderId:n}).then(function(e){o.hideLoading(),0==e.status&&e.data.result?(t.showZanToast("已确认收货"),t.onOrderConfirmed()):t.showZanToast(e.data.msg||"确认收货失败")}).catch(function(e){o.hideLoading(),console.log(e)}))}})},payOrder:function(e){var t=this,n=this;if(!n.data.isPaying){n.setData({isPaying:!0});var a=e.currentTarget.dataset.id,i=e.currentTarget.dataset.no,r=e.currentTarget.dataset.oto;console.log("支付-----iso2o",r),o.showLoading({title:"请稍候"}),v.default.queryPaySign({orderNo:i}).then(function(e){o.hideLoading(),0==e.status&&e.data&&e.data.orderInfo&&o.requestPolymerPayment({orderInfo:e.data.orderInfo,success:function(e){console.log("swan.requestPolymerPayment==success>"),n.onOrderPaid(a,!!r&&1==r),n.setData({isPaying:!1})},fail:function(e){n.setData({isPaying:!1})}})}).catch(function(e){e.data&&e.data.data&&e.data.data.length>0?(t.setData({errGoodList:e.data.data}),n.showDialog()):n.showZanTopTips(v.default.errors(e.error)||e.errorMessage||"网络错误"),n.setData({isPaying:!1}),o.hideLoading()})}},logisticsDetail:function(e){console.log("logisticsDetail---》"),console.log("e---》",e);var t=e.currentTarget.dataset,n=t.id,a=t.partpost;o.navigateTo({url:"/pages/orders/showlogistics/showlogistics?id="+n+"&partPost="+a})},showDialog:function(){var e=this.selectComponent(".wxc-dialog");e&&e.show()},hideDialog:function(){var e=this.selectComponent(".wxc-dialog");e&&e.hide()},onConfirm:function(){console.log("点击了确认按钮"),this.hideDialog()},onCancel:function(){console.log("点击了取消按钮"),this.hideDialog()},onchangeValueMsg:function(e){this.data.order.leaveMessage[e.target.id].value=e.detail.value,this.setData(m({},"order.leaveMessage["+e.target.id+"].value",e.detail.value))}}}),window.define("component/page/modules/common",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../../../utils/util.js"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);t.exports={methods:{jump:function(e){o.navigateTo({url:e})},handlephone:function(e){o.makePhoneCall({phoneNumber:e.currentTarget.dataset.mobile})},makecustome:function(e){this.navigateToCustom(e)},makedataSource:function(e){var t=e.currentTarget.dataset,n=t.type,a=t.options,o=t.index;console.log(n,a,"type, options, dsId");var i=a.dsId,r=void 0===i?"":i,s=a.location,d=void 0===s?1:s,u=a.dataType,c=void 0===u?1:u,l=a.brandsCategory,p=void 0===l?"":l,h=a.categories,g=void 0===h?"":h;console.log(e.currentTarget.dataset),"store"==n?this.jump("/pages/sources/stores/index?dsId="+r+"&location="+d+"&dataType="+c):"products"==n?this.jump("/pages/sources/products/index?dsId="+r+"&location="+d+"&dataType="+c+"&type=goodslist&brandsCategory="+y.default.stringify(p)+"&categories="+y.default.stringify(g)):"service"==n?this.jump("/pages/sources/services/index?dsId="+r+"&location="+d+"&dataType="+c):"brands"==n?this.jump("/pages/sources/brands/index?dsId="+r+"&location="+d+"&dataType="+c):"miaosha"==n?this.jump("/pages/sources/miaosha/index?dsId="+r+"&location="+d+"&dataType="+c):"tuan"==n?this.jump("/pages/sources/tuan/index?dsId="+r+"&location="+d+"&dataType="+c):"supplyinfo"==n?this.jump("/pages/sources/supplyinfo/supplyinfo?dsId="+r+"&location="+d+"&dataType="+c):"newsinfo"==n?this.jump("/pages/sources/newsinfo/newsinfo?from=dataSource&dsId="+r+"&dataType="+c+"&index="+o):"giftcard"==n?this.jump("/pages/giftcard/sources/giftcardlist/index?dsId="+r+"&location="+d+"&dataType="+c):"designer"==n?this.jump("/pages/sources/designer/designer?dsId="+r+"&location="+d+"&dataType="+c):"carstore"==n?this.jump("/pages/car/storelist/index?dsId="+r+"&location="+d+"&dataType="+c):"carproject"==n?this.jump("/pages/car/projectlist/index?dsId="+r+"&location="+d+"&dataType="+c):"cartimescard"==n?this.jump("/pages/car/sources/list/index?dsId="+r+"&location="+d+"&dataType="+c):"courseList"==n?this.jump("/pages/edu/list/index?dsId="+r+"&location="+d+"&dataType="+c+"&from=courseListPage"):"bargainList"==n&&this.jump("/pages/sources/cutprice/index?dsId="+r+"&location="+d+"&dataType="+c)},navigateToCustom:function(e){var t=e.currentTarget.dataset.item||e.currentTarget.dataset.link;if(console.log(t,"link"),t)if(t.location=t.location||1,t.dataType=t.dataType||1,t.dsId=t.dsId||"",t.brandsCategory=t.brandsCategory||"",t.color=t.color||"",t.categories=t.categories||"","page"==t.type&&t.link)this.jump("/modules/custome/custome?id="+t.link);else if("homestore"==t.type&&t.link)this.jump("/pages/shop/products/products?storeid="+t.link);else if("brand"==t.type)this.jump("/pages/sources/brands/index?dsId="+t.dsId+"&location="+t.location+"&dataType="+t.dataType);else if("store"==t.type)this.jump("/pages/sources/stores/index?dsId="+t.dsId+"&location="+t.location+"&dataType="+t.dataType+"&from=page");else if("goods"==t.type)console.log("goods-link",t),this.jump("/pages/sources/products/index?dsId="+t.dsId+"&location="+t.location+"&dataType="+t.dataType+"&type=goodslist&from=page");else if("goodscategory"==t.type)console.log("goodscategory-link",t),this.jump("/pages/sources/products/index?location="+t.location+"&dataType="+t.dataType+"&type=goodslist&brandsCategory="+y.default.stringify(t.brandsCategory)+"&from=page&categories="+y.default.stringify(t.categories));else if("project"==t.type)this.jump("/pages/sources/services/index?dsId="+t.dsId+"&location="+t.location+"&dataType="+t.dataType+"&from=page");else if("seckill"==t.type)this.jump("/pages/sources/miaosha/index?dsId="+t.dsId+"&location="+t.location+"&dataType="+t.dataType);else if("groupurchase"==t.type)this.jump("/pages/sources/tuan/index?dsId="+t.dsId+"&location="+t.location+"&dataType="+t.dataType);else if("info"==t.type)this.jump("/pages/sources/newsinfo/newsinfo?from=dataSource&dsId="+t.dsId+"&dataType="+t.dataType);else if("supplybuy"==t.type)this.jump("/pages/sources/supplyinfo/supplyinfo?dsId="+t.dsId+"&location="+t.location+"&dataType="+t.dataType+"&from=page");else if("fullreduction"==t.type)this.jump("/pages/manjian/index?dsId="+t.dsId+"&location="+t.location+"&dataType="+t.dataType);else if("miniProgramm"==t.type)o.navigateToSmartProgram({appId:t.appId,path:t.path||""});else if("customLink"==t.type)this.jump("/pages/webview/index?url="+y.default.stringify(t.customLink));else if("live"==t.type)this.jump("/pages/live/list/index");else if("timesCardList"==t.type)this.jump("/pages/car/sources/list/index?dsId="+t.dsId+"&location="+t.location+"&dataType="+t.dataType+"&from=page");else if("carStoreList"==t.type)this.jump("/pages/car/storelist/index?dsId="+t.dsId+"&location="+t.location+"&dataType="+t.dataType+"&from=page");else if("carProjectList"==t.type)this.jump("/pages/car/projectlist/index?dsId="+t.dsId+"&location="+t.location+"&dataType="+t.dataType+"&from=page");else if("hotel"==t.type){var n=o.getStorageSync("location");this.jump("/pages/hotel/list/index?cityName="+(n.cityName||"")+"&location="+(n.location||"")+"&isLocation=2&cityCode="+n.cityCode)}else"coupon"==t.type?this.jump("/pages/sources/coupon/index?dsId="+t.dsId+"&dataType="+t.dataType+"&from=page&color="+t.couponColor):"chuzhi"==t.type?this.jump("/pages/storevalue/mystore/index"):"freeQuote"==t.type?this.jump("/pages/decoration/quotation/index"):"courseList"==t.type?this.jump("/pages/edu/list/index?dsId="+t.dsId+"&location="+t.location+"&dataType="+t.dataType+"&from=courseListPage"):"courseCategory"==t.type?this.jump("/pages/edu/list/index?&dataType="+t.dataType+"&from=courseCategoryPage&categoryIds="+t.checkedIds):"teensBodyTest"==t.type?this.jump("/subs/pingce/bodytest/index"):"bargainList"==t.type?this.jump("/pages/sources/cutprice/index?dsId="+t.dsId+"&location="+c+"&dataType="+t.dataType):t.imgUrl&&o.previewImage({current:t.imgUrl,urls:[t.imgUrl]})}}}}),window.define("component/page/modules/notice2/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Component({properties:{module:{type:Object}}}),Page({})}),window.define("component/quantity/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={handleQuantityPlus:function(e){throw new Error("should override in page")},handleQuantityMinus:function(e){throw new Error("should override in page")}}}),window.define("component/supply/supply",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var m=e("../../network/api"),y=function(e){return e&&e.__esModule?e:{default:e}}(m),v={tab:{list:[{id:"address",title:"全部"},{id:"type",title:"类型"},{id:"classify",title:"全部分类"}],selectedId:"address",scroll:!1},types:[{id:1,name:"全部"},{id:3,name:"供应"},{id:4,name:"求购"}],typeIndex:-1,addresses:[],addressIndex:[0,0,0],classifies:[],classifyIndex:[0,0],supplys:[],loading:!1,loadmore:!1,isloadingmore:!1,scrollTop:0,searchUrl:"/pages/articles/search/search",pagination:{nextCursor:0,previousCursor:0,totalNumber:0},query:{pageNo:1,pageSize:10},selectAddress:"全国",selectClassify:"全部分类",isFirstOpen:!0};n.default={onLoad:function(e){this.setData(v);var t=o.getSystemInfoSync(),n=t.windowWidth/750,a={pageNo:0,title:e.q?e.q:""};this.setData({query:a,sysInfo:t,scrollHeight:t.windowHeight-88*n+2}),e.dsId&&this.setData({"query.dsId":e.dsId}),e.dataType&&this.setData({"query.dataType":e.dataType}),e.type&&this.setData({type:e.type}),e.categoryIds&&this.setData({"query.cids":e.categoryIds}),e.from&&this.setData({from:e.from,navToDetail:!0})},onReady:function(){},onShow:function(){var e=this.data.title,t=i().getFlash("keyword");console.log(i().getFlash("keyword"),"++++++++++++++++",t);var n=Object.assign({},this.data.query,{pageNo:0,title:t||""});this.setData({query:n}),this.data.isFirstOpen?("group"==this.data.type?(console.log("+++++++++"),this.queryGroupSupplyList(this.data.query,!0,!0)):this.querysupplyList(this.data.query,!0,!0),this.setData({isFirstOpen:!1})):e!=t?"group"==this.data.type?(console.log("+++++++++"),this.queryGroupSupplyList(this.data.query,!0,!0)):this.querysupplyList(this.data.query,!0,!0):"group"==this.data.type?this.queryGroupSupplyList(this.data.query,!1,!0):this.querysupplyList(this.data.query,!1,!0),this.queryRegions(1,-1),this.queryClassifies()},querysupplyList:function(e,t,n){var a=this,i=e||{},r=this.data,s=r.from,d=r.navToDetail;t&&(o.showLoading({title:"请稍候"}),this.setData({loading:!0})),y.default.querySupplyList(i).then(function(e){if(o.stopPullDownRefresh(),o.hideLoading(),a.setData({isloadingmore:!1,supplys:n?e.data.data:a.data.supplys.concat(e.data.data),loading:!1,loadmore:e.data.nextCursor>0,pagination:{nextCursor:e.data.nextCursor,previousCursor:e.data.previousCursor,totalNumber:e.data.totalNumber},query:Object.assign({},a.data.query,{pageNo:e.data.nextCursor})}),"page"==s&&d&&e.data.data&&1==e.data.data.length){var t=e.data.data[0];a.setData({navToDetail:!1}),o.redirectTo({url:"/pages/gongqiu/supplyDetail/index?id="+t.id})}else a.setData({navToDetail:!1})}).catch(function(e){console.log(e),o.stopPullDownRefresh(),o.hideLoading(),a.setData({loading:!1,loadmore:!1,isloadingmore:!1})})},queryGroupSupplyList:function(e,t,n){var a=this,i=e||{},r=this.data;r.from,r.navToDetail;t&&(o.showLoading({title:"请稍候"}),this.setData({loading:!0})),y.default.queryGroupSupply(i).then(function(e){o.stopPullDownRefresh(),o.hideLoading(),a.setData({isloadingmore:!1,supplys:n?e.data.data:a.data.supplys.concat(e.data.data),loading:!1,loadmore:e.data.nextCursor>0,pagination:{nextCursor:e.data.nextCursor,previousCursor:e.data.previousCursor,totalNumber:e.data.totalNumber},query:Object.assign({},a.data.query,{pageNo:e.data.nextCursor})})}).catch(function(e){console.log(e),o.stopPullDownRefresh(),o.hideLoading(),a.setData({loading:!1,loadmore:!1,isloadingmore:!1})})},lower:function(e){this.data.loadmore&&!this.data.isloadingmore&&(this.setData({isloadingmore:!0}),"group"==this.data.type?this.queryGroupSupplyList(this.data.query,!1,!1):this.querysupplyList(this.data.query,!1,!1))},queryRegions:function(e,t){var n=this;1==e?y.default.queryRegions({parentId:t}).then(function(e){e.data.splice(0,0,{code:"-1",fullName:"全国",id:0,name:"全国",parentId:"-1"}),n.setData({addresses:[e.data,[{code:"-1",fullName:"全国",id:0,name:"全国",parentId:"-1"}],[{code:"-1",fullName:"全国",id:0,name:"全国",parentId:"-1"}]]})}).catch(function(e){n.showTopTips(e.message||"查询失败")}):2==e?y.default.queryRegions({parentId:t}).then(function(e){n.setData({addresses:[n.data.addresses[0],e.data,[]]}),n.queryRegions(3,e.data[0].code)}).catch(function(e){n.showTopTips(e.message||"查询失败")}):3==e&&y.default.queryRegions({parentId:t}).then(function(e){e.data.splice(0,0,{code:"-1",fullName:"全部",id:0,name:"全部",parentId:"-1"}),n.setData({addresses:[n.data.addresses[0],n.data.addresses[1],e.data]})}).catch(function(e){n.showTopTips(e.message||"查询失败")})},queryClassifies:function(){var e=this;y.default.queryCategoryList().then(function(t){var n=t.data.map(function(e){return{id:e.id,name:e.name,pid:e.pid}});n.splice(0,0,{id:0,name:"全部分类",pid:0});var a=[{id:0,name:"全部",pid:0}];e.setData({data:t.data,classifies:[n,a]})}).catch(function(e){console.log(e)})},bindAddressPickerChange:function(e){var t=this.data.addresses,n=0!=t[2][e.detail.value[2]].id?t[2][e.detail.value[2]].fullName:0!=t[1][e.detail.value[1]].id?"全"+t[1][e.detail.value[1]].fullName:"全国";this.setData({addressIndex:e.detail.value,selectAddress:n});var a=0!=t[0][e.detail.value[0]].id?t[0][e.detail.value[0]].code:"",o=0!=t[1][e.detail.value[1]].id?t[1][e.detail.value[1]].code:"",i=0!=t[2][e.detail.value[2]].id?t[2][e.detail.value[2]].code:"",r=Object.assign({},this.data.query,{provinceCode:a,cityCode:o,districtCode:i,pageNo:1});this.setData({query:r}),this.querysupplyList(r,!0,!0)},bindAddressPickerColumnChange:function(e){var t=this.data.addresses;switch(e.detail.column){case 0:if(0==e.detail.value){var n=t[0];this.setData({addresses:[n,[{code:"-1",fullName:"全国",id:0,name:"全国",parentId:"-1"}],[{code:"-1",fullName:"全国",id:0,name:"全国",parentId:"-1"}]]})}else this.queryRegions(2,t[0][e.detail.value].code);break;case 1:this.queryRegions(3,t[1][e.detail.value].code)}},bindTypePickerChange:function(e){this.setData({typeIndex:e.detail.value});var t=0==e.detail.value?1:1==e.detail.value?3:2==e.detail.value?4:1,n=Object.assign({},this.data.query,{dataType:t,pageNo:1});this.setData({query:n}),this.querysupplyList(n,!0,!0)},bindClassifyMultiPickerChange:function(e){var t=this.data.classifies,n=0!=t[1][e.detail.value[1]].id?t[1][e.detail.value[1]].name:t[0][e.detail.value[0]].name;this.setData({classifyIndex:e.detail.value,selectClassify:n});var a=0!=t[1][e.detail.value[1]].id?t[1][e.detail.value[1]].id:t[0][e.detail.value[0]].id,o=Object.assign({},this.data.query,{pageNo:1,categoryId:a});this.setData({query:o}),this.querysupplyList(o,!0,!0)},bindClassifyMultiPickerColumnChange:function(e){var t=this.data.classifies;if(0==e.detail.column){var n=[];n=0==e.detail.value||!this.data.data[e.detail.value-1].categoryList||this.data.data[e.detail.value-1].categoryList.length<1?[{id:0,name:"全部",pid:0}]:this.data.data[e.detail.value-1].categoryList.map(function(e){return{id:e.id,name:e.name,pid:e.pid}}),this.setData({classifies:[t[0],n]})}},handlesupply:function(e){var t=e.currentTarget.dataset.id;getCurrentPages().length,o.navigateTo({url:"/pages/gongqiu/supplyDetail/index?id="+t})},bindsupplysearch:function(){var e=this.data.query.title||"";o.navigateTo({url:"/pages/sources/newsinfo/newssearch?keyword="+e})},handlephone:function(e){var t=e.currentTarget.dataset.mobile;o.makePhoneCall({phoneNumber:t})}}}),window.define("component/supply/tab",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m={_handlesupplyTabChange:function(e){var t=e.currentTarget.dataset,n=t.componentId,a=t.itemId,o={componentId:n,selectedId:a};console.info("[supply:tab:change]",o),this.handlesupplyTabChange?this.handlesupplyTabChange(o):console.warn("页面缺少 handlesupplyTabChange 回调函数")}};t.exports=m}),window.define("dist/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";n.Tab=e("./tab/index"),n.Quantity=e("./quantity/index"),n.TopTips=e("./toptips/index"),n.Toast=e("./toast/index"),n.Switch=e("./switch/index")}),window.define("dist/minui/wxc-abnor/dist/config",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={LOCATION_ERROR:{image:"http://imgcdnali.wfenxiao.com.cn/xcx/c/1120/location_error1.png",title:"无法获取您的位置信息",button:"手动选择地址",tip:""},REQUEST_ERROR:{image:"https://s10.mogucdn.com/p2/161213/upload_3bd517df2kgkclkhgl71bg4b37dcc_514x260.png",title:"网络加载失败",button:"点击刷新",tip:""},NOT_FOUND:{image:"https://s8.mogucdn.com/pic/150112/17y7h4_ieydcyjsha2dgndcmuytambqgiyde_410x354.png",title:"很抱歉，找不到你要访问的页面",tip:"",button:"返回"},DATA:{image:"https://s10.mogucdn.com/p2/161213/upload_27e7gegi3f9acl5e05f3951if5855_514x260.png",title:"没有相关数据哦",tip:"",button:""},FOLLOW:{image:"https://s10.mogucdn.com/p2/161213/upload_61ech6ihe399d85abhjhcigd38444_514x260.png",title:"关注有趣的人",tip:"不再错过他们每一条动态",button:""},FEED:{image:"https://s10.mogucdn.com/p2/161213/upload_2ie7eb3ae0khl20g0g1glgb852e5i_514x260.png",title:"还没有任何反馈哦",tip:"",button:""},SHOP:{image:"https://s10.mogucdn.com/p2/161213/upload_8acll7f4b4j2ljf8i164d5h7bl78g_514x260.png",title:"稍后再来试试吧~",tip:"",button:""},WEIBO:{image:"https://s10.mogucdn.com/p2/161213/upload_3gh3bj6dk8k46783c78e414aeh7g0_514x260.png",title:"",tip:"",button:""},SEARCH:{image:"https://s10.mogucdn.com/p2/161213/upload_74hhee883cbf190e3di6cljk23679_514x260.png",title:"抱歉！没找到相关商品~",tip:"",button:""},TAG:{image:"https://s10.mogucdn.com/p2/161213/upload_76h1c5hjc8heecjehlfgekjdl2ki0_514x260.png",title:"",tip:"",button:""},MESSAGE:{image:"https://s10.mogucdn.com/p2/161213/upload_21f4ij449lb4h67k0afjic82d0f31_514x260.png",title:"消息通知空空如也",tip:"",button:""},LIVE:{image:"https://s10.mogucdn.com/p2/161213/upload_682e8fg28d8lk27b9l95jecghd4jl_514x260.png",title:"",tip:"",button:""},ORDER:{image:"https://s10.mogucdn.com/p2/161213/upload_7b01ig2ih5egggj85l1gd8d38790f_514x260.png",title:"还没有相关订单哦",tip:"",button:""},CART:{image:"https://s10.mogucdn.com/p2/161213/upload_1h082815bh50k99dajicd53ll1dhl_514x260.png",title:"购物车还是空的哦~",button:"去逛逛",tip:""},FOOTPRINT:{image:"https://s10.mogucdn.com/p2/161213/upload_3c4d952gd6k9809gj4g8eg974lk14_514x260.png",title:"你还没有足迹~",tip:"",button:""},COUPON:{image:"https://s10.mogucdn.com/mlcdn/c45406/170607_52khi3193g9ba5e023l7a6ecee326_514x258.png",title:"你还没有可用的店铺优惠券哦",tip:"",button:""}}}),window.define("dist/minui/wxc-avatar/dist/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=Component({behaviors:[],properties:{src:{type:String,value:""},mold:{type:String,value:"circle"},count:{type:Number,value:""},approve:{type:String,value:""}},data:{},methods:{}}),Page({})}),window.define("dist/minui/wxc-badge/dist/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=Component({behaviors:[],properties:{value:{type:[Number,String],value:0},max:{type:[Number,String],value:100},type:{type:String,value:"number"},_system_:{type:String,value:""}},data:{},methods:{},attached:function(){var e=this,t=e.data,n=parseInt(t.max,10),a=parseInt(t.value,10);a&&n&&a>n&&e.setData({value:n+"+"}),o.getSystemInfo&&o.getSystemInfo({success:function(t){e.setData({_system_:~t.system.indexOf("Android")?"android":"ios"})}})}}),Page({})}),window.define("dist/minui/wxc-loading/dist/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=Component({_timer:null,behaviors:[],properties:{isShow:{type:Boolean,value:!1},type:{type:String,value:"mgj"},image:{type:String,value:""},slip:{type:String,value:""}},data:{},methods:{show:function(){var e=this;this._timer&&clearTimeout(this._timer),this._timer=setTimeout(function(){e._timer=null,e.setData({isShow:!0})},500)},hide:function(){this._timer&&(clearTimeout(this._timer),this._timer=null),this.setData({isShow:!1})}}}),Page({})}),window.define("dist/minui/wxc-loadmore/dist/config",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var m=[{icon:"https://s10.mogucdn.com/p2/161213/upload_57bl76e9010115f3fj1d2k1kj5l4b_44x44.png",text:"再看点别的？"},{icon:"https://s10.mogucdn.com/p2/161213/upload_6c4a17j86gb0lh9hba01i464fkie2_44x44.png",text:"哎呀都看完了"},{icon:"https://s10.mogucdn.com/p2/161213/upload_1iddk17bfe1k4257f207i467f21e8_44x44.png",text:"叽~木有啦"},{icon:"https://s10.mogucdn.com/p2/161213/upload_2e6ig5fb6k773l546a9gj8g2k7bfg_44x44.png",text:"哎一古~刷完了"},{icon:"https://s10.mogucdn.com/p2/161213/upload_124lgj5ji1h9f3ci0bdbe5k4gf1kk_44x44.png",text:"没有了呢"},{icon:"https://s10.mogucdn.com/p2/161213/upload_1122hdalb10h08kbiehd344fj6j1k_44x44.png",text:"汪~木有啦"}],y={HIDDEN:-1,SHOW_DEFAULT:1,SHOW_CONFIG:2};n.TYPES=m,n.IconType=y}),window.define("dist/minui/wxc-notice/dist/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=Component({properties:{scroll:{type:Boolean,value:!1},isShow:{type:Boolean,value:!0},notice:{type:String,value:""},bgColor:{type:String,value:"#ff5777"},color:{type:String,value:"#fff"},showIcon:{type:Boolean,value:!1},iconColor:{type:String,value:"#fff"},close:{type:Boolean,value:!1},bgRgba:{type:String,value:"rgba(255, 85, 119, 0)"}},data:{},methods:{onDismissNotice:function(e){this.setData({isShow:!1});var t=e.detail,n={};this.triggerEvent("close",t,n)}}}),Page({})}),window.define("dist/minui/wxc-progress/dist/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=Component({behaviors:[],properties:{percent:{type:[Number,String],value:100},strokeWidth:{type:[Number,String],value:16},activeLineColor:{type:Array,value:[]},activeColor:{type:[String,Array],value:"#ffca49, #ffb262"},backgroundColor:{type:String,value:"#e5e5e5"},radius:{type:[Number,String],value:15}},data:{},methods:{},attached:function(){var e=this.data.activeColor;~e.indexOf(",")&&this.setData({activeLineColor:e.split(",")})}}),Page({})}),window.define("dist/minui/wxc-steps/dist/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=Component({behaviors:[],properties:{steps:{type:Array,value:[]},current:{type:Number,value:0}},data:{},methods:{},attached:function(){}}),Page({})}),window.define("dist/minui/wxc-switch/dist/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=Component({behaviors:[],properties:{checked:{type:Boolean,value:!1},disabled:{type:Boolean,value:!1},activeColor:{type:String,value:"#ff5777"}},data:{},methods:{switch:function(){var e=this.data,t=e.checked,n=e.loading,a=e.disabled;if(n||a)return!1;this.setData({checked:!t}),this.triggerEvent("switch",{checked:this.data.checked})}}}),Page({})}),window.define("dist/minui/wxc-tab/dist/Event",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var m=function e(){if(!(this instanceof e))return new e;this._callbacks={},this._fired={}};m.prototype.emit=function(e,t){for(var n,a,o,i,r,s=2,d=this._callbacks;s--;)if(a=s?e:"__all__",n=d[a])for(i=0,r=n.length;i<r;i++)if(o=n[i]){for(var u=[],c=s?1:0,l=c;l<arguments.length;l++)u.push(arguments[l]);o.apply(this,u)}else n.splice(i,1),i--,r--;return this},m.prototype.on=function(e,t){return this._callbacks[e]=this._callbacks[e]||[],this._callbacks[e].push(t),this},m.prototype.removeListener=function(e,t){var n=this._callbacks;if(e)if(t){var a=n[e];if(a)for(var o=a.length,i=0;i<o;i++)t===a[i]&&(a[i]=null)}else n[e]=[];else this._callbacks={};return this};var y=new m;n.default=y}),window.define("dist/quantity/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e,t){var n=e.currentTarget.dataset,a=n.componentId,o=n.disabled,i=+n.quantity;if(o)return null;y.call(this,a,i+t)}function y(e,t){t=+t;var n={componentId:e,quantity:t};console.info("[zan:quantity:change]",n),this.handleZanQuantityChange?this.handleZanQuantityChange(n):console.warn("页面缺少 handleZanQuantityChange 回调函数")}var v={_handleZanQuantityMinus:function(e){m.call(this,e,-1)},_handleZanQuantityPlus:function(e){m.call(this,e,1)},_handleZanQuantityBlur:function(e){var t=this,n=e.currentTarget.dataset,a=n.componentId,o=+n.max,i=+n.min,r=e.detail.value;return console.log("_handleZanQuantityBlur---\x3e",r),r?(r=+r,r>o?r=o:r<i&&(r=i),y.call(this,a,r),""+r):(setTimeout(function(){y.call(t,a,i)},16),y.call(this,a,r),""+r)}};t.exports=v}),window.define("dist/switch/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m={_handleZanSwitchChange:function(e){var t=e.currentTarget.dataset,n=!t.checked,a=t.loading,o=t.disabled,i=t.componentId;a||o||(console.info("[zan:switch:change]",{checked:n,componentId:i}),this.handleZanSwitchChange?this.handleZanSwitchChange({checked:n,componentId:i}):console.warn("页面缺少 handleZanSwitchChange 回调函数"))}};t.exports=m}),window.define("dist/tab/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m={_handleZanTabChange:function(e){var t=e.currentTarget.dataset,n=t.componentId,a=t.itemId,o={componentId:n,selectedId:a};console.info("[zan:tab:change]",o),this.handleZanTabChange?this.handleZanTabChange(o):console.warn("页面缺少 handleZanTabChange 回调函数")}};t.exports=m}),window.define("dist/toast/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";t.exports={showZanToast:function(e,t){var n=this;console.log(this,e,t);var a=this.data.zanToast||{};clearTimeout(a.timer),a={show:!0,title:e},this.setData({zanToast:a});var o=setTimeout(function(){n.clearZanToast()},t||2e3);this.setData({"zanToast.timer":o})},clearZanToast:function(){var e=this.data.zanToast||{};clearTimeout(e.timer),this.setData({"zanToast.show":!1})}}}),window.define("dist/toptips/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";t.exports={showZanTopTips:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=this.data.zanTopTips||{};a.timer&&(clearTimeout(a.timer),a.timer=null),"number"==typeof n&&(n={duration:n}),n=Object.assign({duration:3e3},n);var o=setTimeout(function(){e.setData({"zanTopTips.show":!1,"zanTopTips.timer":null})},n.duration);this.setData({zanTopTips:{show:!0,content:t,options:n,timer:o}})}}}),window.define("network/api",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}function y(){return new qi.default(function(e){o.login({success:function(t){var n=t.code;e(n)}})}).then(function(e){var t=i().globalData,n=t.shareCode,a=t.channelCode;return(0,Oi.default)(Bi+"/user/init",{headers:{"x-comp-token":i().globalData.token||""},"content-type":"application/json",method:"POST",body:{code:e,shareCode:n,channelCode:a}})}).then(function(e){return Gi.default.post(Mi.default.action.LOGIN,{accessToken:e.data.accessToken,userInfo:e.data}),new qi.default(function(t){return t(e.data)})})}function v(){var e=o.getStorageSync("accessToken");return e&&"undefined"!=e?new qi.default(function(e){return e(o.getStorageSync("userinfo"))}):y()}function w(e,t){return v().then(function(){var n={headers:{"x-comp-token":i().globalData.token||"",accesstoken:i().globalData.accessToken||"","x-city-code":i().globalData.city?i().globalData.city.code:""},method:"GET",qs:t};return i().log("request get ---- "+e),(0,Oi.default)(e,n)})}function x(e,t){return v().then(function(){var n={headers:{"x-comp-token":i().globalData.token||"",accesstoken:i().globalData.accessToken||"","x-city-code":i().globalData.city?i().globalData.city.code:""},"content-type":"application/json",method:"POST",body:t};return i().log("request post ---- "+e),(0,Oi.default)(e,n)})}function b(e,t,n){return(0,ji.uploadImg)(e,t,n)}function S(e){return w(Bi+"/sys/region",e)}function D(e){return b(""+Hi,e)}function C(e){return x(Fi+"/collection/visitOto",e)}function _(e){return x(Fi+"/collection/exitOto",e)}function T(e){return w(Bi+"/index/all",e)}function k(e){return w(Bi+"/index/menu/phone",e)}function I(e){return w(Bi+"/index/menu",e)}function L(e){return w(Bi+"/index/brand/list",e)}function P(e){return w(Bi+"/index/store/list",e)}function q(e){return w(Bi+"/index/goods/list",e)}function j(e){return x(Bi+"/index/search",e)}function O(e){return x(Bi+"/index/kw/save",e)}function E(e){return w(Bi+"/index/kw/list",e)}function N(e){return x(Bi+"/index/kw/remove",e)}function A(e){return w(Bi+"/index/cities",e)}function M(e){return w(Bi+"/index/allCities",e)}function R(e){return w(Bi+"/index/city/search",e)}function G(e){return x(Bi+"/index/city/select",e)}function B(e){return x(Bi+"/index/city/location",e)}function F(e){return w(Bi+"/index/page",e)}function H(e){return w(Bi+"/xcx/colorDetail",e)}function U(e){return w(Bi+"/index/custom",e)}function z(e){return w(Bi+"/brand/list",e)}function V(e){return w(Bi+"/store/list",e)}function Q(e){return w(Bi+"/store/loadStoreType",e)}function $(e){return w(Bi+"/store/detail",e)}function W(e){return w(Bi+"/storeGoods/categoryList",e)}function Y(e){return x(Bi+"/storeGoods/list",e)}function K(e){return w(Bi+"/storeGoods/category/goodsList",e)}function Z(e){return w(Bi+"/storeGoods/detail",e)}function J(e){return w(Bi+"/storeGoods/stock",e)}function X(e){return w(Bi+"/order/toOrder",e)}function ee(e){return x(Bi+"/order/createOrder",e)}function te(e){return w(Bi+"/order/list",e)}function ne(e){return w(Bi+"/order/detail",e)}function ae(e){return x(Bi+"/order/cancel",e)}function oe(e){return x(Bi+"/order/receive",e)}function ie(e){return w(Bi+"/order/logistics",e)}function re(e){return x(Bi+"/order/logistics/v2",e)}function se(e){return x(Bi+"/order/logistics/header",e)}function de(e){return w(Bi+"/distribution/dada/log",e)}function ue(e){return w(Bi+"/order/log",e)}function ce(e){return w(Bi+"/cart/checkBeforePay",e)}function le(e){return x(Bi+"/pay/toPay",e)}function pe(e){return w(Bi+"/order/consignee/list",e)}function he(e){return w(Bi+"/consignee/list",e)}function ge(e){return x(Bi+"/consignee/save",e)}function fe(e){return x(Bi+"/consignee/remove",e)}function me(e){return x(Bi+"/consignee/modify",e)}function ye(e){return w(Bi+"/consignee/detail",e)}function ve(e){return x(Bi+"/consignee/check",e)}function we(e){return x(Bi+"/message/save",e)}function xe(e){return x(Bi+"/bind/verifyCode",e)}function be(e){return x(Bi+"/user/login",e)}function Se(e){return x(Bi+"/user/save",e)}function De(e){return x(Bi+"/user/modify",e)}function Ce(e){return x(Bi+"/user/init",e)}function _e(e){return w(Bi+"/user/findLocation",e)}function Te(e){return w(Bi+"/user/findLocationInfo",e)}function ke(e){return w(Bi+"/user/lookup",e)}function Ie(e){return x(Bi+"/user/logout",e)}function Le(e){return x(Bi+"/user/updateUserInfo",e)}function Pe(e){return x(Bi+"/map/suggestionPost",e)}function qe(e){return w(Bi+"/store/loadStoreType",e)}function je(e){return w(Bi+"/storeGoods/goodsList",e)}function Oe(e){return w(Bi+"/project/list",e)}function Ee(e){return w(Bi+"/project/detail",e)}function Ne(e){return w(Bi+"/staff/list",e)}function Ae(e){return w(Bi+"/staff/detail",e)}function Me(e){return x(Bi+"/booking/toBook/v3",e)}function Re(e){return w(Bi+"/booking/loadTime",e)}function Ge(e){return w(Bi+"/project/projectList",e)}function Be(e){return w(Bi+"/staff/staffList",e)}function Fe(e){return x(Bi+"/booking/book/v2",e)}function He(e){return w(Bi+"/booking/list",e)}function Ue(e){return w(Bi+"/booking/detail/v2",e)}function ze(e){return x(Bi+"/booking/cancel",e)}function Ve(e){return w(Bi+"/albums/list",e)}function Qe(e){return w(Bi+"/booking/check",e)}function $e(e){return x(Bi+"/customerCoupon/receive",e)}function We(e){return w(Bi+"/customerCoupon/list",e)}function Ye(e){return w(Bi+"/customerCoupon/detail",e)}function Ke(e){return w(Bi+"/customerCoupon/availableList",e)}function Ze(e){return w(Bi+"/customerCard/list",e)}function Je(e){return w(Bi+"/customerCard/detail",e)}function Xe(e){return x(Bi+"/customerCard/receive",e)}function et(e){return w(Bi+"/customerCard/availableList",e)}function tt(e){return x(Bi+"/customerCard/order/commit",e)}function nt(e){return x(Bi+"/bind/excute",e)}function at(e){return w(Bi+"/bind/check",e)}function ot(e){return w(Bi+"/bind/mobileCheck",e)}function it(e){return x(Bi+"/bind/verifyCodeCheck",e)}function rt(e){return w(Bi+"/jmall/index/all",e)}function st(e){return w(Bi+"/jmall/index/goodsList",e)}function dt(e){return w(Bi+"/jmall/user/center",e)}function ut(e){return w(Bi+"/jmall/goods/detail",e)}function ct(e){return w(Bi+"/jmall/order/prepare",e)}function lt(e){return x(Bi+"/jmall/order/create",e)}function pt(e){return w(Bi+"/jmall/order/list",e)}function ht(e){return w(Bi+"/jmall/order/count",e)}function gt(e){return w(Bi+"/jmall/order/detail",e)}function ft(e){return w(Bi+"/cart/myCart",e)}function mt(e){return w(Bi+"/cart/v2/detail",e)}function yt(e){return x(Bi+"/cart/add",e)}function vt(e){return x(Bi+"/cart/update",e)}function wt(e){return x(Bi+"/cart/del",e)}function xt(e){return x(Bi+"/cart/clear",e)}function bt(e){return x(Bi+"/cart/clearInvalid",e)}function St(e){return w(Bi+"/cart/statistics",e)}function Dt(e){return w(Bi+"/goods/sku",e)}function Ct(e){return w(Bi+"/center/toCenter",e)}function _t(e){return w(Bi+"/center/collection/list",e)}function Tt(e){return w(Bi+"/center/goods/list",e)}function kt(e){return x(Bi+"/center/goods/share",e)}function It(e){return w(Bi+"/center/client/list",e)}function Lt(e){return w(Bi+"/center/order/list",e)}function Pt(e){return w(Bi+"/center/sub/order/list",e)}function qt(e){return w(Bi+"/center/sub/distributer/list",e)}function jt(e){return w(Bi+"/balance/toWithdraw",e)}function Ot(e){return x(Bi+"/balance/withdraw",e)}function Et(e){return x(Bi+"/balance/check",e)}function Nt(e){return w(Bi+"/balance/account/record",e)}function At(e){return w(Bi+"/balance/withdraw/detail",e)}function Mt(e){return x(Bi+"/balance/account/save",e)}function Rt(e){return w(Bi+"/balance/account/banks",e)}function Gt(e){return w(Bi+"/balance/toCenter",e)}function Bt(e){return w(Bi+"/index/datasource/goods",e)}function Ft(e){return w(Bi+"/index/datasource/brands",e)}function Ht(e){return w(Bi+"/index/datasource/stores",e)}function Ut(e){return w(Bi+"/index/datasource/projects",e)}function zt(e){return w(Bi+"/index/datasource/seckill",e)}function Vt(e){return w(Bi+"/index/datasource/group",e)}function Qt(e){return w(Bi+"/index/datasource/coupons",e)}function $t(e){return w(Bi+"/index/datasource/goodsList",e)}function Wt(e){return w(Bi+"/order/confirm",e)}function Yt(e){return x(Bi+"/order/confirm/v2",e)}function Kt(e){return x(Bi+"/order/commit",e)}function Zt(e){return w(Bi+"/recruitment/info",e)}function Jt(e){return x(Bi+"/recruitment/apply",e)}function Xt(e){return w(Bi+"/recruitment/toDistribute",e)}function en(e){return w(Bi+"/order/staticticsOrderNum",e)}function tn(e){return w(Bi+"/sys/config",e)}function nn(e){return w(Bi+"/sponsor/detail",e)}function an(e){return w(Bi+"/sponsor/goods/sku",e)}function on(e){return w(Bi+"/supplyBuy/detail",e)}function rn(e){return x(Bi+"/supplyBuy/save",e)}function sn(e){return x(Bi+"/supplyBuy/savePub",e)}function dn(e){return w(Bi+"/index/datasource/supplyBuys",e)}function un(e){return w(Bi+"/info/detail",e)}function cn(e){return w(Bi+"/supplyBuy/detail",e)}function ln(e){return w(Bi+"/supplyBuy/mine",e)}function pn(e){return x(Bi+"/supplyBuy/del",e)}function hn(e){return w(Bi+"/sys/region/findById",e)}function gn(e){return w(Ui+"/region/decorateCompFindByParentId",e)}function fn(e){return w(Bi+"/index/datasource/infos",e)}function mn(e){return w(Bi+"/info/detail",e)}function yn(e){return w(Bi+"/info/category/list",e)}function vn(e){return w(Bi+"/grouppurchase/opening/list",e)}function wn(e){return w(Bi+"/sponsor/mine/list",e)}function xn(e){return w(Bi+"/order/sponsor/mine",e)}function bn(e){return w(Bi+"/index/datasource/giftCards",e)}function Sn(e){return w(Bi+"/giftCard/mine",e)}function Dn(e){return w(Bi+"/giftCard/giveRecord",e)}function Cn(e){return w(Bi+"/giftCard/mineDetail",e)}function _n(e){return w(Bi+"/giftCard/giveRecord/detail",e)}function Tn(e){return w(Bi+"/giftCard/giveDetail",e)}function kn(e){return x(Bi+"/giftCard/largess",e)}function In(e){return x(Bi+"/giftCard/receive",e)}function Ln(e){return x(Bi+"/giftCard/revokeLargess",e)}function Pn(e){return x(Bi+"/giftCard/useGiftCard",e)}function qn(e){return w(Bi+"/giftCard/detail",e)}function jn(e){return x(Bi+"/giftCard/order/commit",e)}function On(e){return w(Bi+"/giftCard/order/detail",e)}function En(e){return w(Bi+"/index/datasource/fullreduction",e)}function Nn(e){return w(Bi+"/giftCard/order/availableList",e)}function An(e){return x(Bi+"/center/store/share",e)}function Mn(e){return w(Bi+"/center/store/list",e)}function Rn(e){return w(Bi+"/order/consignee/isOutRange",e)}function Gn(e){return x(Bi+"/cart/clearAll",e)}function Bn(e){return w(Bi+"/center/store/detail",e)}function Fn(e){return x(Bi+"/giftCard/pay",e)}function Hn(e){return x(Bi+"/refund/apply",e)}function Un(e){return w(Bi+"/refund/negotiationHistory",e)}function zn(e){return w(Bi+"/refund/detail",e)}function Vn(e){return x(Bi+"/refund/cancel",e)}function Qn(e){return x(Bi+"/refund/modify",e)}function $n(e){return x(Bi+"/refund/post",e)}function Wn(e){return x(Bi+"/refund/list",e)}function Yn(e){return x(Bi+"/custom/form/feedback/save",e)}function Kn(e){return w(Bi+"/map/addressJson",e)}function Zn(e){return w(Bi+"/member/recharge/info/balance",e)}function Jn(e){return w(Bi+"/member/recharge/info/list",e)}function Xn(e){return w(Bi+"/member/recharge/toRecharge",e)}function ea(e){return x(Bi+"/pay/wx/recharge/toPay",e)}function ta(e){return w(Bi+"/index/goodsCategory/list",e)}function na(e){return w(Bi+"/index/goodsCategory/list/v2",e)}function aa(e){return x(Bi+"/jmall/bind/simple",e)}function oa(e){return x(Bi+"/index/datasource/goodsList/v2",e)}function ia(e){return w(Bi+"/index/search/goods",e)}function ra(e){return w(Bi+"/index/search/store",e)}function sa(e){return x(Bi+"/store/datasource/list",e)}function da(e){return x(Bi+"/index/search/base",e)}function ua(e){return x(Bi+"/index/search/goods",e)}function ca(e){return x(Bi+"/index/search/store",e)}function la(e){return w(Bi+"/collection/goods/list",e)}function pa(e){return w(Bi+"/collection/store/list",e)}function ha(e){return w(Bi+"/collection/goods/follow",e)}function ga(e){return w(Bi+"/collection/goods/unfollow",e)}function fa(e){return w(Bi+"/collection/store/follow",e)}function ma(e){return w(Bi+"/collection/store/unfollow",e)}function ya(e){return x(Bi+"/booking/cancel",e)}function va(e){return x(Bi+"/booking/pay/tailPay",e)}function wa(e){return x(Bi+"/booking/pay/toPay",e)}function xa(e){return x(Bi+"/qrcode/activity/receive",e)}function ba(e){return w(Bi+"/live/currentLive",e)}function Sa(e){return w(Bi+"/live/historyLive",e)}function Da(e){return w(Bi+"/live/video/detail",e)}function Ca(e){return w(Bi+"/liveUser/myFavorite",e)}function _a(e){return w(Bi+"/live/order/list",e)}function Ta(e){return w(Bi+"/liveUser/myLive",e)}function ka(e){return w(Bi+"/liveUser/myLiveLogo",e)}function Ia(e){return w(Bi+"/live/check",e)}function La(e){return x(Bi+"/liveUser/share",e)}function Pa(e){return x(Bi+"/live/createPoster",e)}function qa(e){return x(Bi+"/liveUser/play",e)}function ja(e){return x(Bi+"/liveUser/keepAlive",e)}function Oa(e){return x(Bi+"/liveUser/stopPlay",e)}function Ea(e){return x(Bi+"/liveUser/watchRecord",e)}function Na(e){return x(Bi+"/liveUser/startPush",e)}function Aa(e){return x(Bi+"/liveUser/stopPush",e)}function Ma(e){return x(Bi+"/liveUser/mark",e)}function Ra(e){return x(Bi+"/liveUser/remark",e)}function Ga(e){return w(Bi+"/evaluate/gotoEvaluate",e)}function Ba(e){return x(Bi+"/evaluate/publish",e)}function Fa(e){return w(Bi+"/evaluate/list",e)}function Ha(e){return w(Bi+"/evaluate/store",e)}function Ua(e){return w(Bi+"/evaluate/my",e)}function za(e){return x(Bi+"/evaluate/anonymous",e)}function Va(e){return x(Bi+"/user/saveCode",e)}function Qa(e){return w(Bi+"/index/city/list",e)}function $a(e){return x(Bi+"/index/city/select/v2",e)}function Wa(e){return w(Bi+"/index/city/search/v2",e)}function Ya(e){return w(Bi+"/cy/mine/orderList",e)}function Ka(e){return w(Bi+"/cy/mine/orderDetail",e)}function Za(e){return x(Bi+"/cy/order/cancel",e)}function Ja(e){return w(Bi+"/cy/order/confirm",e)}function Xa(e){return x(Bi+"/cy/order/commit",e)}function eo(e){return w(Bi+"/cy/mine/diningTableDetail",e)}function to(e){return w(Bi+"/booking/loadCyTime",e)}function no(e){return x(Bi+"/cy/order/toPay",e)}function ao(e){return x(Bi+"/cy/order/pay",e)}function oo(e){return w(Bi+"/hotel/homePage",e)}function io(e){return w(Bi+"/hotel/store/detail",e)}function ro(e){return w(Bi+"/hotel/brand/list",e)}function so(e){return w(Bi+"/hotel/list",e)}function uo(e){return w(Bi+"/hotel/room/list",e)}function co(e){return x(Bi+"/hotel/store/book/pay",e)}function lo(e){return x(Bi+"/hotel/store/book/cancel",e)}function po(e){return w(Bi+"/hotel/store/book/detail",e)}function ho(e){return w(Bi+"/hotel/store/book/toSave",e)}function go(e){return x(Bi+"/hotel/store/book/save",e)}function fo(e){return x(Bi+"/hotel/store/book/pay",e)}function mo(e){return w(Bi+"/hotel/store/room/detail",e)}function yo(e){return w(Bi+"/hotel/config/detail",e)}function vo(e){return w(Bi+"/index/groups/list",e)}function wo(e){return w(Bi+"/index/groups/projects",e)}function xo(e){return w(Bi+"/index/groups/infos",e)}function bo(e){return w(Bi+"/index/groups/supplyBuys",e)}function So(e){return x(Bi+"/center/photo/share",e)}function Do(e){return w(Bi+"/center/order/orderDetail",e)}function Co(e){return w(Bi+"/storeGoods/categoryDistList",e)}function _o(e){return w(Bi+"/info/category/categoryByDsId",e)}function To(e){return w(Bi+"/decorate/designer/list",e)}function ko(e){return w(Bi+"/decorate/quote/freeQuote",e)}function Io(e){return w(Bi+"/decorate/designer/detail",e)}function Lo(e){return x(Bi+"/custom/form/feedback/save",e)}function Po(e){return w(Bi+"/decorate/quote/list",e)}function qo(e){return w(Bi+"/index/decorateCompanyCity/list",e)}function jo(e){return w(Bi+"/index/decorateCompany/list",e)}function Oo(e){return w(Bi+"/decorate/company/detail",e)}function Eo(e){return w(Bi+"/index/groups/infos/categorylist",e)}function No(e){return x(Bi+"/decorate/impression/praise",e)}function Ao(e){return x(Bi+"/decorate/impression/see",e)}function Mo(e){return x(Bi+"/decorate/impression/queryListByCondition",e)}function Ro(e){return w(Ui+"/decorate/impression/selectItem",e)}function Go(e){return w(Bi+"/car/store/homePage",e)}function Bo(e){return x(Bi+"/car/project/order/buy",e)}function Fo(e){return x(Bi+"/car/project/order/pay",e)}function Ho(e){return w(Bi+"/car/store/list",e)}function Uo(e){return w(Bi+"/car/store/project/list",e)}function zo(e){return w(Bi+"/car/project/order/list",e)}function Vo(e){return w(Bi+"/car/project/order/detail",e)}function Qo(e){return x(Bi+"/car/project/order/buy",e)}function $o(e){return x(Bi+"/car/project/order/cancel",e)}function Wo(e){return w(Bi+"/timesCard/list",e)}function Yo(e){return w(Bi+"/timesCard/detail",e)}function Ko(e){return w(Bi+"/timesCard/order/card/list",e)}function Zo(e){return w(Bi+"/timesCard/my/detail",e)}function Jo(e){return w(Bi+"/timesCard/store/list",e)}function Xo(e){return w(Bi+"/timesCard/order/list",e)}function ei(e){return w(Bi+"/timesCard/order/detail",e)}function ti(e){return x(Bi+"/timesCard/order/buy",e)}function ni(e){return x(Bi+"/timesCard/order/pay",e)}function ai(e){return x(Bi+"/car/project/order/detail",e)}function oi(e){return w(Bi+"/edu/course/list",e)}function ii(e){return w(Bi+"/index/datasource/courseCategory",e)}function ri(e){return w(Bi+"/edu/course/detail",e)}function si(e){return w(Bi+"/evaluate/course/list",e)}function di(e){return x(Bi+"/edu/course/favorite",e)}function ui(e){return x(Bi+"/edu/course/mark",e)}function ci(e){return x(Bi+"/edu/course/remark",e)}function li(e){return x(Bi+"/edu/course/publish",e)}function pi(e){return w(Bi+"/edu/column/courseList",e)}function hi(e){return x(Bi+"/edu/course/order/buy",e)}function gi(e){return x(Bi+"/edu/course/order/pay",e)}function fi(e){return w(Bi+"/edu/column/list",e)}function mi(e){return x(Bi+"/consignee/saveWxAdddress",e)}function yi(e){return w(Bi+"/edu/course/order/list",e)}function vi(e){return x(Bi+"/child/checkAndSave",e)}function wi(e){return w(Bi+"/child/training/getImg",e)}function xi(e){return w(Bi+"/child/training/course/list",e)}function bi(e){return w(Bi+"/index/datasource/bargainList",e)}function Si(e){return x(Bi+"/bargain/sponsor/toBargain",e)}function Di(e){return x(Bi+"/bargain/participant/toBargain",e)}function Ci(e){return w(Bi+"/bargain/sponsor/list",e)}function _i(e){return w(Bi+"/bargain/participant/list",e)}function Ti(e){return w(Bi+"/live/message/list",e)}function ki(e){return x(Bi+"/live/message/publish",e)}function Ii(e){return x(Bi+"/live/message/mute",e)}function Li(e){return x(Bi+"/live/order/buy",e)}var Pi=e("../utils/es6-promise.min"),qi=m(Pi),ji=e("./request.js"),Oi=m(ji),Ei=e("../utils/const"),Ni=m(Ei),Ai=e("../utils/const.js"),Mi=m(Ai),Ri=e("../utils/notification"),Gi=m(Ri),Bi=Ni.default.debug?Ni.default.devEndPoint:Ni.default.proEndPoint,Fi=Ni.default.debug?Ni.default.devTongji:Ni.default.proTongji,Hi=Ni.default.debug?Ni.default.devUploadEndPoint:Ni.default.proUploadEndPoint,Ui=Bi.replace("otowap","common"),zi=function(e){switch(e){case 101:return"商品已下架";case 102:return"商品库存不足";case 201:return"收货地址不存在";case 301:return"剩余积分不足";case 401:return"已达到购买次数限制";case 1000101:return"申请已提交，人工审核中，审核通过后需要重新进入小程序查看。";case 1000102:return"您的申请正在审核中,请耐心等待！";case 501:return"此优惠券可领取数量达到上限";case 502:return"优惠券已被领光";case 503:return"用户不存在";case 222000225:return"已经领取过此张会员卡";case 222000226:return'累计消费未满"+card.getConsumeMoney()+"元，暂不能领取';case 11001001:return"appid不能为空";case 11001002:return"收货地址不能为空";case 11001003:return"配送方式不能为空";case 11001004:return"提货人手机号不能为空";case 11001005:return"商品不能为空";case 11001006:return"商品库存不足";case 11001007:return"商品不能为空";case 11001008:return"sku失效";case 11001009:return"来晚了，该团已满！";case 11001010:return"已经有礼品卡使用过了";case 11001011:return"有礼品卡已经过期了！";case 11002001:return"该订单为非0元订单！";case 11001e3:return"用户已撤销，暂不能领取!";case 1001001:return"订单状态为已完成，不能申请退款!";case 1001017:return"当前收货地址不支持配送，请修改收货地址";case 11001019:return"购买金额未达到起送金额";case 13001007:return"砍价活动已下单";case 13001008:return"砍价活动未开始";case 13001009:return"砍价活动已结束";case 121000133:return"微信地址已存在,请重新选择";case 10020100:return"申请失败！招募二维码已失效。";case 10020199:return"评论失败，主播已设置禁言"}};t.exports={loginWx:y,errors:zi,onAppShow:C,onAppHide:_,queryAreas:S,uploadImage:D,init:T,queryWithdrawCheck:Et,queryNewsDetail:un,getIndexMenu:I,getBrandList:L,getStoreList:P,getGoodsList:q,indexSearch:j,saveIndexKeword:O,getIndexKeWordList:E,removeIndexKeWord:N,getIndexCities:A,queryAllCity:M,searchIndexCity:R,selectIndexCity:G,locationIndexCity:B,getBrandListByLocation:z,getStoreListByLocation:V,getStoreDetail:$,getStorecategoryList:W,getStoreGoodsListByCategory:K,getStoreGoodsList:Y,getStoreGoodDetail:Z,getGoodStock:J,checkoutSingleOrder:X,createSingleOrder:ee,queryOrders:te,showOrder:ne,cancelOrder:ae,getLogistics:ie,getLogisticsV2:re,getOrderLogistics:se,dadaGetLogistics:de,checkBeforePay:ce,queryPaySign:le,getOrderConsignee:pe,queryAddressList:he,createAddress:ge,deleteAddress:fe,updataAddress:me,queryAddressDetail:ye,checkAddress:ve,saveMessage:we,getVerifyCode:xe,login:be,saveUserInfo:Se,modifyUserInfo:De,initUser:Ce,getUserLocation:_e,getUserLocationInfo:Te,queryUserInfo:ke,updateWXUserInfo:Le,queryMap:Pe,getPageById:F,logout:Ie,queryColor:H,queryCustom:U,queryStoreType:qe,queryStoreGoodsList:je,queryProjectList:Oe,queryProjectDetail:Ee,queryStaffList:Ne,queryStaffDetail:Ae,queryBookSetting:Me,queryLoadTime:Re,querySelectProjectList:Ge,querySelectStaffList:Be,commitBookOrder:Fe,queryBookList:He,queryBookDetail:Ue,cancelBook:ze,queryAlbumsList:Ve,receiveCoupon:$e,queryCouponList:We,queryCouponDetail:Ye,queryOrderCouponList:Ke,queryCardList:Ze,queryCardDetail:Je,receiveCard:Xe,queryOrderCardList:et,queryCardToBuy:tt,bindMobile:nt,checkVerifyCode:it,checkIsBindMobile:at,checkBindMobileIsExist:ot,queryScoreBannerList:rt,queryScoreGoodsList:st,queryScoreUserCenter:dt,queryScoreGoodsDetail:ut,checkScoreOrder:ct,scoreOrderCreate:lt,scoreOrderList:pt,scoreOrderCount:ht,scoreOrderDetail:gt,getStoreType:Q,bookingCheck:Qe,saleCenter:Ct,mycollectionList:_t,distributionGoodsList:Tt,distributionClientList:It,shareGoodsList:kt,distributionOrderList:Lt,subDistributionList:Pt,subDistributerList:qt,centerToWithdraw:jt,queryWithdraw:Ot,withdrawRecord:Nt,withdrawDetail:At,setAccountSave:Mt,setBankSave:Rt,queryToCenter:Gt,queryCarts:ft,queryStoreCarts:mt,addToCart:yt,updateCartItem:vt,clearCart:xt,clearInvalid:bt,destroyCartItem:wt,queryCartStatics:St,queryGoodSku:Dt,queryDatasourceGoods:Bt,queryDatasourceBrands:Ft,queryDatasourceStores:Ht,queryDatasourceProjects:Ut,queryDatasourceGoodsList:$t,queryDatasourceMiaosha:zt,queryDatasourceTuan:Vt,queryDatasourceCoupon:Qt,confirmCartOrder:Wt,confirmCartOrderPost:Yt,commitCartOrder:Kt,getStates:ue,confirmOrder:oe,getRecruitmentInfo:Zt,applyRecruitment:Jt,queryConcatPhone:k,getRecruitmentDistribute:Xt,getStaticticsOrderNum:en,getSysConfig:tn,queryOpenTuanDetail:nn,queryTuanGoodsSku:an,queryMyTuanList:wn,queryOpeningList:vn,querySupplyBuy:on,saveSupplyBuy:rn,publishSupplyBuy:sn,querySupplyDetail:cn,querySupplyMy:ln,querySupplyDel:pn,queryRegions:hn,queryQuoteRegions:gn,queryNewsinfoList:fn,queryNewsinfoDetail:mn,queryCategoryList:yn,querySupplyList:dn,queryMyTuanId:xn,queryGiftcardList:bn,queryMyGiftcard:Sn,queryGiftcardRecordList:Dn,queryGiftcardDetail:Cn,queryGiftCardgiveRecorddetail:_n,queryGiveDetail:Tn,giftcardLargess:kn,queryGiftcardReceive:In,queryGiftDetail:qn,commitGiftCard:jn,queryGiftOrderDetail:On,onShareStore:An,queryFenxiaoStores:Mn,isOutRange:Rn,clearCartStoreAll:Gn,queryFenxiaoStoreQr:Bn,queryManjianList:En,queryOrderGiftCardList:Nn,queryRevokeLargess:Ln,queryUseGiftCard:Pn,toPay0Money:Fn,negotiationHistory:Un,queryApply:Hn,queryReturnGoodsDetail:zn,queryApplyCancel:Vn,queryLogistics:$n,queryApplyModify:Qn,queryRefundList:Wn,indexAllSearch:ia,indexStoreSearch:ra,queryStoreDatasource:sa,queryGoodsProperties:da,queryIndexGoods:ua,queryIndexStores:ca,submitFeedback:Yn,queryAddress:Kn,queryBalance:Zn,balanceDetailList:Jn,queryToRecharge:Xn,queryImmediateRecharge:ea,queryIndexCategory:ta,queryIndexCategoryV2:na,bindSimple:aa,queryDatasourceGoodsListPost:oa,queryCollectionGoods:la,queryCollectionStore:pa,followGoods:ha,unfollowGoods:ga,followStore:fa,unfollowStore:ma,seviceCancelOrder:ya,seviceTailPay:va,seviceToPay:wa,queryActivity:xa,queryCurrentLives:ba,queryHistoryLives:Sa,queryLiveDetail:Da,queryFavoriteLives:Ca,queryLiveOrders:_a,queryMyLives:Ta,queryPendingLives:ka,queryPoster:Pa,checkPusher:Ia,checkAlive:ja,shareLive:La,playLive:qa,stopLive:Oa,playVideo:Ea,startPush:Na,stopPush:Aa,addLiveFavorite:Ma,removeLiveFavorite:Ra,gotoEvaluate:Ga,queryEvaluatePublish:Ba,queryEvaluateList:Fa,queryStoreEvaluate:Ha,queryMyEvaluate:Ua,querySetAnonymous:za,updateShareCode:Va,queryIndexCityV2:Qa,selectIndexCityV2:$a,queryIndexSearchCity:Wa,confirmFoodCartOrder:Ja,cyOrderList:Ya,cyOrderDetail:Ka,cyOrderCancel:Za,queryCyTimes:to,cyOrderPay:no,commitFoodCartOrder:Xa,cyPay0Money:ao,queryTableById:eo,queryHomePage:oo,queryHotelDetail:io,queryHotelBrandList:ro,queryHotelList:so,queryMyHotelRoomList:uo,payMyHotelBook:co,cancelMyHotelBook:lo,queryMyHotelRoomDetail:po,toHotelOrder:ho,createHotelOrder:go,getHotelOrderPagSign:fo,queryHotelRoomDetail:mo,queryComHotelSetting:yo,queryIndexGroup:vo,queryGroupService:wo,queryGroupInfo:xo,queryGroupSupply:bo,queryPhotoShare:So,queryFeixiaoOrderDetail:Do,feixiaoCategoryDistList:Co,qeuryInfoCategoryByDsId:_o,queryDesignerList:To,freeQuote:ko,designerDetail:Io,feedbackSave:Lo,quoteList:Po,decorateCompanyCity:qo,decorateCompanyList:jo,decorateCompanyDetail:Oo,qeuryInfoCategoryByGroup:Eo,impressionSee:Ao,impressionPraise:No,pictureList:Mo,querySelectItem:Ro,queryCarStoreHomePage:Go,queryCarProOrderBuy:Bo,queryCarProOrderPay:Fo,queryCarStoresDatasource:Ho,queryCarProjectsDatasource:Uo,queryCarProjectOrders:zo,queryCarProjectOrderDetail:Vo,buyCarProject:Qo,cancelCarProjectOrder:$o,queryCarProjectPaySign:ai,queryTimesCardList:Wo,queryTimesCardDetail:Yo,myTimesCardList:Ko,myTimesCardRecordList:Xo,myTimesCardDetail:Zo,myTimesCardRecordDetail:ei,timesCardToBuy:ti,timesCardToPay:ni,timesCardStoreList:Jo,queryEduList:oi,queryEduCategoryList:ii,markCourse:ui,cancelMarkCourse:ci,queryCourseCommentList:si,queryCourseById:ri,queryFavoriteEduList:di,commnetCourse:li,columnCourseList:pi,orderBuyCourse:hi,orderPayCourse:gi,eduColumnList:fi,saveWxAddress:mi,queryCourseOrderList:yi,childCheckAndSave:vi,querySportImg:wi,queryCourseList:xi,queryBargainListByDataSource:bi,toBargain:Si,helpBargain:Di,bargainSponsorList:Ci,bargainList:_i,queryLiveComments:Ti,createLiveComment:ki,setLiveCommentMute:Ii,buyLive:Li}}),window.define("network/request",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.uploadImg=void 0;var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=e("../utils/const"),v=function(e){return e&&e.__esModule?e:{default:e}}(y),w=function(e,t){var n={url:void 0,method:"GET",qs:void 0,body:void 0,headers:void 0,type:"json",contentType:"application/json",crossOrigin:!0,credentials:void 0},a={};return t?(a=t,e&&(a.url=e)):a=e,a=Object.assign({},n,a)},x=function(e,t){var n="",a=e;if(t&&"object"===(void 0===t?"undefined":m(t))){var o=!0,i=!1,r=void 0;try{for(var s,d=Object.keys(t)[Symbol.iterator]();!(o=(s=d.next()).done);o=!0){var u=s.value;n+="&"+u+"="+t[u]}}catch(e){i=!0,r=e}finally{try{!o&&d.return&&d.return()}finally{if(i)throw r}}n.length>0&&(e.split("?").length<2?n=n.substring(1):0===e.split("?")[1].length&&(n=n.substring(1))),a=-1===e.indexOf("?")?e+"?"+n:""+e+n}return a},b=function(e,t){var n=w(e,t),a=n.method,i=n.body,r=n.headers,s=n.qs,d=n.type,u=n.contentType,c=n.url;s&&(c=x(c,s));var l=r;return r&&r["content-type"]||!u||(l=Object.assign({},r,{"content-type":u})),new Promise(function(t,n){o.request({url:c,method:a,data:i,header:l,dataType:d,success:function(a){a.statusCode<200||a.statusCode>=300||!a.data?n({error:-1,errorMessage:"网络连接异常",request:e,data:a}):0!=a.data.status&&n({error:a.data.status,errorMessage:500==a.data.status?"网络连接错误":a.data.error.msg,data:a.data.error,request:a.data.request,serverTime:a.data.serverTime}),console.log(a.data),t(a.data)},fail:function(t){n({error:-1,errorMessage:"网络连接异常",data:t,request:e})}})})},S=function(e,t,n){return new Promise(function(a,i){o.uploadFile({url:e,filePath:t,name:"file",formData:Object.assign({fileName:"/wechat/supply/${date:yyyy}/${date:MM}/${date:dd}/${uuid}.png",secureKey:v.default.debug?v.default.devUploadSecretKey:v.default.proUploadSecretKey,operate:"save"},n),success:function(t){console.log(t,"res");var n=t.data;0==n.status?a(n):i({error:-1,errorMessage:"图片上传失败",data:n,request:e})},fail:function(t){console.log(t),i({error:-1,errorMessage:"网络连接异常",data:t,request:e})}})})};n.default=b,n.uploadImg=S}),window.define("pages/car/components/btn_action/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var m=e("../../../../network/api"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);n.default={cancelOrder:function(e){var t=e.detail?e.detail.id:e,n=this;o.showModal({title:"提示",content:"确定要取消该订单吗？",success:function(e){e.confirm&&(o.showLoading({title:"请稍候"}),y.default.cancelCarProjectOrder({id:t}).then(function(e){console.log(e),o.hideLoading(),n.showZanToast("订单已取消"),"pages/car/projectorders/index"===n.getCurrentPageUrl()?n.onShow():o.navigateTo({url:"/pages/car/projectorders/index?id="+t})}).catch(function(e){console.log(e),o.hideLoading()}))}})},payOrder:function(e,t,n){var a=e.detail?e.detail.id:t,i=e.detail?e.detail.carNo:n,r=this;r.data.isPaying||(r.setData({isPaying:!0}),o.showLoading({title:"请稍候"}),y.default.queryCarProOrderPay({orderId:a,carNo:i}).then(function(e){0===e.status&&(console.log(e.data),o.hideLoading(),o.requestPayment({timeStamp:e.data.timeStamp+"",nonceStr:e.data.nonceStr,package:e.data.package,signType:"MD5",paySign:e.data.paySign,success:function(){r.setData({isPaying:!1}),"pages/car/projectorders/index"===r.getCurrentPageUrl()?r.onShow():o.navigateTo({url:"/pages/hotel/projectorders/index?id="+a})},fail:function(){r.setData({isPaying:!1})}}))}).catch(function(e){console.log(e),e.data&&e.data.data&&e.data.data.length>0?r.setData({errGoodList:e.data.data}):r.showZanTopTips(y.default.errors(e.error)||e.errorMessage||"网络错误"),r.setData({isPaying:!1}),o.hideLoading()}))},getCurrentPageUrl:function(){var e=getCurrentPages();return e[e.length-1].route}}}),window.define("pages/edu/components/audio/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Component({properties:{course:{type:Object,value:{}}},data:{play:!1,current:0,percent:0,left:0},ready:function(){this.init();var e=this;o.getSystemInfo({success:function(t){e.setData({screenWidth:t.windowWidth})}})},detached:function(){this.innerAudioContext.stop(),this.innerAudioContext.destroy()},methods:{init:function(){var e=this,t=o.createInnerAudioContext();this.innerAudioContext=t,t.src=this.data.course.file,t.onPlay(function(){return e.onPlay()}),t.onPause(function(){return e.onPause()}),t.onStop(function(){return e.onStop()}),t.onEnded(function(){return e.onEnded()}),t.onError(function(t){return e.onError(t)}),t.onTimeUpdate(function(){return e.onTimeUpdate()})},px2rpx:function(e){return 750*e/this.data.screenWidth},tooglePlay:function(){console.log("tooglePlay",this.data.play),this.data.play?this.innerAudioContext.pause():this.validate()},handleProgressChange:function(e){var t=e.changedTouches[0].pageX,n=Math.max(Math.min(this.px2rpx(t),623),33),a=n-33,o=100*a/590,i=this.data.course.duration*o*.01;this.setData({left:a,percent:o,current:i}),this.innerAudioContext.seek(i)},onPlay:function(){console.log("---音频开始播放---",this),this.setData({play:!0})},onPause:function(){console.log("---音频暂停播放---"),this.setData({play:!1})},onStop:function(){console.log("---停止播放---")},onEnded:function(){console.log("---播放结束---"),this.setData({play:!1,current:this.data.course.duration,percent:100,left:590})},onError:function(e){console.log(e.errMsg),console.log(e.errCode)},onWaiting:function(){console.log("缓冲中")},onCanplay:function(){console.log("缓冲完毕")},onTimeUpdate:function(){var e=this.innerAudioContext.currentTime,t=100*e/this.data.course.duration,n=parseInt(.01*t*590);this.setData({current:e,percent:t,left:n})},validate:function(){console.log("校验");var e=o.getStorageSync("userinfo");this.setData({mobile:e.mobile}),e.mobile?this.innerAudioContext.play():this.triggerEvent("showmodal",{},{})}}}),Page({})}),window.define("pages/hotel/components/btn_action/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var m=e("../../../../network/api"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);n.default={cancelOrder:function(e){var t=e.detail?e.detail.id:e,n=this;o.showModal({title:"提示",content:"确定要取消该订单吗？",success:function(e){e.confirm&&(o.showLoading({title:"请稍候"}),y.default.cancelMyHotelBook({id:t}).then(function(e){o.hideLoading(),n.showZanToast("订单已取消"),"pages/hotel/order_detail/index"===n.getCurrentPageUrl()?n.onShow():o.navigateTo({url:"/pages/hotel/order_detail/index?id="+t})}).catch(function(e){console.log(e),o.hideLoading()}))}})},payOrder:function(e,t){var n=e.detail?e.detail.orderNo:e,a=e.detail?e.detail.id:t,i=this;i.data.isPaying||(i.setData({isPaying:!0}),o.showLoading({title:"请稍候"}),y.default.payMyHotelBook({orderNo:n}).then(function(e){0===e.status&&(console.log(e.data),o.hideLoading(),o.requestPayment({timeStamp:e.data.timeStamp+"",nonceStr:e.data.nonceStr,package:e.data.package,signType:"MD5",paySign:e.data.paySign,success:function(e){i.setData({isPaying:!1}),"pages/hotel/order_detail/index"===i.getCurrentPageUrl()?i.onShow():o.navigateTo({url:"/pages/hotel/order_detail/index?id="+a})},fail:function(e){i.setData({isPaying:!1})}}))}).catch(function(e){console.log(e),e.data&&e.data.data&&e.data.data.length>0?i.setData({errGoodList:e.data.data}):i.showZanTopTips(y.default.errors(e.error)||e.errorMessage||"网络错误"),i.setData({isPaying:!1}),o.hideLoading()}))},getCurrentPageUrl:function(){var e=getCurrentPages();return e[e.length-1].route}}}),window.define("pages/logs/logs",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../../utils/util.js");Page({data:{logs:[]},onLoad:function(){this.setData({logs:(o.getStorageSync("logs")||[]).map(function(e){return m.formatTime(new Date(e))})})}})}),window.define("pages/mine/user/profile/filter",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={genderName:function(e){switch(e){case"1":return"男";case"2":return"女";default:return"保密"}}}}),window.define("pages/pingjia/component/textarea/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Component({properties:{pingjiaArray:{type:Array,value:[]}},data:{currentType:0},methods:{onEvaluateItem:function(e){var t=e.currentTarget.dataset.index,n=0==t?-1:1==t?1:2==t?2:3==t?3:4;this.setData({currentType:t,evaluate:n}),this.triggerEvent("onquery",{currentType:this.data.currentType,evaluate:this.data.evaluate})}}}),Page({})}),window.define("pages/shop/carts/index.filter",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={countNum:function(e){var t=0;return e&&e.forEach(function(e){e.selected&&(t+=1)}),t},sumNum:function(e){var t=0;return e&&e.forEach(function(e){e.selected&&(t+=e.quantity)}),t},renderSku:function(e){for(var t=e.split(";"),n=[],a=0;a<t.length;a++){var o=t[a].split(":")[1];o&&o.length>10&&(o=o.substring(0,10)+"..."),n.push(o)}return n.join(";")}}}),window.define("pages/shop/components/store_car/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../../../../network/api"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({properties:{shopId:{type:String,value:""}},data:{data:{},indicatorDots:!1,autoplay:!1,interval:5e3,duration:1e3,isOpen1:!0,isOpen2:!1,pingjiaArray:[{name:"全部",num:0},{name:"好评",num:0},{name:"中评",num:0},{name:"差评",num:0},{name:"有图",num:0}],showDialog:!1,modalData:{},imgUrl:["http://imgcdnali.wfenxiao.com.cn/xcx/c/car/store-normal.png"],currentImage:1},attached:function(){this.getProducts()},methods:{getProducts:function(){var e=this;o.showLoading({title:"请稍候"}),y.default.queryCarStoreHomePage({id:this.data.shopId}).then(function(t){o.hideLoading();var n=t.data.evaluateList;e.setData({data:t.data,store:t.data,pingjiaArray:[{name:"全部",num:n?n.reviewsNum:0},{name:"好评",num:n?n.goodReviewsNum:0},{name:"中评",num:n?n.middleReviewsNum:0},{name:"差评",num:n?n.badReviewsNum:0},{name:"有图",num:n?n.imgReviewsNum:0}],openTime:t.data.openTime.map(function(e){return e.time}).join(),isOpen2:0==t.data.projectList.length}),e.triggerEvent("setStoreDetail",{store:t.data},{bubbles:!0,composed:!0})}).catch(function(e){return console.log(e)})},clickDown:function(e){var t=e.currentTarget.dataset.id;"1"===t?this.setData({isOpen1:!this.data.isOpen1}):"2"===t&&this.setData({isOpen2:!this.data.isOpen2})},onQuery:function(e){var t=e.detail.currentType;o.navigateTo({url:"/pages/pingjia/storeevaluate/index?status="+t+"&sType=7&id="+this.data.data.id+"&openevaluate="+this.data.data.openEvaluate})},showModal:function(){this.setData({showDialog:!this.data.showDialog})},toBuy:function(e){0==e.currentTarget.dataset.skulist.length?o.navigateTo({url:"/pages/car/proordercreate/index?id="+e.currentTarget.dataset.id}):this.setData({showDialog:!this.data.showDialog,modalData:e.currentTarget.dataset})},handleStoreMap:function(){var e=this.data.data;o.openLocation({name:e.brandName,address:e.detailAddress,latitude:parseFloat(e.lat),longitude:parseFloat(e.lng),success:function(e){console.log(e)}})},handlePhone:function(){console.log(this.data.data,"phonephonephonephonephonephonephonephonephonephone");var e=this.data.data,t=e.areaNum,n=e.tel,a=e.extNum,i=[],r=t+"-"+n;a?i.push(r+"转"+a):i.push(r),o.showActionSheet({itemList:i,success:function(e){void 0!=e.tapIndex&&o.makePhoneCall({phoneNumber:i[e.tapIndex].replace("-","").split("转")[0]})}})},swiperChange:function(e){this.setData({currentImage:e.detail.current+1})}}}),Page({})}),window.define("pages/shop/components/store_food/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=e("../../../../network/api"),w=m(v),x=e("../../../../behaviors/toast.js"),b=m(x);Component({behaviors:[b.default],properties:{shopId:{type:String,value:""},diningTableNo:{type:String}},data:{shopDefault:{loading:!0,store:{},totalNumber:0,query:{pageNo:0},goodList:[],defaultImg:"http://global.zuzuche.com/assets/images/common/zzc-logo.png"}},attached:function(){this.initStoreo2o()},methods:{initStoreo2o:function(){console.log("this.data.shopId;---------------\x3e",this.data.shopId);var e=void 0,t=this.data.shopDefault;t.shopId=this.data.shopId,t.loading=!0,t.classifySelectedId=0,t.classifySelectedName="",t.classifySelectedSecondId=0,t.classifySelectedSecondName="",t.selectGood=e,t.searchUrl="/pages/shop/search/search?storeid="+this.data.shopId,this.setData({shopDefault:t}),this.queryCategoryList(t.shopId)},queryGoodsList:function(e,t,n){var a=this,i=e||{};t&&o.showLoading({title:"请稍候",mask:!0}),w.default.queryStoreGoodsList(i).then(function(r){t&&o.hideLoading();var s=a.data.shopDefault.goodList;if(a.data.selectGood){if(n&&(s=[],s[0]=a.data.selectGood,console.log("goodList---00->",s)),r.data.data){var d=r.data.data.filter(function(e){return e.id!=a.data.selectGood.id});s=s.concat(d)}}else s=n?r.data.data:s.concat(r.data.data);var u=a.data.shopDefault;u.totalNumber=r.data.total,u.selectGood=null,u.isloadingmore=!1,u.goodList=s,u.loading=!1,u.loadmore=r.data.nextCursor>0,u.query={pageNo:r.data.nextCursor,categoryId:e.categoryId,storeId:a.data.shopDefault.shopId,pId:i.pId||"0"},a.setData({shopDefault:u})}).catch(function(e){console.log(e),o.hideLoading()})},queryCategoryList:function(e){var t=this;e&&w.default.getStorecategoryList({storeId:e}).then(function(e){o.hideLoading();var n=t.data.shopDefault;if(n.store=e.data,n.loading=!1,console.log("tempShopDefault------------\x3e",n),t.setData({shopDefault:n},function(){}),0==t.data.shopDefault.classifySelectedId&&0==t.data.shopDefault.classifySelectedSecondId&&e.data.categoryData.length>0){var a=e.data.categoryData[0].id,i=e.data.categoryData[0].name,r=0,s="";e.data.categoryData[0].categoryList&&e.data.categoryData[0].categoryList.length>0?(r=e.data.categoryData[0].categoryList[0].id,s=e.data.categoryData[0].categoryList[0].name,-30==a?t.queryGoodsList({pId:-30,categoryId:r,storeId:t.data.shopDefault.shopId,pageNo:1},!1,!0):t.queryGoodsList({categoryId:r,storeId:t.data.shopDefault.shopId,pageNo:1},!1,!0)):t.queryGoodsList({categoryId:a,storeId:t.data.shopDefault.shopId,pageNo:1},!1,!0);var d=t.data.shopDefault;d.classifySelectedId=a,d.classifySelectedName=i.trim().split(" "),d.classifySelectedSecondId=r,d.classifySelectedSecondName=s.trim().split(" "),t.setData({shopDefault:d})}else if(t.data.classifySelectedId>0&&""==t.data.classifySelectedName){var u=e.data.categoryData.filter(function(e){return e.id==t.data.classifySelectedId});if(u&&u.length>0){var c=t.data.shopDefault;if(c.classifySelectedName=u[0].name,t.setData({shopDefault:c.classifySelectedName}),t.data.shopDefault.classifySelectedSecondId>0&&""==t.data.shopDefault.classifySelectedSecondName&&u[0].categoryList&&u[0].categoryList.length>0){var l=u[0].categoryList.filter(function(e){return e.id==t.data.shopDefault.classifySelectedSecondId});l&&l.length>0&&t.setData({classifySelectedSecondName:l[0].name.trim().split(" ")})}}}}).catch(function(e){console.log(e),o.hideLoading()})},tapClassify:function(e){var t=e.target.dataset.id,n=e.target.dataset.category;console.log("tapClassify",e.target.dataset);var a=this.data.shopDefault;a.classifySelectedId=n.id,a.classifySelectedName=n.name.trim().split(" "),a.classifySelectedSecondId=0,a.classifySelectedSecondName="",this.setData({shopDefault:a}),n.categoryList&&n.categoryList.length>0?(a.classifySelectedSecondId=n.categoryList[0].id,a.classifySelectedSecondName=n.categoryList[0].name.trim().split(" "),this.setData({shopDefault:a}),-30==t?this.queryGoodsList({pId:-30,categoryId:n.categoryList[0].id,storeId:this.data.shopDefault.shopId,pageNo:1},!0,!0):this.queryGoodsList({categoryId:n.categoryList[0].id,storeId:this.data.shopDefault.shopId,pageNo:1},!0,!0)):this.queryGoodsList({categoryId:t,storeId:this.data.shopDefault.shopId,pageNo:1},!0,!0)},tapSecondClassify:function(e){var t=e.target.dataset.pid,n=e.target.dataset.id,a=e.target.dataset.name;console.log("tapSecondClassify",e.target.dataset);var o=this.data.shopDefault;o.classifySelectedSecondId=n,o.classifySelectedSecondName=a.trim().split(" "),this.setData({shopDefault:o}),-30==t?this.queryGoodsList({pId:-30,categoryId:n,storeId:this.data.shopDefault.shopId,pageNo:1},!0,!0):this.queryGoodsList({categoryId:n,storeId:this.data.shopDefault.shopId,pageNo:1},!0,!0)},goodDetail:function(e){console.log("e---》",e);var t=e.currentTarget.dataset.id;o.navigateTo({url:"/pages/products/show/show?id="+t+"&&isFromShop=true"})},addToCart:function(e){var t=this,n=this,a=e.target.dataset.good;this.setData({currentGood:a});var i=this.data.store;o.showLoading({title:"请稍后",mask:!0}),w.default.queryGoodSku({goodsId:a.id}).then(function(e){if(o.hideLoading(),0==e.status){var r=e.data;r&&r.specs&&r.specs.length>0?(t.setData({"currentGood.num":0,"currentGood.specs":r.specs,"currentGood.skus":r.skus,"currentGood.selectedSpec":new Array(r.specs.length)}),n.toggleDialog(),1==r.specs.length&&r.specs.forEach(function(e,n){var a=e.itemId;e.values.forEach(function(e,o){var i=a+":"+e.itemValueId;r.skus.find(function(e){return e.propertiesValue==i}).quantity<=0&&t.setData(y({},"currentGood.specs["+n+"].values["+o+"].disabled",!0))})})):6!=i.storeType&&a.stock<=0?n.showToast("该商品库存不足！"):w.default.addToCart({goodsId:a.id,quantity:1}).then(function(e){o.hideLoading(),0==e.status?(n.showToast("加入购物车成功！"),n.queryCartInfo(t.data.shopId)):n.showToast("网络连接错误！")}).catch(function(e){console.log("err---\x3e",e),n.showToast(e.data&&e.data.msg?e.data.msg:"网络连接错误！"),o.hideLoading()})}}).catch(function(e){o.hideLoading(),console.log(e)})},toggleDialog:function(){console.log("----O2O----");var e=this.selectComponent("#cartpop");e&&e.toggleDialog()},handleAddToCartSuccess:function(){this.queryCartInfo()},queryCartInfo:function(){var e=this.selectComponent("#cart");e&&e.queryCartInfo()},lower:function(){this.data.shopDefault.loadmore&&!this.data.shopDefault.isloadingmore&&(this.setData({"shopDefault.isloadingmore":!0}),this.queryGoodsList(this.data.shopDefault.query,!1,!1))},setStoreDetail:function(e){console.log("------------setStoreDetail-----------"),this.setData({store:e.detail.store})}}}),Page({})}),window.define("pages/shop/components/store_foodheader/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../../../../network/api"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({properties:{shopId:{type:String,value:""},storeDetail:{type:Object,value:{}}},data:{},attached:function(){this.getStoreDetail()},methods:{getStoreDetail:function(){var e=this;console.log("-------getStoreDetail----aaaaaaaaaaaaaaaaa-",this.data.shopId),o.showLoading({title:"请稍后",mask:!0}),y.default.getStoreDetail({id:this.data.shopId}).then(function(t){o.hideLoading(),e.setData({storeDetail:t.data}),e.triggerEvent("setStoreDetail",{store:t.data},{bubbles:!0,composed:!0})})},jumpstoredetail:function(e){var t=e.currentTarget.dataset.id,n=e.currentTarget.dataset.openevaluate;o.navigateTo({url:"/pages/shop/desc/desc?id="+t+"&openevaluate="+n})},collectionOn:function(){var e=this,t=this.data.storeDetail;t.hasCollection?y.default.unfollowStore({storeId:t.id}).then(function(t){t&&0==t.status&&t.data.result&&e.setData({"storeDetail.hasCollection":!1})}):y.default.followStore({storeId:t.id}).then(function(t){t&&0==t.status&&t.data.result&&e.setData({"storeDetail.hasCollection":!0})})}}}),Page({})}),window.define("pages/shop/components/store_hotel/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=e("../../../../utils/util.js"),w=m(v),x=e("../../../../network/api"),b=m(x);Component({properties:{shopId:{type:String,value:""}},data:{indicatorDots:!1,autoplay:!1,interval:5e3,duration:1e3},attached:function(){this.getStoreDetail()},detached:function(){console.log("---酒店首页组件-------detached----------------")},methods:{queryHomePage:function(){var e=this;console.log("queryHomePage-----------"),o.showLoading({title:"请稍后"});var t=this.data.inTimeObj,n="";n=t&&t.startDate?w.default.timestampToYMD(t.startDate):w.default.getcurrentTimeYMD(),b.default.queryHomePage({id:this.data.shopId,inTime:n}).then(function(t){o.hideLoading(),e.setData({hotelPageData:t.data,store:t.data,isShow:!0}),t.data.roomList.length>0&&e.setData(y({},"hotelPageData.roomList[0].checked",!0)),e.triggerEvent("setStoreDetail",{store:t.data},{bubbles:!0,composed:!0})}).catch(function(e){return console.log(e)})},handleChangeTime:function(e){console.log(e,"e"),this.setData({inTimeObj:e.detail},function(){this.queryHomePage()})},toggleOn:function(e){console.log(e);var t=e.currentTarget.dataset,n=t.index,a=t.item;console.log(n,a,"当前的第呢些"),this.setData(y({},"hotelPageData.roomList["+n+"].checked",!a.checked))},handleStoreMap:function(e){console.log(e,"llllllllllllllllllllllllll");var t=e.currentTarget.dataset.hotelpagedata;o.openLocation({name:t.brandName,address:t.detailAddress,latitude:parseFloat(t.lat),longitude:parseFloat(t.lng),success:function(e){console.log(e)}})},gotoHomeDetail:function(e){var t=e.currentTarget.dataset.id;o.navigateTo({url:"/pages/hotel/room_detail/index?id="+t})},toOrder:function(e){var t=o.getStorageSync("userinfo");if(console.log("userinfo",t),!t||!t.mobile)return void this.setData({showModal:!0,url:"/pages/login/login"});var n=this.selectComponent("#hotel-time");i().setFlash("inTimeObj",{startDate:n.data.startDate||0,endDate:n.data.endDate,statistics_data:n.data.statistics_data,inTime_data:n.data.inTime_data,leaveTime_data:n.data.leaveTime_data}),o.navigateTo({url:"/pages/hotel/order_create/index?roomId="+e.currentTarget.dataset.roomid+"&strategyId="+e.currentTarget.dataset.strategyid+"&storeName="+e.currentTarget.dataset.strategyid+"&roomPrice="+e.currentTarget.dataset.strategyid})}}})}),window.define("pages/shop/components/store_o2o/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=e("../../../../network/api"),w=m(v),x=e("../../../../behaviors/toast.js"),b=m(x);Component({behaviors:[b.default],properties:{shopId:{type:String,value:""}},data:{shopDefault:{loading:!0,store:{},totalNumber:0,query:{pageNo:0},goodList:[],defaultImg:"http://global.zuzuche.com/assets/images/common/zzc-logo.png"}},attached:function(){this.initStoreo2o()},methods:{initStoreo2o:function(){console.log("this.data.shopId;---------------\x3e",this.data.shopId);var e=void 0,t=this.data.shopDefault;t.shopId=this.data.shopId,t.loading=!0,t.classifySelectedId=0,t.classifySelectedName="",t.classifySelectedSecondId=0,t.classifySelectedSecondName="",t.selectGood=e,t.searchUrl="/pages/shop/search/search?storeid="+this.data.shopId,this.setData({shopDefault:t}),this.queryCategoryList(t.shopId)},queryGoodsList:function(e,t,n){var a=this,i=e||{};t&&o.showLoading({title:"请稍候",mask:!0}),w.default.getStoreGoodsListByCategory(i).then(function(r){t&&o.hideLoading();var s=a.data.shopDefault.goodList;if(a.data.selectGood){if(n&&(s=[],s[0]=a.data.selectGood,console.log("goodList---00->",s)),r.data.data){var d=r.data.data.filter(function(e){return e.id!=a.data.selectGood.id});s=s.concat(d)}}else s=n?r.data.data:s.concat(r.data.data);var u=a.data.shopDefault;u.totalNumber=r.data.total,u.selectGood=null,u.isloadingmore=!1,u.goodList=s,u.loading=!1,u.loadmore=r.data.nextCursor>0,u.query={pageNo:r.data.nextCursor,categoryId:e.categoryId,storeId:a.data.shopDefault.shopId,pId:i.pId||"0"},a.setData({shopDefault:u})}).catch(function(e){console.log(e),o.hideLoading()})},queryCategoryList:function(e){var t=this;e&&w.default.getStorecategoryList({storeId:e}).then(function(e){o.hideLoading();var n=t.data.shopDefault;if(n.store=e.data,n.loading=!1,console.log("tempShopDefault------------\x3e",n),t.setData({shopDefault:n},function(){}),0==t.data.shopDefault.classifySelectedId&&0==t.data.shopDefault.classifySelectedSecondId&&e.data.categoryData.length>0){var a=e.data.categoryData[0].id,i=e.data.categoryData[0].name,r=0,s="";e.data.categoryData[0].categoryList&&e.data.categoryData[0].categoryList.length>0?(r=e.data.categoryData[0].categoryList[0].id,s=e.data.categoryData[0].categoryList[0].name,-30==a?t.queryGoodsList({pId:-30,categoryId:r,storeId:t.data.shopDefault.shopId,pageNo:1},!1,!0):t.queryGoodsList({categoryId:r,storeId:t.data.shopDefault.shopId,pageNo:1},!1,!0)):t.queryGoodsList({categoryId:a,storeId:t.data.shopDefault.shopId,pageNo:1},!1,!0);var d=t.data.shopDefault;d.classifySelectedId=a,d.classifySelectedName=i.trim().split(" "),d.classifySelectedSecondId=r,d.classifySelectedSecondName=s.trim().split(" "),t.setData({shopDefault:d})}else if(t.data.classifySelectedId>0&&""==t.data.classifySelectedName){var u=e.data.categoryData.filter(function(e){return e.id==t.data.classifySelectedId});if(u&&u.length>0){var c=t.data.shopDefault;if(c.classifySelectedName=u[0].name,t.setData({shopDefault:c.classifySelectedName}),t.data.shopDefault.classifySelectedSecondId>0&&""==t.data.shopDefault.classifySelectedSecondName&&u[0].categoryList&&u[0].categoryList.length>0){var l=u[0].categoryList.filter(function(e){return e.id==t.data.shopDefault.classifySelectedSecondId});l&&l.length>0&&t.setData({classifySelectedSecondName:l[0].name.trim().split(" ")})}}}}).catch(function(e){console.log(e),o.hideLoading()})},tapClassify:function(e){var t=e.target.dataset.id,n=e.target.dataset.category;console.log("tapClassify",e.target.dataset);var a=this.data.shopDefault;a.classifySelectedId=n.id,a.classifySelectedName=n.name.trim().split(" "),a.classifySelectedSecondId=0,a.classifySelectedSecondName="",this.setData({shopDefault:a}),n.categoryList&&n.categoryList.length>0?(a.classifySelectedSecondId=n.categoryList[0].id,a.classifySelectedSecondName=n.categoryList[0].name.trim().split(" "),this.setData({shopDefault:a}),-30==t?this.queryGoodsList({pId:-30,categoryId:n.categoryList[0].id,storeId:this.data.shopDefault.shopId,pageNo:1},!0,!0):this.queryGoodsList({categoryId:n.categoryList[0].id,storeId:this.data.shopDefault.shopId,pageNo:1},!0,!0)):this.queryGoodsList({categoryId:t,storeId:this.data.shopDefault.shopId,pageNo:1},!0,!0)},tapSecondClassify:function(e){var t=e.target.dataset.pid,n=e.target.dataset.id,a=e.target.dataset.name;console.log("tapSecondClassify",e.target.dataset);var o=this.data.shopDefault;o.classifySelectedSecondId=n,o.classifySelectedSecondName=a.trim().split(" "),this.setData({shopDefault:o}),-30==t?this.queryGoodsList({pId:-30,categoryId:n,storeId:this.data.shopDefault.shopId,pageNo:1},!0,!0):this.queryGoodsList({categoryId:n,storeId:this.data.shopDefault.shopId,pageNo:1},!0,!0)},goodDetail:function(e){console.log("e---》",e);var t=e.currentTarget.dataset.id;o.navigateTo({url:"/pages/products/show/show?id="+t+"&&isFromShop=true"})},addToCart:function(e){var t=this,n=this,a=e.target.dataset.good;this.setData({currentGood:a}),o.showLoading({title:"请稍后",mask:!0}),w.default.queryGoodSku({goodsId:a.id}).then(function(e){if(o.hideLoading(),0==e.status){var i=e.data;i&&i.specs&&i.specs.length>0?(t.setData({"currentGood.num":0,"currentGood.specs":i.specs,"currentGood.skus":i.skus,"currentGood.selectedSpec":new Array(i.specs.length)}),n.toggleDialog(),1==i.specs.length&&i.specs.forEach(function(e,n){var a=e.itemId;e.values.forEach(function(e,o){var r=a+":"+e.itemValueId;i.skus.find(function(e){return e.propertiesValue==r}).quantity<=0&&t.setData(y({},"currentGood.specs["+n+"].values["+o+"].disabled",!0))})})):a.stock<=0?n.showToast("该商品库存不足！"):w.default.addToCart({goodsId:a.id,quantity:1}).then(function(e){o.hideLoading(),0==e.status?(n.showToast("加入购物车成功！"),n.queryCartInfo(t.data.shopId)):n.showToast("网络连接错误！")}).catch(function(e){console.log("err---\x3e",e),n.showToast(e.data&&e.data.msg?e.data.msg:"网络连接错误！"),o.hideLoading()})}}).catch(function(e){o.hideLoading(),console.log(e)})},toggleDialog:function(){console.log("----O2O----");var e=this.selectComponent("#cartpop");e&&e.toggleDialog()},handleAddToCartSuccess:function(){this.queryCartInfo()},queryCartInfo:function(){var e=this.selectComponent("#cart");e&&e.queryCartInfo()},lower:function(){this.data.shopDefault.loadmore&&!this.data.shopDefault.isloadingmore&&(this.setData({"shopDefault.isloadingmore":!0}),this.queryGoodsList(this.data.shopDefault.query,!1,!1))},setStoreDetail:function(e){this.setData({store:e.detail.store}),console.log(this.data.store,"+++")}}}),Page({})}),window.define("pages/shop/components/store_searchbar/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../../../../network/api");!function(e){e&&e.__esModule}(m);Component({properties:{searchUrl:{type:String,value:"/pages/shop/search/search"},q:{type:String,value:"搜索店内商品"},openType:{type:String,value:"navigate"},shopId:{type:Number}},data:{},attached:function(){},methods:{jumpstoredetail:function(e){var t=e.currentTarget.dataset.id;o.navigateTo({url:"/pages/shop/desc/desc?id="+t})}}}),Page({})}),window.define("pages/shop/components/store_service/index",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m=e("../../../../network/api"),y=function(e){return e&&e.__esModule?e:{default:e}}(m);Component({properties:{shopId:{type:String,value:""}},data:{shopService:{shop:{},products:{data:[],nextCursor:1},loadmore:!1}},attached:function(){},methods:{getProducts:function(e){var t=this,n=e.shopId,a=e.pageNo,o=void 0===a?1:a,i=e.pageSize,r=void 0===i?10:i,s=this.data.shopService.products;y.default.queryStoreGoodsList({storeId:n,pageNo:o,pageSize:r}).then(function(e){var n=[];e&&e.data&&e.data.data&&e.data.data.length>0&&s.pageNo!=e.data.nextCursor&&(n=s.data.concat(e.data.data)),console.log("shopService.products.data-------\x3e",t.data.shopService.products.data),t.setData({"shopService.products":e.data,"shopService.products.data":n})})},onReachBottom:function(){console.log("onReachBottom"),3!=this.data.shopService.shop.storeType&&this.data.shopService.products.nextCursor>0&&!this.data.shopService.loadmore&&(this.setData({"shopServcie.loadmore":!0}),this.getProducts({shopId:this.data.shopId,pageNo:this.data.shopService.products.nextCursor,pageSize:10}))},handleOpenMap:function(){var e=this.data.shopService.shop;console.log("store",e),o.openLocation({name:e.storeName,address:e.detailAddress,latitude:parseFloat(e.lat),longitude:parseFloat(e.lng),success:function(e){console.log(e)}})},callShop:function(e){var t=e.currentTarget.dataset.areanum,n=e.currentTarget.dataset.phone;o.makePhoneCall({phoneNumber:t.toString()+n.toString()})},jumpstoredetail:function(e){var t=e.currentTarget.dataset.id,n=e.currentTarget.dataset.openevaluate;o.navigateTo({url:"/pages/shop/desc/desc?id="+t+"&openevaluate="+n})},setStoreDetail:function(e){this.setData({"shopService.shop":e.detail.store}),3!=e.detail.store.storeType&&this.getProducts({shopId:this.data.shopId})}}}),Page({})}),window.define("utils/bomPolyfill",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};"object"===("undefined"==typeof global?"undefined":m(global))&&(global.Array=Array,global.DataView=DataView,global.Date=Date,global.Error=Error,global.Float32Array=Float32Array,global.Float64Array=Float64Array,global.Function=Function,global.Int8Array=Int8Array,global.Int16Array=Int16Array,global.Int32Array=Int32Array,global.Math=Math,global.Object=Object,global.Promise=Promise,global.RegExp=RegExp,global.String=String,global.TypeError=TypeError,global.Uint8Array=Uint8Array,global.Uint8ClampedArray=Uint8ClampedArray,global.Uint16Array=Uint16Array,global.Uint32Array=Uint32Array,global.WeakMap=WeakMap,global.clearTimeout=clearTimeout,global.isFinite=isFinite,global.parseInt=parseInt,global.setTimeout=setTimeout,void 0===r&&(global.window=global))}),window.define("utils/city",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e){for(var t=[],n=0;n<y.length;n++){var a=y[n],o=[],i={};i.initial=a;for(var r=0;r<e.length;r++)a==e[r].initial&&o.push(e[r]);i.cityInfo=o,t.push(i)}return t}Object.defineProperty(n,"__esModule",{value:!0});var y=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","Q","R","S","T","W","X","Y","Z"];n.default={searchLetter:y,cityList:m}}),window.define("utils/const",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={debug:!1,log:!0,devEndPoint:"https://test.huokebao.net/otowap/s/baidu",proEndPoint:"https://xcx.huokebao.net/otowap/s/baidu",devTongji:"https://xcx.yunfenxiao.com.cn/otowap/s",proTongji:"https://xcx.huokebao.net/xcxtj/s",devUploadEndPoint:"https://test.huokebao.net/imgmgr/",proUploadEndPoint:"https://xcx.huokebao.net/imgupload/",devUploadSecretKey:"xcvb0c8vf0b8d0f8gsdf0sd",proUploadSecretKey:"12345678",action:{LOGIN:"LOGIN",ORDER_PAID:"ORDER_PAI",ORDER_CREATED:"ORDER_CREATED",LOCATION_CHANGED:"LOCATION_CHANGED",HOTEL_LOCATION_CHANGED:"HOTEL_LOCATION_CHANGED",ADDRESS_CHANGED:"ADDRESS_CHANGED",GOTO_SHOP:"GOTO_SHOP",NEW_ORDER:"NEW_ORDER",SELECT_CARD_AND_COUPON:"SELECT_CARD_AND_COUPON",SELECT_GIFTCARD:"SELECT_GIFTCARD",ADDRESS_SUCCESS:"ADDRESS_SUCCESS",ADDRESS_LOCATION_SUCCESS:"ADDRESS_LOCATION_SUCCESS",YUYUE_SERVICE:"YUYUE_SERVICE",YUYUE_STAFF:"YUYUE_STAFF",SEARCH_CITY:"SEARCH_CITY",SUPPLY_TYPE:"SUPPLY_TYPE",QUERY_CONFIG_SUCCESS:"QUERY_CONFIG_SUCCESS",BIND_PHONE_SUCCESS:"BIND_PHONE_SUCCESS",HOTEL_DATE_CHANGED:"HOTEL_DATE_CHANGED",HOTEL_SEARCH_DATA:"HOTEL_SEARCH_DATA",CUT_PRICE_SUCCESS:"CUT_PRICE_SUCCESS"}}}),window.define("utils/es6-promise.min",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,o){"object"==(void 0===n?"undefined":m(n))&&void 0!==t?t.exports=o():"function"==typeof a&&a.amd?a(o):e.ES6Promise=o()}(void 0,function(){function t(e){return"function"==typeof e||"object"==(void 0===e?"undefined":m(e))&&null!==e}function n(e){return"function"==typeof e}function a(e){$=e}function o(e){W=e}function i(){return void 0!==Q?function(){Q(c)}:d()}function d(){var e=setTimeout;return function(){return e(c,1)}}function c(){for(var e=0;e<V;e+=2){(0,ee[e])(ee[e+1]),ee[e]=void 0,ee[e+1]=void 0}V=0}function l(e,t){var n=arguments,a=this,o=new this.constructor(h);void 0===o[ne]&&O(o);var i=a._state;return i?function(){var e=n[i-1];W(function(){return P(i,o,e,a._result)})}():T(a,o,e,t),o}function p(e){var t=this;if(e&&"object"==(void 0===e?"undefined":m(e))&&e.constructor===t)return e;var n=new t(h);return S(n,e),n}function h(){}function g(){return new TypeError("You cannot resolve a promise with itself")}function f(){return new TypeError("A promises callback cannot return that same promise.")}function y(e){try{return e.then}catch(e){return re.error=e,re}}function v(e,t,n,a){try{e.call(t,n,a)}catch(e){return e}}function w(e,t,n){W(function(e){var a=!1,o=v(n,t,function(n){a||(a=!0,t!==n?S(e,n):C(e,n))},function(t){a||(a=!0,_(e,t))},"Settle: "+(e._label||" unknown promise"));!a&&o&&(a=!0,_(e,o))},e)}function x(e,t){t._state===oe?C(e,t._result):t._state===ie?_(e,t._result):T(t,void 0,function(t){return S(e,t)},function(t){return _(e,t)})}function b(e,t,a){t.constructor===e.constructor&&a===l&&t.constructor.resolve===p?x(e,t):a===re?(_(e,re.error),re.error=null):void 0===a?C(e,t):n(a)?w(e,t,a):C(e,t)}function S(e,n){e===n?_(e,g()):t(n)?b(e,n,y(n)):C(e,n)}function D(e){e._onerror&&e._onerror(e._result),k(e)}function C(e,t){e._state===ae&&(e._result=t,e._state=oe,0!==e._subscribers.length&&W(k,e))}function _(e,t){e._state===ae&&(e._state=ie,e._result=t,W(D,e))}function T(e,t,n,a){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+oe]=n,o[i+ie]=a,0===i&&e._state&&W(k,e)}function k(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var a=void 0,o=void 0,i=e._result,r=0;r<t.length;r+=3)a=t[r],o=t[r+n],a?P(n,a,o,i):o(i);e._subscribers.length=0}}function I(){this.error=null}function L(e,t){try{return e(t)}catch(e){return se.error=e,se}}function P(e,t,a,o){var i=n(a),r=void 0,s=void 0,d=void 0,u=void 0;if(i){if(r=L(a,o),r===se?(u=!0,s=r.error,r.error=null):d=!0,t===r)return void _(t,f())}else r=o,d=!0;t._state!==ae||(i&&d?S(t,r):u?_(t,s):e===oe?C(t,r):e===ie&&_(t,r))}function q(e,t){try{t(function(t){S(e,t)},function(t){_(e,t)})}catch(t){_(e,t)}}function j(){return de++}function O(e){e[ne]=de++,e._state=void 0,e._result=void 0,e._subscribers=[]}function E(e,t){this._instanceConstructor=e,this.promise=new e(h),this.promise[ne]||O(this.promise),z(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?C(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&C(this.promise,this._result))):_(this.promise,N())}function N(){return new Error("Array Methods must be provided an Array")}function A(e){return new E(this,e).promise}function M(e){var t=this;return new t(z(e)?function(n,a){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(n,a)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function R(e){var t=this,n=new t(h);return _(n,e),n}function G(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function B(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function F(e){this[ne]=j(),this._result=this._state=void 0,this._subscribers=[],h!==e&&("function"!=typeof e&&G(),this instanceof F?q(this,e):B())}function H(){var e=void 0;if("undefined"!=typeof global)e=global;else if(void 0!==u)e=u;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=F}var U=void 0;U=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var z=U,V=0,Q=void 0,$=void 0,W=function(e,t){ee[V]=e,ee[V+1]=t,2===(V+=2)&&($?$(c):te())},Y=void 0!==r?r:void 0,K=Y||{},Z=K.MutationObserver||K.WebKitMutationObserver,J=void 0===u&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),X="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ee=new Array(1e3),te=void 0;te=J?function(){return function(){return process.nextTick(c)}}():Z?function(){var e=0,t=new Z(c),n=s.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():X?function(){var e=new MessageChannel;return e.port1.onmessage=c,function(){return e.port2.postMessage(0)}}():void 0===Y&&"function"==typeof e?function(){try{var t=e,n=t("vertx");return Q=n.runOnLoop||n.runOnContext,i()}catch(e){return d()}}():d();var ne=Math.random().toString(36).substring(16),ae=void 0,oe=1,ie=2,re=new I,se=new I,de=0;return E.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===ae&&n<e;n++)this._eachEntry(t[n],n)},E.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,a=n.resolve;if(a===p){var o=y(e);if(o===l&&e._state!==ae)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===F){var i=new n(h);b(i,e,o),this._willSettleAt(i,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(a(e),t)},E.prototype._settledAt=function(e,t,n){var a=this.promise;a._state===ae&&(this._remaining--,e===ie?_(a,n):this._result[t]=n),0===this._remaining&&C(a,this._result)},E.prototype._willSettleAt=function(e,t){var n=this;T(e,void 0,function(e){return n._settledAt(oe,t,e)},function(e){return n._settledAt(ie,t,e)})},F.all=A,F.race=M,F.resolve=p,F.reject=R,F._setScheduler=a,F._setAsap=o,F._asap=W,F.prototype={constructor:F,then:l,catch:function(e){return this.then(null,e)}},F.polyfill=H,F.Promise=F,F})}),window.define("utils/form",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var m={id:1,name:"我是自定义表单",config:{mode:"row/column",marginBottom:"10rpx",backgroundColor:"#ffffff"},submit:{name:"确定",backgroundColor:"red",fontColor:"black",toast:"表单提交成功"},fields:[{name:"field99",label:"我是个picker",type:"picker",placeholder:"请选择",options:[{id:1,value:"男",checked:!0},{id:2,value:"女"}],validations:{presence:{allowEmpty:!1}}},{name:"field1",label:"姓名",type:"text",placeholder:"请填写姓名",validations:{presence:{allowEmpty:!1}}},{name:"field2",label:"手机号",type:"text",placeholder:"请填写手机号码",validations:{presence:{allowEmpty:!1},cellphone:!0}},{name:"field3",label:"电子邮箱",type:"text",placeholder:"请填写电子邮箱",validations:{presence:{allowEmpty:!1},email:!0}},{name:"field4",label:"个人主页",type:"text",placeholder:"请填写个人主页地址",validations:{presence:{allowEmpty:!1},url:!0}},{name:"field5",label:"身份证号",type:"text",placeholder:"请填写身份证号码",validations:{presence:{allowEmpty:!1},idcard:!0}},{name:"field15",label:"电话号码",type:"number",placeholder:"请填写身份证号码",validations:{presence:{allowEmpty:!1},numericality:{onlyInteger:!1,greaterThanOrEqualTo:0,lessThanOrEqualTo:30,decimal:2}}},{name:"field6",type:"radio",mode:"text",label:"性别",options:[{id:1,value:"男",checked:!0},{id:2,value:"女"}],validations:{presence:{allowEmpty:!1}}},{name:"field7",type:"radio",mode:"image",label:"请选择照片",options:[{id:1,checked:!0,imgUrl:"https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=1287740963,2048179542&fm=27&gp=0.jpg",value:"男"},{id:2,imgUrl:"https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=343974559,780603549&fm=27&gp=0.jpg",value:"女"},{id:3,imgUrl:"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=3702339158,635303188&fm=11&gp=0.jpg",value:"女"},{id:4,imgUrl:"https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=3052387893,146229132&fm=27&gp=0.jpg",value:"女"},{id:5,imgUrl:"https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=2242980108,2232816867&fm=27&gp=0.jpg",value:"女"},{id:6,imgUrl:"https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=752075015,280752760&fm=27&gp=0.jpg",value:"女"}],validations:{presence:{allowEmpty:!1}}},{name:"field8",type:"checkbox",label:"爱好",mode:"text",options:[{id:1,value:"请选择出生日期请选择出生日期请选择出生日期请选择出生日期请选择出生日期哈哈哈",checked:!0},{id:2,value:"呵呵呵",checked:!0}],validations:{presence:{allowEmpty:!1}}},{name:"field9",type:"checkbox",label:"喜欢的美女",mode:"image",options:[{id:1,imgUrl:"https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=898521012,1901217851&fm=27&gp=0.jpg",value:"哈哈哈"},{id:2,imgUrl:"https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=1341080178,3231779462&fm=200&gp=0.jpg",value:"呵呵呵"}],validations:{presence:{allowEmpty:!1}}},{name:"field10",type:"date",mode:"date",label:"出生日期",placeholder:"请选择出生日期",validations:{presence:{allowEmpty:!1}}},{name:"field11",type:"date",mode:"datetime",label:"到店时间",placeholder:"请选择到店时间",validations:{presence:{allowEmpty:!1}}},{name:"field12",type:"date",mode:"time",label:"每天郁闷时间",placeholder:"请选择时间",validations:{presence:{allowEmpty:!1}}},{name:"field13",type:"location",label:"家庭住址",placeholder:"请填写家庭住址",validations:{presence:{allowEmpty:!1}}},{name:"field14",type:"upload",label:"上传个人美拍照",validations:{presence:{allowEmpty:!1},length:{maximum:3}}},{name:"field17",type:"textarea",label:"上传个人美拍照",placeholder:"上传个人美拍照",validations:{presence:{allowEmpty:!1}}}]};n.default=m}),window.define("utils/location",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var y=e("../network/api.js"),v=m(y),w=e("./es6-promise.min.js"),x=m(w),b=e("./notification"),S=m(b),D=e("./const.js"),C=m(D),c={authLocation:function(){return new x.default(function(e,t){o.getSetting({success:function(n){console.log(n),n.authSetting["scope.userLocation"]?e(!0):o.authorize({scope:"scope.userLocation",success:function(t){e(t)},fail:function(){t("auth failed")}})},fail:function(){t("open setting failed")}})})},queryLocation:function(){var e={},t=new x.default(function(e,t){setTimeout(function(){t("timeout")},5e3)}),n=new x.default(function(t,n){o.getLocation({type:"wgs84",success:function(n){n.latitude,n.longitude;e=Object.assign({},e,n),t(e)},fail:function(){console.log("---get location failed----"),n("get location failed")}})});return x.default.race([t,n])},getLocation:function(){var e={};return this.queryLocation().then(function(t){return e=Object.assign({},e,t),v.default.getUserLocation({latitude:e.latitude,longitude:e.longitude,type:1})}).then(function(t){return e=Object.assign({},e,t.data),i().globalData.location=e,o.setStorageSync("location",e),S.default.post(C.default.action.LOCATION_CHANGED,e),x.default.resolve(t.data)})},getLocationInfo:function(){var e={};return this.queryLocation().then(function(t){return e=Object.assign({},e,t),v.default.getUserLocationInfo({latitude:e.latitude,longitude:e.longitude,type:1})}).then(function(t){return e=Object.assign({},e,t.data),x.default.resolve(t.data)})},ensureLocation:function(e){var t=this;return e.isEnableLocation?this.authLocation().then(function(e){return t.getLocation()}).catch(function(e){return x.default.reject(e)}):x.default.resolve("no need location")}};n.default=c}),window.define("utils/notification",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var m={notificationCenter:{},register:function(e,t,n){if(e&&t&&n){console.log("注册通知：",e,t);var a=this.notificationCenter,o=a[e];o||(o=[]),this.remove(e,t),o.push({observer:t,func:n}),a[e]=o}},remove:function(e,t){if(e&&t){console.log("移除通知：",e);var n=this.notificationCenter,a=n[e];if(a){var o,i;for(o=0;o<a.length;o++){var r=a[o];if(r.observer==t){i=r;break}}i&&a.splice(o,1),n[e]=a}}},post:function(e,t){var n={};if(n.data=t,e){console.log("发送通知：",e,t);var a=this.notificationCenter[e];a&&0!=a.length&&(n.name=e,a.forEach(function(e){if(e.observer){var t;e.action&&(t=e.observer[e.action]),t||(t=e.func),t&&(n.observer=e.observer,t(n))}}),console.log("完成向 ",a.length," 个监听者发出通知：",e))}}};n.default=m}),window.define("utils/util",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(){for(var e=arguments[0],t=arguments.length,n=1;n<t;n++){var a=arguments[n];for(var o in a)if("object"==P(a[o])){var i=a[o];e.data||(e.data={}),e.data[o]=i}else e[o]=a[o]}return e}function y(e){return"function"==typeof e}function v(e){return encodeURIComponent(JSON.stringify(e))}function w(e){return JSON.parse(decodeURIComponent(e))}function x(e){return!!/^1(3|4|5|7|8)\d{9}$/.test(e)}function b(e){if(e<=0)return{days:"00",hours:"00",minutes:"00",seconds:"00"};var t=parseInt(e/60/60/24,10),n=parseInt(e/60/60%24,10),a=parseInt(e/60%60,10),o=parseInt(e%60,10);return t=S(t),n=S(n),a=S(a),o=S(o),{days:t,hours:n,minutes:a,seconds:o}}function S(e){return e<10&&(e="0"+e),e}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd hh:mm:ss",n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var a in n)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[a]:("00"+n[a]).substr((""+n[a]).length)));return t}function C(e){var t=new Date;t.setDate(t.getDate()+e);var n=t.getMonth()+1,a=t.getDate();return(n>9?n:"0"+n+"月")+(a>9?a:"0"+a)+"日"}function _(e,t){var n=new Date(e),a=n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1,o=n.getDate(),i=(e-new Date((new Date).setHours(0,0,0,0)))/864e5,r="";if(t)switch(i){case 0:r=" 今天";break;case 1:r=" 明天";break;case 2:r=" 后天"}return a+"月"+(o>9?o:"0"+o)+"日"+r}function T(e){var t=new Date(e),n=t.getFullYear(),a=t.getMonth()+1;a=a<10?"0"+a:a;var o=t.getDate();return o=o<10?"0"+o:o,n+"-"+a+"-"+o}function k(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1;n=n<10?"0"+n:n;var a=e.getDate();return a=a<10?"0"+a:a,console.log("getcurrentTimeYMD===>",t+"-"+n+"-"+a),t+"-"+n+"-"+a}function I(e){var t=new Date;t.setDate(t.getDate()+e);var n=t.getFullYear(),a=t.getMonth()+1,o=t.getDate();return n+"-"+(a>9?a:"0"+a+"-")+(o>9?o:"0"+o)}function L(e,t){if(t.properties){e.properties||(e.properties={});for(var n in t.properties)e.properties[n]=t.properties[n]}if(t.data){e.data||(e.data={});for(var a in t.data)e.data[a]=t.data[a]}if(t.methods)for(var o in t.methods)e[o]=t.methods[o].bind(e)}Object.defineProperty(n,"__esModule",{value:!0});var P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.bindBehavior=L,t.exports={bindBehavior:L,renderTimer:b,testMobile:x,registComp:m,isFunction:y,stringify:v,parse:w,formatTime:D,getDateStr:C,timestampToTime:_,getcurrentTimeYMD:k,timestampToYMD:T,getDateYMD:I}}),window.define("utils/validate",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(e,t,n){var a=function e(t,n,a){a=o.extend({},o.options,a);var i=o.runValidations(t,n,a);if(i.some(function(e){return o.isPromise(e.error)}))throw new Error("Use validate.async if you want support for promises");return e.processValidationResults(i,a)},o=a;o.extend=function(e){return[].slice.call(arguments,1).forEach(function(t){for(var n in t)e[n]=t[n]}),e},o.extend(a,{version:{major:0,minor:12,patch:0,metadata:"development",toString:function(){var e=o.format("%{major}.%{minor}.%{patch}",o.version);return o.isEmpty(o.version.metadata)||(e+="+"+o.version.metadata),e}},Promise:"undefined"!=typeof Promise?Promise:null,EMPTY_STRING_REGEXP:/^\s*$/,runValidations:function(e,t,n){var a,i,r,s,d,u,c,l=[];(o.isDomElement(e)||o.isJqueryElement(e))&&(e=o.collectFormValues(e));for(a in t){r=o.getDeepObjectValue(e,a),s=o.result(t[a],r,e,a,n,t);for(i in s){if(!(d=o.validators[i]))throw c=o.format("Unknown validator %{name}",{name:i}),new Error(c);u=s[i],u=o.result(u,r,e,a,n,t),u&&l.push({attribute:a,value:r,validator:i,globalOptions:n,attributes:e,options:u,error:d.call(d,r,u,a,e,n)})}}return l},processValidationResults:function(e,t){e=o.pruneEmptyErrors(e,t),e=o.expandMultipleErrors(e,t);var n=t.format||"grouped";if("function"!=typeof o.formatters[n])throw new Error(o.format("Unknown format %{format}",t));return e=o.formatters[n](e),o.isEmpty(e)?void 0:e},async:function(e,t,n){n=o.extend({},o.async.options,n);var a=n.wrapErrors||function(e){return e};!1!==n.cleanAttributes&&(e=o.cleanAttributes(e,t));var i=o.runValidations(e,t,n);return new o.Promise(function(r,s){o.waitForResults(i).then(function(){var d=o.processValidationResults(i,n);d?s(new a(d,n,e,t)):r(e)},function(e){s(e)})})},single:function(e,t,n){return n=o.extend({},o.single.options,n,{format:"flat",fullMessages:!1}),o({single:e},{single:t},n)},waitForResults:function(e){return e.reduce(function(e,t){return o.isPromise(t.error)?e.then(function(){return t.error.then(function(e){t.error=e||null})}):e},new o.Promise(function(e){e()}))},result:function(e){var t=[].slice.call(arguments,1);return"function"==typeof e&&(e=e.apply(null,t)),e},isNumber:function(e){return"number"==typeof e&&!isNaN(e)},isFunction:function(e){return"function"==typeof e},isInteger:function(e){return o.isNumber(e)&&e%1==0},isBoolean:function(e){return"boolean"==typeof e},isObject:function(e){return e===Object(e)},isDate:function(e){return e instanceof Date},isDefined:function(e){return null!==e&&void 0!==e},isPromise:function(e){return!!e&&o.isFunction(e.then)},isJqueryElement:function(e){return e&&o.isString(e.jquery)},isDomElement:function(e){return!!e&&(!(!e.querySelectorAll||!e.querySelector)&&(!(!o.isObject(s)||e!==s)||("object"===("undefined"==typeof HTMLElement?"undefined":m(HTMLElement))?e instanceof HTMLElement:e&&"object"===(void 0===e?"undefined":m(e))&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName)))},isEmpty:function(e){var t;if(!o.isDefined(e))return!0;if(o.isFunction(e))return!1;if(o.isString(e))return o.EMPTY_STRING_REGEXP.test(e);if(o.isArray(e))return 0===e.length;if(o.isDate(e))return!1;if(o.isObject(e)){for(t in e)return!1;return!0}return!1},format:o.extend(function(e,t){return o.isString(e)?e.replace(o.format.FORMAT_REGEXP,function(e,n,a){return"%"===n?"%{"+a+"}":String(t[a])}):e},{FORMAT_REGEXP:/(%?)%\{([^\}]+)\}/g}),prettify:function(e){return o.isNumber(e)?100*e%1==0?""+e:parseFloat(Math.round(100*e)/100).toFixed(2):o.isArray(e)?e.map(function(e){return o.prettify(e)}).join(", "):o.isObject(e)?e.toString():(e=""+e,e.replace(/([^\s])\.([^\s])/g,"$1 $2").replace(/\\+/g,"").replace(/[_-]/g," ").replace(/([a-z])([A-Z])/g,function(e,t,n){return t+" "+n.toLowerCase()}).toLowerCase())},stringifyValue:function(e,t){return(t&&t.prettify||o.prettify)(e)},isString:function(e){return"string"==typeof e},isArray:function(e){return"[object Array]"==={}.toString.call(e)},isHash:function(e){return o.isObject(e)&&!o.isArray(e)&&!o.isFunction(e)},contains:function(e,t){return!!o.isDefined(e)&&(o.isArray(e)?-1!==e.indexOf(t):t in e)},unique:function(e){return o.isArray(e)?e.filter(function(e,t,n){return n.indexOf(e)==t}):e},forEachKeyInKeypath:function(e,t,n){if(o.isString(t)){var a,i="",r=!1;for(a=0;a<t.length;++a)switch(t[a]){case".":r?(r=!1,i+="."):(e=n(e,i,!1),i="");break;case"\\":r?(r=!1,i+="\\"):r=!0;break;default:r=!1,i+=t[a]}return n(e,i,!0)}},getDeepObjectValue:function(e,t){if(o.isObject(e))return o.forEachKeyInKeypath(e,t,function(e,t){if(o.isObject(e))return e[t]})},collectFormValues:function(e,t){var n,a,i,r,s,d,u={};if(o.isJqueryElement(e)&&(e=e[0]),!e)return u;for(t=t||{},r=e.querySelectorAll("input[name], textarea[name]"),n=0;n<r.length;++n)i=r.item(n),o.isDefined(i.getAttribute("data-ignored"))||(name=i.name.replace(/\./g,"\\\\."),d=o.sanitizeFormValue(i.value,t),"number"===i.type?d=d?+d:null:"checkbox"===i.type?i.attributes.value?i.checked||(d=u[name]||null):d=i.checked:"radio"===i.type&&(i.checked||(d=u[name]||null)),u[name]=d);for(r=e.querySelectorAll("select[name]"),n=0;n<r.length;++n)if(i=r.item(n),!o.isDefined(i.getAttribute("data-ignored"))){if(i.multiple){d=[];for(a in i.options)(s=i.options[a])&&s.selected&&d.push(o.sanitizeFormValue(s.value,t))}else{var c=void 0!==i.options[i.selectedIndex]?i.options[i.selectedIndex].value:"";d=o.sanitizeFormValue(c,t)}u[i.name]=d}return u},sanitizeFormValue:function(e,t){return t.trim&&o.isString(e)&&(e=e.trim()),!1!==t.nullify&&""===e?null:e},capitalize:function(e){return o.isString(e)?e[0].toUpperCase()+e.slice(1):e},pruneEmptyErrors:function(e){return e.filter(function(e){return!o.isEmpty(e.error)})},expandMultipleErrors:function(e){var t=[];return e.forEach(function(e){o.isArray(e.error)?e.error.forEach(function(n){t.push(o.extend({},e,{error:n}))}):t.push(e)}),t},convertErrorMessages:function(e,t){t=t||{};var n=[],a=t.prettify||o.prettify;return e.forEach(function(e){var i=o.result(e.error,e.value,e.attribute,e.options,e.attributes,e.globalOptions);if(!o.isString(i))return void n.push(e);"^"===i[0]?i=i.slice(1):!1!==t.fullMessages&&(i=o.capitalize(a(e.attribute))+" "+i),i=i.replace(/\\\^/g,"^"),i=o.format(i,{value:o.stringifyValue(e.value,t)}),n.push(o.extend({},e,{error:i}))}),n},groupErrorsByAttribute:function(e){var t={};return e.forEach(function(e){var n=t[e.attribute];n?n.push(e):t[e.attribute]=[e]}),t},flattenErrorsToArray:function(e){return e.map(function(e){return e.error}).filter(function(e,t,n){return n.indexOf(e)===t})},cleanAttributes:function(e,t){function n(e,t,n){return o.isObject(e[t])?e[t]:e[t]=!!n||{}}function a(e,t){if(!o.isObject(e))return e;var n,i,r=o.extend({},e);for(i in e)n=t[i],o.isObject(n)?r[i]=a(r[i],n):n||delete r[i];return r}return o.isObject(t)&&o.isObject(e)?(t=function(e){var t,a={};for(t in e)e[t]&&o.forEachKeyInKeypath(a,t,n);return a}(t),a(e,t)):{}},exposeModule:function(e,t,n,a,o){n?(a&&a.exports&&(n=a.exports=e),n.validate=e):(t.validate=e,e.isFunction(o)&&o.amd&&o([],function(){return e}))},warn:function(e){"undefined"!=typeof console&&console.warn&&console.warn("[validate.js] "+e)},error:function(e){"undefined"!=typeof console&&console.error&&console.error("[validate.js] "+e)}}),a.validators={presence:function(e,t){if(t=o.extend({},this.options,t),!1!==t.allowEmpty?!o.isDefined(e):o.isEmpty(e))return"不能为空"},length:function(e,t,n){if(o.isDefined(e)){t=o.extend({},this.options,t);var a,i=t.is,r=t.maximum,s=t.minimum,d=t.tokenizer||function(e){return e},u=[];e=d(e);var c=e.length;return o.isNumber(c)?(o.isNumber(i)&&c!==i&&(a=t.wrongLength||this.wrongLength||"is the wrong length (should be %{count} characters)",u.push(o.format(a,{count:i}))),o.isNumber(s)&&c<s&&(a=t.tooShort||this.tooShort||"is too short (minimum is %{count} characters)",u.push(o.format(a,{count:s}))),o.isNumber(r)&&c>r&&(a=t.tooLong||this.tooLong||"is too long (maximum is %{count} characters)",u.push(o.format(a,{count:r}))),u.length>0?t.message||u:void 0):t.message||this.notValid||"has an incorrect length"}},numericality:function(e,t,n,a,i){if(o.isDefined(e)&&!o.isEmpty(e)){t=o.extend({},this.options,t);var r,s,d=[],u={greaterThan:function(e,t){return e>t},greaterThanOrEqualTo:function(e,t){return e>=t},equalTo:function(e,t){return e===t},lessThan:function(e,t){return e<t},lessThanOrEqualTo:function(e,t){return e<=t},divisibleBy:function(e,t){return e%t==0}},c=t.prettify||i&&i.prettify||o.prettify;if(o.isString(e)&&t.strict){var l="^-?(0|[1-9]\\d*)";if(t.onlyInteger||(l+="(\\.\\d+)?"),l+="$",!new RegExp(l).test(e))return t.message||t.notValid||this.notValid||this.message||"必须是数字"}if(!0!==t.noStrings&&o.isString(e)&&!o.isEmpty(e)&&(e=+e),!o.isNumber(e))return t.message||t.notValid||this.notValid||this.message||"必须是数字";if(t.onlyInteger&&!o.isInteger(e))return t.message||t.notInteger||this.notInteger||this.message||"必须是整数";if(!t.onlyInteger&&t.decimal){var p=e.toString().split(".")[1];if(p&&p.length>t.decimal)return"最多允许"+t.decimal+"位小数"}for(r in u)if(s=t[r],o.isNumber(s)&&!u[r](e,s)){var h="not"+o.capitalize(r),g=t[h]||this[h]||this.message||"必须%{type} %{count}",f=void 0;switch(r){case"greaterThan":f="大于";break;case"greaterThanOrEqualTo":f="大于等于";break;case"lessThan":f="小于";break;case"lessThanOrEqualTo":f="小于等于";break;default:f=r}d.push(o.format(g,{count:s,type:c(f)}))}return t.odd&&e%2!=1&&d.push(t.notOdd||this.notOdd||this.message||"must be odd"),t.even&&e%2!=0&&d.push(t.notEven||this.notEven||this.message||"must be even"),d.length?t.message||d:void 0}},datetime:o.extend(function(e,t){if(!o.isFunction(this.parse)||!o.isFunction(this.format))throw new Error("Both the parse and format functions needs to be set to use the datetime/date validator");if(o.isDefined(e)){t=o.extend({},this.options,t);var n,a=[],i=t.earliest?this.parse(t.earliest,t):NaN,r=t.latest?this.parse(t.latest,t):NaN;return e=this.parse(e,t),isNaN(e)||t.dateOnly&&e%864e5!=0?(n=t.notValid||t.message||this.notValid||"must be a valid date",o.format(n,{value:arguments[0]})):(!isNaN(i)&&e<i&&(n=t.tooEarly||t.message||this.tooEarly||"must be no earlier than %{date}",n=o.format(n,{value:this.format(e,t),date:this.format(i,t)}),a.push(n)),!isNaN(r)&&e>r&&(n=t.tooLate||t.message||this.tooLate||"must be no later than %{date}",n=o.format(n,{date:this.format(r,t),value:this.format(e,t)}),a.push(n)),a.length?o.unique(a):void 0)}},{parse:null,format:null}),date:function(e,t){return t=o.extend({},t,{dateOnly:!0}),o.validators.datetime.call(o.validators.datetime,e,t)},format:function(e,t){(o.isString(t)||t instanceof RegExp)&&(t={pattern:t}),t=o.extend({},this.options,t);var n,a=t.message||this.message||"is invalid",i=t.pattern;if(o.isDefined(e))return o.isString(e)?(o.isString(i)&&(i=new RegExp(t.pattern,t.flags)),n=i.exec(e),n&&n[0].length==e.length?void 0:a):a},inclusion:function(e,t){if(o.isDefined(e)&&(o.isArray(t)&&(t={within:t}),t=o.extend({},this.options,t),!o.contains(t.within,e))){var n=t.message||this.message||"^%{value} is not included in the list";return o.format(n,{value:e})}},exclusion:function(e,t){if(o.isDefined(e)&&(o.isArray(t)&&(t={within:t}),t=o.extend({},this.options,t),o.contains(t.within,e))){var n=t.message||this.message||"^%{value} is restricted";return o.isString(t.within[e])&&(e=t.within[e]),o.format(n,{value:e})}},email:o.extend(function(e,t){t=o.extend({},this.options,t);var n=t.message||this.message||"请输入合法的email";if(o.isDefined(e)&&!o.isEmpty(e))return o.isString(e)&&this.PATTERN.exec(e)?void 0:n},{PATTERN:/^(?:[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i}),equality:function(e,t,n,a,i){if(o.isDefined(e)){o.isString(t)&&(t={attribute:t}),t=o.extend({},this.options,t);var r=t.message||this.message||"is not equal to %{attribute}";if(o.isEmpty(t.attribute)||!o.isString(t.attribute))throw new Error("The attribute must be a non empty string");var s=o.getDeepObjectValue(a,t.attribute),d=t.comparator||function(e,t){return e===t},u=t.prettify||i&&i.prettify||o.prettify;return d(e,s,t,n,a)?void 0:o.format(r,{attribute:u(t.attribute)})}},url:function(e,t){if(o.isDefined(e)&&!o.isEmpty(e)){t=o.extend({},this.options,t);var n=t.message||this.message||"请输入合法的网址，http或者https开头",a=t.schemes||this.schemes||["http","https"],i=t.allowLocal||this.allowLocal||!1;if(!o.isString(e))return n;var r="^(?:(?:"+a.join("|")+")://)(?:\\S+(?::\\S*)?@)?(?:",s="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))";i?s+="?":r+="(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})",r+="(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*"+s+")(?::\\d{2,5})?(?:[/?#]\\S*)?$";return new RegExp(r,"i").exec(e)?void 0:n}},cellphone:o.extend(function(e,t){t=o.extend({},this.options,t);var n=t.message||this.message||"请输入正确的手机号码";if(o.isDefined(e)&&!o.isEmpty(e))return o.isString(e)&&this.PATTERN.exec(e)?void 0:n},{PATTERN:/^1(3|4|5|7|8)\d{9}$/}),idcard:o.extend(function(e,t){t=o.extend({},this.options,t);var n=t.message||this.message||"请输入合法的身份证号码";if(o.isDefined(e)&&!o.isEmpty(e))return o.isString(e)&&this.PATTERN.exec(e)?void 0:n},{PATTERN:/^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/})},a.formatters={detailed:function(e){return e},flat:o.flattenErrorsToArray,grouped:function(e){var t;e=o.groupErrorsByAttribute(e);for(t in e)e[t]=o.flattenErrorsToArray(e[t]);return e},constraint:function(e){var t;e=o.groupErrorsByAttribute(e);for(t in e)e[t]=e[t].map(function(e){return e.validator}).sort();return e}},a.formatters.array=function(e){return e.map(function(e){return e.error})},a.exposeModule(a,this,e,t,n)}).call(void 0,void 0!==n?n:null,void 0!==t?t:null,void 0!==a?a:null)}),window.define("utils/wxParse/html2json",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e){for(var t={},n=e.split(","),a=0;a<n.length;a++)t[n[a]]=!0;return t}function y(e){return e.replace(/<\?xml.*\?>\n/,"").replace(/<.*!doctype.*\>\n/,"").replace(/<.*!DOCTYPE.*\>\n/,"").replace(/&quot;/g,"").replace(/&nbsp;/g,"").replace(/&lt;/g,"").replace(/&gt;/g,"").replace(/&amp;/g,"").replace(/&apos;/g,"").replace(/&ensp;/g,"").replace(/&emsp;/g,"")}function v(e){return e.replace(/\r?\n+/g,"").replace(/<!--.*?-->/gi,"").replace(/\/\*.*?\*\//gi,"").replace(/[ ]+</gi,"<")}function w(e,t){e=y(e),e=v(e),e=T.strDiscode(e);var n=[],a={node:t,nodes:[],images:[],imageUrls:[]},o=0;return k(e,{start:function(e,i,r){var s={node:"element",tag:e};if(0===n.length)s.index=o.toString(),o+=1;else{var d=n[0];void 0===d.nodes&&(d.nodes=[]),s.index=d.index+"."+d.nodes.length}if(I[e]?s.tagType="block":L[e]?s.tagType="inline":P[e]&&(s.tagType="closeSelf"),0!==i.length&&(s.attr=i.reduce(function(e,t){var n=t.name,a=t.value;return"class"==n&&(s.classStr=a),"style"==n&&(s.styleStr=a),a.match(/ /)&&(a=a.split(" ")),e[n]?Array.isArray(e[n])?e[n].push(a):e[n]=[e[n],a]:e[n]=a,e},{})),"img"===s.tag){s.imgIndex=a.images.length;var u=s.attr.src;""==u[0]&&u.splice(0,1),u=T.urlToHttpUrl(u,S),s.attr.src=u,s.from=t,a.images.push(s),a.imageUrls.push(u)}if("font"===s.tag){var c=["x-small","small","medium","large","x-large","xx-large","-webkit-xxx-large"],l={color:"color",face:"font-family",size:"font-size"};s.attr.style||(s.attr.style=[]),s.styleStr||(s.styleStr="");for(var p in l)if(s.attr[p]){var h="size"===p?c[s.attr[p]-1]:s.attr[p];s.attr.style.push(l[p]),s.attr.style.push(h),s.styleStr+=l[p]+": "+h+";"}}if("source"===s.tag&&(a.source=s.attr.src),r){var d=n[0]||a;void 0===d.nodes&&(d.nodes=[]),d.nodes.push(s)}else n.unshift(s)},end:function(e){var t=n.shift();if(t.tag!==e&&console.error("invalid state: mismatch end tag"),"video"===t.tag&&a.source&&(t.attr.src=a.source,delete a.source),0===n.length)a.nodes.push(t);else{var o=n[0];void 0===o.nodes&&(o.nodes=[]),o.nodes.push(t)}},chars:function(e){var t={node:"text",text:e,textArray:x(e)};if(0===n.length)t.index=o.toString(),o+=1,a.nodes.push(t);else{var i=n[0];void 0===i.nodes&&(i.nodes=[]),t.index=i.index+"."+i.nodes.length,i.nodes.push(t)}},comment:function(e){}}),a}function x(e){var t=[];if(0==D.length||!_){var n={};return n.node="text",n.text=e,o=[n]}e=e.replace(/\[([^\[\]]+)\]/g,":$1:");for(var a=new RegExp("[:]"),o=e.split(a),i=0;i<o.length;i++){var r=o[i],n={};_[r]?(n.node="element",n.tag="emoji",n.text=_[r],n.baseSrc=C):(n.node="text",n.text=r),t.push(n)}return t}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/wxParse/emojis/",n=arguments[2];D=e,C=t,_=n}var S="https",D="",C="",_={},T=e("./wxDiscode.js"),k=e("./htmlparser.js"),I=(m("area,base,basefont,br,col,frame,hr,img,input,link,meta,param,embed,command,keygen,source,track,wbr"),m("br,a,code,address,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video")),L=m("abbr,acronym,applet,b,basefont,bdo,big,button,cite,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),P=m("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");m("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),m("wxxxcode-style,script,style,view,scroll-view,block");t.exports={html2json:w,emojisInit:b}}),window.define("utils/wxParse/htmlparser",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e,t){function n(e,n,o,i){if(n=n.toLowerCase(),S[n])for(;s.last()&&D[s.last()];)a("",s.last());if(C[n]&&s.last()==n&&a("",n),i=b[n]||!!i,i||s.push(n),t.start){var r=[];o.replace(x,function(e,t){var n=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:_[t]?t:"";r.push({name:t,value:n,escaped:n.replace(/(^|[^\\])"/g,'$1\\"')})}),t.start&&t.start(n,r,i)}}function a(e,n){if(n){n=n.toLowerCase();for(var a=s.length-1;a>=0&&s[a]!=n;a--);}else var a=0;if(a>=0){for(var o=s.length-1;o>=a;o--)t.end&&t.end(s[o]);s.length=a}}var o,i,r,s=[],d=e;for(s.last=function(){return this[this.length-1]};e;){if(i=!0,s.last()&&T[s.last()])e=e.replace(new RegExp("([\\s\\S]*?)</"+s.last()+"[^>]*>"),function(e,n){return n=n.replace(/<!--([\s\S]*?)-->|<!\[CDATA\[([\s\S]*?)]]>/g,"$1$2"),t.chars&&t.chars(n),""}),a("",s.last());else if(0==e.indexOf("\x3c!--")?(o=e.indexOf("--\x3e"))>=0&&(t.comment&&t.comment(e.substring(4,o)),e=e.substring(o+3),i=!1):0==e.indexOf("</")?(r=e.match(w))&&(e=e.substring(r[0].length),r[0].replace(w,a),i=!1):0==e.indexOf("<")&&(r=e.match(v))&&(e=e.substring(r[0].length),r[0].replace(v,n),i=!1),i){o=e.indexOf("<");for(var u="";0===o;)u+="<",e=e.substring(1),o=e.indexOf("<");u+=o<0?e:e.substring(0,o),e=o<0?"":e.substring(o),t.chars&&t.chars(u)}if(e==d)throw"Parse Error: "+e;d=e}a()}function y(e){for(var t={},n=e.split(","),a=0;a<n.length;a++)t[n[a]]=!0;return t}var v=/^<([-A-Za-z0-9_]+)((?:\s+[a-zA-Z_:][-a-zA-Z0-9_:.]*(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,w=/^<\/([-A-Za-z0-9_]+)[^>]*>/,x=/([a-zA-Z_:][-a-zA-Z0-9_:.]*)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,b=y("area,base,basefont,br,col,frame,hr,img,input,link,meta,param,embed,command,keygen,source,track,wbr"),S=y("a,address,code,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video"),D=y("abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),C=y("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),_=y("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),T=y("wxxxcode-style,script,style,view,scroll-view,block");t.exports=m}),window.define("utils/wxParse/showdown",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e){var t={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Specify a prefix to generated header ids",type:"string"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,description:"Tries to smartly fix identation in es6 strings",type:"boolean"}};if(!1===e)return JSON.parse(JSON.stringify(t));var n={};for(var a in t)t.hasOwnProperty(a)&&(n[a]=t[a].defaultValue);return n}function y(e,t){var n=t?"Error in "+t+" extension->":"Error in unnamed extension",a={valid:!0,error:""};x.helper.isArray(e)||(e=[e]);for(var o=0;o<e.length;++o){var i=n+" sub-extension "+o+": ",r=e[o];if("object"!==(void 0===r?"undefined":w(r)))return a.valid=!1,a.error=i+"must be an object, but "+(void 0===r?"undefined":w(r))+" given",a;if(!x.helper.isString(r.type))return a.valid=!1,a.error=i+'property "type" must be a string, but '+w(r.type)+" given",a;var s=r.type=r.type.toLowerCase();if("language"===s&&(s=r.type="lang"),"html"===s&&(s=r.type="output"),"lang"!==s&&"output"!==s&&"listener"!==s)return a.valid=!1,a.error=i+"type "+s+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',a;if("listener"===s){if(x.helper.isUndefined(r.listeners))return a.valid=!1,a.error=i+'. Extensions of type "listener" must have a property called "listeners"',a}else if(x.helper.isUndefined(r.filter)&&x.helper.isUndefined(r.regex))return a.valid=!1,a.error=i+s+' extensions must define either a "regex" property or a "filter" method',a;if(r.listeners){if("object"!==w(r.listeners))return a.valid=!1,a.error=i+'"listeners" property must be an object but '+w(r.listeners)+" given",a;for(var d in r.listeners)if(r.listeners.hasOwnProperty(d)&&"function"!=typeof r.listeners[d])return a.valid=!1,a.error=i+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+d+" must be a function but "+w(r.listeners[d])+" given",a}if(r.filter){if("function"!=typeof r.filter)return a.valid=!1,a.error=i+'"filter" must be a function, but '+w(r.filter)+" given",a}else if(r.regex){if(x.helper.isString(r.regex)&&(r.regex=new RegExp(r.regex,"g")),!r.regex instanceof RegExp)return a.valid=!1,a.error=i+'"regex" property must either be a string or a RegExp object, but '+w(r.regex)+" given",a;if(x.helper.isUndefined(r.replace))return a.valid=!1,a.error=i+'"regex" extensions must implement a replace string or function',a}}return a}function v(e,t){return"~E"+t.charCodeAt(0)+"E"}var w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x={},b={},S={},D=m(!0),C={github:{omitExtraWLInCodeBlocks:!0,prefixHeaderId:"user-content-",simplifiedAutoLink:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0},vanilla:m(!0)};x.helper={},x.extensions={},x.setOption=function(e,t){return D[e]=t,this},x.getOption=function(e){return D[e]},x.getOptions=function(){return D},x.resetOptions=function(){D=m(!0)},x.setFlavor=function(e){if(C.hasOwnProperty(e)){var t=C[e];for(var n in t)t.hasOwnProperty(n)&&(D[n]=t[n])}},x.getDefaultOptions=function(e){return m(e)},x.subParser=function(e,t){if(x.helper.isString(e)){if(void 0===t){if(b.hasOwnProperty(e))return b[e];throw Error("SubParser named "+e+" not registered!")}b[e]=t}},x.extension=function(e,t){if(!x.helper.isString(e))throw Error("Extension 'name' must be a string");if(e=x.helper.stdExtName(e),x.helper.isUndefined(t)){if(!S.hasOwnProperty(e))throw Error("Extension named "+e+" is not registered!");return S[e]}"function"==typeof t&&(t=t()),x.helper.isArray(t)||(t=[t]);var n=y(t,e);if(!n.valid)throw Error(n.error);S[e]=t},x.getAllExtensions=function(){return S},x.removeExtension=function(e){delete S[e]},x.resetExtensions=function(){S={}},x.validateExtension=function(e){var t=y(e,null);return!!t.valid||(console.warn(t.error),!1)},x.hasOwnProperty("helper")||(x.helper={}),x.helper.isString=function(e){return"string"==typeof e||e instanceof String},x.helper.isFunction=function(e){var t={};return e&&"[object Function]"===t.toString.call(e)},x.helper.forEach=function(e,t){if("function"==typeof e.forEach)e.forEach(t);else for(var n=0;n<e.length;n++)t(e[n],n,e)},x.helper.isArray=function(e){return e.constructor===Array},x.helper.isUndefined=function(e){return void 0===e},x.helper.stdExtName=function(e){return e.replace(/[_-]||\s/g,"").toLowerCase()},x.helper.escapeCharactersCallback=v,x.helper.escapeCharacters=function(e,t,n){var a="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(a="\\\\"+a);var o=new RegExp(a,"g");return e=e.replace(o,v)};var _=function(e,t,n,a){var o,i,r,s,d,u=a||"",c=u.indexOf("g")>-1,l=new RegExp(t+"|"+n,"g"+u.replace(/g/g,"")),p=new RegExp(t,u.replace(/g/g,"")),h=[];do{for(o=0;r=l.exec(e);)if(p.test(r[0]))o++||(i=l.lastIndex,s=i-r[0].length);else if(o&&!--o){d=r.index+r[0].length;var g={left:{start:s,end:i},match:{start:i,end:r.index},right:{start:r.index,end:d},wholeMatch:{start:s,end:d}};if(h.push(g),!c)return h}}while(o&&(l.lastIndex=i));return h};x.helper.matchRecursiveRegExp=function(e,t,n,a){for(var o=_(e,t,n,a),i=[],r=0;r<o.length;++r)i.push([e.slice(o[r].wholeMatch.start,o[r].wholeMatch.end),e.slice(o[r].match.start,o[r].match.end),e.slice(o[r].left.start,o[r].left.end),e.slice(o[r].right.start,o[r].right.end)]);return i},x.helper.replaceRecursiveRegExp=function(e,t,n,a,o){if(!x.helper.isFunction(t)){var i=t;t=function(){return i}}var r=_(e,n,a,o),s=e,d=r.length;if(d>0){var u=[];0!==r[0].wholeMatch.start&&u.push(e.slice(0,r[0].wholeMatch.start));for(var c=0;c<d;++c)u.push(t(e.slice(r[c].wholeMatch.start,r[c].wholeMatch.end),e.slice(r[c].match.start,r[c].match.end),e.slice(r[c].left.start,r[c].left.end),e.slice(r[c].right.start,r[c].right.end))),c<d-1&&u.push(e.slice(r[c].wholeMatch.end,r[c+1].wholeMatch.start));r[d-1].wholeMatch.end<e.length&&u.push(e.slice(r[d-1].wholeMatch.end)),s=u.join("")}return s},x.helper.isUndefined(console)&&(console={warn:function(e){alert(e)},log:function(e){alert(e)},error:function(e){throw e}}),x.Converter=function(e){function t(e,t){if(t=t||null,x.helper.isString(e)){if(e=x.helper.stdExtName(e),t=e,x.extensions[e])return console.warn("DEPRECATION WARNING: "+e+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),void n(x.extensions[e],e);if(x.helper.isUndefined(S[e]))throw Error('Extension "'+e+'" could not be loaded. It was either not found or is not a valid extension.');e=S[e]}"function"==typeof e&&(e=e()),x.helper.isArray(e)||(e=[e]);var o=y(e,t);if(!o.valid)throw Error(o.error);for(var i=0;i<e.length;++i){switch(e[i].type){case"lang":r.push(e[i]);break;case"output":s.push(e[i])}if(e[i].hasOwnProperty(d))for(var u in e[i].listeners)e[i].listeners.hasOwnProperty(u)&&a(u,e[i].listeners[u])}}function n(e,t){"function"==typeof e&&(e=e(new x.Converter)),x.helper.isArray(e)||(e=[e]);var n=y(e,t);if(!n.valid)throw Error(n.error);for(var a=0;a<e.length;++a)switch(e[a].type){case"lang":r.push(e[a]);break;case"output":s.push(e[a]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function a(e,t){if(!x.helper.isString(e))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+(void 0===e?"undefined":w(e))+" given");if("function"!=typeof t)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+(void 0===t?"undefined":w(t))+" given");d.hasOwnProperty(e)||(d[e]=[]),d[e].push(t)}function o(e){var t=e.match(/^\s*/)[0].length,n=new RegExp("^\\s{0,"+t+"}","gm");return e.replace(n,"")}var i={},r=[],s=[],d={};!function(){e=e||{};for(var n in D)D.hasOwnProperty(n)&&(i[n]=D[n]);if("object"!==(void 0===e?"undefined":w(e)))throw Error("Converter expects the passed parameter to be an object, but "+(void 0===e?"undefined":w(e))+" was passed instead.");for(var a in e)e.hasOwnProperty(a)&&(i[a]=e[a]);i.extensions&&x.helper.forEach(i.extensions,t)}(),this._dispatch=function(e,t,n,a){if(d.hasOwnProperty(e))for(var o=0;o<d[e].length;++o){var i=d[e][o](e,t,this,n,a);i&&void 0!==i&&(t=i)}return t},this.listen=function(e,t){return a(e,t),this},this.makeHtml=function(e){if(!e)return e;var t={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:r,outputModifiers:s,converter:this,ghCodeBlocks:[]};return e=e.replace(/~/g,"~T"),e=e.replace(/\$/g,"~D"),e=e.replace(/\r\n/g,"\n"),e=e.replace(/\r/g,"\n"),i.smartIndentationFix&&(e=o(e)),e=e,e=x.subParser("detab")(e,i,t),e=x.subParser("stripBlankLines")(e,i,t),x.helper.forEach(r,function(n){e=x.subParser("runExtension")(n,e,i,t)}),e=x.subParser("hashPreCodeTags")(e,i,t),e=x.subParser("githubCodeBlocks")(e,i,t),e=x.subParser("hashHTMLBlocks")(e,i,t),e=x.subParser("hashHTMLSpans")(e,i,t),e=x.subParser("stripLinkDefinitions")(e,i,t),e=x.subParser("blockGamut")(e,i,t),e=x.subParser("unhashHTMLSpans")(e,i,t),e=x.subParser("unescapeSpecialChars")(e,i,t),e=e.replace(/~D/g,"$$"),e=e.replace(/~T/g,"~"),x.helper.forEach(s,function(n){e=x.subParser("runExtension")(n,e,i,t)}),e},this.setOption=function(e,t){i[e]=t},this.getOption=function(e){return i[e]},this.getOptions=function(){return i},this.addExtension=function(e,n){n=n||null,t(e,n)},this.useExtension=function(e){t(e)},this.setFlavor=function(e){if(C.hasOwnProperty(e)){var t=C[e];for(var n in t)t.hasOwnProperty(n)&&(i[n]=t[n])}},this.removeExtension=function(e){x.helper.isArray(e)||(e=[e]);for(var t=0;t<e.length;++t){for(var n=e[t],a=0;a<r.length;++a)r[a]===n&&r[a].splice(a,1);for(;0<s.length;++a)s[0]===n&&s[0].splice(a,1)}},this.getAllExtensions=function(){return{language:r,output:s}}},x.subParser("anchors",function(e,t,n){e=n.converter._dispatch("anchors.before",e,t,n);var a=function(e,t,a,o,i,r,s,d){x.helper.isUndefined(d)&&(d=""),e=t;var u=a,c=o.toLowerCase(),l=i,p=d;if(!l)if(c||(c=u.toLowerCase().replace(/ ?\n/g," ")),l="#"+c,x.helper.isUndefined(n.gUrls[c])){if(!(e.search(/\(\s*\)$/m)>-1))return e;l=""}else l=n.gUrls[c],x.helper.isUndefined(n.gTitles[c])||(p=n.gTitles[c]);l=x.helper.escapeCharacters(l,"*_",!1);var h='<a href="'+l+'"';return""!==p&&null!==p&&(p=p.replace(/"/g,"&quot;"),p=x.helper.escapeCharacters(p,"*_",!1),h+=' title="'+p+'"'),h+=">"+u+"</a>"};return e=e.replace(/(\[((?:\[[^\]]*]|[^\[\]])*)][ ]?(?:\n[ ]*)?\[(.*?)])()()()()/g,a),e=e.replace(/(\[((?:\[[^\]]*]|[^\[\]])*)]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,a),e=e.replace(/(\[([^\[\]]+)])()()()()()/g,a),e=n.converter._dispatch("anchors.after",e,t,n)}),x.subParser("autoLinks",function(e,t,n){function a(e,t){var n=t;return/^www\./i.test(t)&&(t=t.replace(/^www\./i,"http://www.")),'<a href="'+t+'">'+n+"</a>"}function o(e,t){var n=x.subParser("unescapeSpecialChars")(t);return x.subParser("encodeEmailAddress")(n)}e=n.converter._dispatch("autoLinks.before",e,t,n);var i=/\b(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+)(?=\s|$)(?!["<>])/gi,r=/<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)>/gi,s=/(?:^|[ \n\t])([A-Za-z0-9!#$%&'*+-\/=?^_`\{|}~\.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?:$|[ \n\t])/gi,d=/<(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi;return e=e.replace(r,a),e=e.replace(d,o),t.simplifiedAutoLink&&(e=e.replace(i,a),e=e.replace(s,o)),e=n.converter._dispatch("autoLinks.after",e,t,n)}),x.subParser("blockGamut",function(e,t,n){e=n.converter._dispatch("blockGamut.before",e,t,n),e=x.subParser("blockQuotes")(e,t,n),e=x.subParser("headers")(e,t,n);var a=x.subParser("hashBlock")("<hr />",t,n);return e=e.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,a),e=e.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,a),e=e.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,a),e=x.subParser("lists")(e,t,n),e=x.subParser("codeBlocks")(e,t,n),e=x.subParser("tables")(e,t,n),e=x.subParser("hashHTMLBlocks")(e,t,n),e=x.subParser("paragraphs")(e,t,n),e=n.converter._dispatch("blockGamut.after",e,t,n)}),x.subParser("blockQuotes",function(e,t,n){return e=n.converter._dispatch("blockQuotes.before",e,t,n),e=e.replace(/((^[ \t]{0,3}>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(e,a){var o=a;return o=o.replace(/^[ \t]*>[ \t]?/gm,"~0"),o=o.replace(/~0/g,""),o=o.replace(/^[ \t]+$/gm,""),o=x.subParser("githubCodeBlocks")(o,t,n),o=x.subParser("blockGamut")(o,t,n),o=o.replace(/(^|\n)/g,"$1  "),o=o.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,t){var n=t;return n=n.replace(/^  /gm,"~0"),n=n.replace(/~0/g,"")}),x.subParser("hashBlock")("<blockquote>\n"+o+"\n</blockquote>",t,n)}),e=n.converter._dispatch("blockQuotes.after",e,t,n)}),x.subParser("codeBlocks",function(e,t,n){e=n.converter._dispatch("codeBlocks.before",e,t,n),e+="~0";var a=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g;return e=e.replace(a,function(e,a,o){var i=a,r=o,s="\n";return i=x.subParser("outdent")(i),i=x.subParser("encodeCode")(i),i=x.subParser("detab")(i),i=i.replace(/^\n+/g,""),i=i.replace(/\n+$/g,""),t.omitExtraWLInCodeBlocks&&(s=""),i="<pre><code>"+i+s+"</code></pre>",x.subParser("hashBlock")(i,t,n)+r}),e=e.replace(/~0/,""),e=n.converter._dispatch("codeBlocks.after",e,t,n)}),x.subParser("codeSpans",function(e,t,n){return e=n.converter._dispatch("codeSpans.before",e,t,n),void 0===e&&(e=""),e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(e,t,n,a){var o=a;return o=o.replace(/^([ \t]*)/g,""),o=o.replace(/[ \t]*$/g,""),o=x.subParser("encodeCode")(o),t+"<code>"+o+"</code>"}),e=n.converter._dispatch("codeSpans.after",e,t,n)}),x.subParser("detab",function(e){return e=e.replace(/\t(?=\t)/g,"    "),e=e.replace(/\t/g,"~A~B"),e=e.replace(/~B(.+?)~A/g,function(e,t){for(var n=t,a=4-n.length%4,o=0;o<a;o++)n+=" ";return n}),e=e.replace(/~A/g,"    "),e=e.replace(/~B/g,"")}),x.subParser("encodeAmpsAndAngles",function(e){return e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),e=e.replace(/<(?![a-z\/?\$!])/gi,"&lt;")}),x.subParser("encodeBackslashEscapes",function(e){return e=e.replace(/\\(\\)/g,x.helper.escapeCharactersCallback),e=e.replace(/\\([`*_{}\[\]()>#+-.!])/g,x.helper.escapeCharactersCallback)}),x.subParser("encodeCode",function(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=x.helper.escapeCharacters(e,"*_{}[]\\",!1)}),x.subParser("encodeEmailAddress",function(e){var t=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+e.charCodeAt(0).toString(16)+";"},function(e){return e}];return e="mailto:"+e,e=e.replace(/./g,function(e){if("@"===e)e=t[Math.floor(2*Math.random())](e);else if(":"!==e){var n=Math.random();e=n>.9?t[2](e):n>.45?t[1](e):t[0](e)}return e}),e='<a href="'+e+'">'+e+"</a>",e=e.replace(/">.+:/g,'">')}),x.subParser("escapeSpecialCharsWithinTagAttributes",function(e){var t=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return e=e.replace(t,function(e){var t=e.replace(/(.)<\/?code>(?=.)/g,"$1`");return t=x.helper.escapeCharacters(t,"\\`*_",!1)})}),x.subParser("githubCodeBlocks",function(e,t,n){return t.ghCodeBlocks?(e=n.converter._dispatch("githubCodeBlocks.before",e,t,n),e+="~0",e=e.replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(e,a,o){var i=t.omitExtraWLInCodeBlocks?"":"\n";return o=x.subParser("encodeCode")(o),o=x.subParser("detab")(o),o=o.replace(/^\n+/g,""),o=o.replace(/\n+$/g,""),o="<pre><code"+(a?' class="'+a+" language-"+a+'"':"")+">"+o+i+"</code></pre>",o=x.subParser("hashBlock")(o,t,n),"\n\n~G"+(n.ghCodeBlocks.push({text:e,codeblock:o})-1)+"G\n\n"}),e=e.replace(/~0/,""),n.converter._dispatch("githubCodeBlocks.after",e,t,n)):e}),x.subParser("hashBlock",function(e,t,n){return e=e.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(n.gHtmlBlocks.push(e)-1)+"K\n\n"}),x.subParser("hashElement",function(e,t,n){return function(e,t){var a=t;return a=a.replace(/\n\n/g,"\n"),a=a.replace(/^\n/,""),a=a.replace(/\n+$/g,""),a="\n\n~K"+(n.gHtmlBlocks.push(a)-1)+"K\n\n"}}),x.subParser("hashHTMLBlocks",function(e,t,n){for(var a=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],o=function(e,t,a,o){var i=e;return-1!==a.search(/\bmarkdown\b/)&&(i=a+n.converter.makeHtml(t)+o),"\n\n~K"+(n.gHtmlBlocks.push(i)-1)+"K\n\n"},i=0;i<a.length;++i)e=x.helper.replaceRecursiveRegExp(e,o,"^(?: |\\t){0,3}<"+a[i]+"\\b[^>]*>","</"+a[i]+">","gim");return e=e.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,x.subParser("hashElement")(e,t,n)),e=e.replace(/(<!--[\s\S]*?-->)/g,x.subParser("hashElement")(e,t,n)),e=e.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,x.subParser("hashElement")(e,t,n))}),x.subParser("hashHTMLSpans",function(e,t,n){for(var a=x.helper.matchRecursiveRegExp(e,"<code\\b[^>]*>","</code>","gi"),o=0;o<a.length;++o)e=e.replace(a[o][0],"~L"+(n.gHtmlSpans.push(a[o][0])-1)+"L");return e}),x.subParser("unhashHTMLSpans",function(e,t,n){for(var a=0;a<n.gHtmlSpans.length;++a)e=e.replace("~L"+a+"L",n.gHtmlSpans[a]);return e}),x.subParser("hashPreCodeTags",function(e,t,n){var a=function(e,t,a,o){var i=a+x.subParser("encodeCode")(t)+o;return"\n\n~G"+(n.ghCodeBlocks.push({text:e,codeblock:i})-1)+"G\n\n"};return e=x.helper.replaceRecursiveRegExp(e,a,"^(?: |\\t){0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^(?: |\\t){0,3}</code>\\s*</pre>","gim")}),x.subParser("headers",function(e,t,n){function a(e){var t,a=e.replace(/[^\w]/g,"").toLowerCase();return n.hashLinkCounts[a]?t=a+"-"+n.hashLinkCounts[a]++:(t=a,n.hashLinkCounts[a]=1),!0===o&&(o="section"),x.helper.isString(o)?o+t:t}e=n.converter._dispatch("headers.before",e,t,n);var o=t.prefixHeaderId,i=isNaN(parseInt(t.headerLevelStart))?1:parseInt(t.headerLevelStart),r=t.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,s=t.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;return e=e.replace(r,function(e,o){var r=x.subParser("spanGamut")(o,t,n),s=t.noHeaderId?"":' id="'+a(o)+'"',d=i,u="<h"+d+s+">"+r+"</h"+d+">";return x.subParser("hashBlock")(u,t,n)}),e=e.replace(s,function(e,o){var r=x.subParser("spanGamut")(o,t,n),s=t.noHeaderId?"":' id="'+a(o)+'"',d=i+1,u="<h"+d+s+">"+r+"</h"+d+">";return x.subParser("hashBlock")(u,t,n)}),e=e.replace(/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm,function(e,o,r){var s=x.subParser("spanGamut")(r,t,n),d=t.noHeaderId?"":' id="'+a(r)+'"',u=i-1+o.length,c="<h"+u+d+">"+s+"</h"+u+">";return x.subParser("hashBlock")(c,t,n)}),e=n.converter._dispatch("headers.after",e,t,n)}),x.subParser("images",function(e,t,n){function a(e,t,a,o,i,r,s,d){var u=n.gUrls,c=n.gTitles,l=n.gDimensions;if(a=a.toLowerCase(),d||(d=""),""===o||null===o){if(""!==a&&null!==a||(a=t.toLowerCase().replace(/ ?\n/g," ")),o="#"+a,x.helper.isUndefined(u[a]))return e;o=u[a],x.helper.isUndefined(c[a])||(d=c[a]),x.helper.isUndefined(l[a])||(i=l[a].width,r=l[a].height)}t=t.replace(/"/g,"&quot;"),t=x.helper.escapeCharacters(t,"*_",!1),o=x.helper.escapeCharacters(o,"*_",!1);var p='<img src="'+o+'" alt="'+t+'"';return d&&(d=d.replace(/"/g,"&quot;"),d=x.helper.escapeCharacters(d,"*_",!1),p+=' title="'+d+'"'),i&&r&&(i="*"===i?"auto":i,r="*"===r?"auto":r,p+=' width="'+i+'"',p+=' height="'+r+'"'),p+=" />"}e=n.converter._dispatch("images.before",e,t,n);var o=/!\[(.*?)]\s?\([ \t]*()<?(\S+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(['"])(.*?)\6[ \t]*)?\)/g,i=/!\[([^\]]*?)] ?(?:\n *)?\[(.*?)]()()()()()/g;return e=e.replace(i,a),e=e.replace(o,a),e=n.converter._dispatch("images.after",e,t,n)}),x.subParser("italicsAndBold",function(e,t,n){return e=n.converter._dispatch("italicsAndBold.before",e,t,n),t.literalMidWordUnderscores?(e=e.replace(/(^|\s|>|\b)__(?=\S)([\s\S]+?)__(?=\b|<|\s|$)/gm,"$1<strong>$2</strong>"),e=e.replace(/(^|\s|>|\b)_(?=\S)([\s\S]+?)_(?=\b|<|\s|$)/gm,"$1<em>$2</em>"),e=e.replace(/(\*\*)(?=\S)([^\r]*?\S[*]*)\1/g,"<strong>$2</strong>"),e=e.replace(/(\*)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")):(e=e.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>"),e=e.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")),e=n.converter._dispatch("italicsAndBold.after",e,t,n)}),x.subParser("lists",function(e,t,n){function a(e,a){n.gListLevel++,e=e.replace(/\n{2,}$/,"\n"),e+="~0";var o=/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,i=/\n[ \t]*\n(?!~0)/.test(e);return e=e.replace(o,function(e,a,o,r,s,d,u){u=u&&""!==u.trim();var c=x.subParser("outdent")(s,t,n),l="";return d&&t.tasklists&&(l=' class="task-list-item" style="list-style-type: none;"',c=c.replace(/^[ \t]*\[(x|X| )?]/m,function(){var e='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return u&&(e+=" checked"),e+=">"})),a||c.search(/\n{2,}/)>-1?(c=x.subParser("githubCodeBlocks")(c,t,n),c=x.subParser("blockGamut")(c,t,n)):(c=x.subParser("lists")(c,t,n),c=c.replace(/\n$/,""),c=i?x.subParser("paragraphs")(c,t,n):x.subParser("spanGamut")(c,t,n)),c="\n<li"+l+">"+c+"</li>\n"}),e=e.replace(/~0/g,""),n.gListLevel--,a&&(e=e.replace(/\s+$/,"")),e}function o(e,t,n){var o="ul"===t?/^ {0,2}\d+\.[ \t]/gm:/^ {0,2}[*+-][ \t]/gm,i=[],r="";if(-1!==e.search(o)){!function e(i){var s=i.search(o);-1!==s?(r+="\n\n<"+t+">"+a(i.slice(0,s),!!n)+"</"+t+">\n\n",t="ul"===t?"ol":"ul",o="ul"===t?/^ {0,2}\d+\.[ \t]/gm:/^ {0,2}[*+-][ \t]/gm,e(i.slice(s))):r+="\n\n<"+t+">"+a(i,!!n)+"</"+t+">\n\n"}(e);for(var s=0;s<i.length;++s);}else r="\n\n<"+t+">"+a(e,!!n)+"</"+t+">\n\n";return r}e=n.converter._dispatch("lists.before",e,t,n),e+="~0";var i=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return n.gListLevel?e=e.replace(i,function(e,t,n){return o(t,n.search(/[*+-]/g)>-1?"ul":"ol",!0)}):(i=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,e=e.replace(i,function(e,t,n,a){return o(n,a.search(/[*+-]/g)>-1?"ul":"ol")})),e=e.replace(/~0/,""),e=n.converter._dispatch("lists.after",e,t,n)}),x.subParser("outdent",function(e){return e=e.replace(/^(\t|[ ]{1,4})/gm,"~0"),e=e.replace(/~0/g,"")}),x.subParser("paragraphs",function(e,t,n){e=n.converter._dispatch("paragraphs.before",e,t,n),e=e.replace(/^\n+/g,""),e=e.replace(/\n+$/g,"");for(var a=e.split(/\n{2,}/g),o=[],i=a.length,r=0;r<i;r++){var s=a[r];s.search(/~(K|G)(\d+)\1/g)>=0?o.push(s):(s=x.subParser("spanGamut")(s,t,n),s=s.replace(/^([ \t]*)/g,"<p>"),s+="</p>",o.push(s))}for(i=o.length,r=0;r<i;r++){for(var d="",u=o[r],c=!1;u.search(/~(K|G)(\d+)\1/)>=0;){var l=RegExp.$1,p=RegExp.$2;d="K"===l?n.gHtmlBlocks[p]:c?x.subParser("encodeCode")(n.ghCodeBlocks[p].text):n.ghCodeBlocks[p].codeblock,d=d.replace(/\$/g,"$$$$"),u=u.replace(/(\n\n)?~(K|G)\d+\2(\n\n)?/,d),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(u)&&(c=!0)}o[r]=u}return e=o.join("\n\n"),e=e.replace(/^\n+/g,""),e=e.replace(/\n+$/g,""),n.converter._dispatch("paragraphs.after",e,t,n)}),x.subParser("runExtension",function(e,t,n,a){if(e.filter)t=e.filter(t,a.converter,n);else if(e.regex){var o=e.regex;!o instanceof RegExp&&(o=new RegExp(o,"g")),t=t.replace(o,e.replace)}return t}),x.subParser("spanGamut",function(e,t,n){return e=n.converter._dispatch("spanGamut.before",e,t,n),e=x.subParser("codeSpans")(e,t,n),e=x.subParser("escapeSpecialCharsWithinTagAttributes")(e,t,n),e=x.subParser("encodeBackslashEscapes")(e,t,n),e=x.subParser("images")(e,t,n),e=x.subParser("anchors")(e,t,n),e=x.subParser("autoLinks")(e,t,n),e=x.subParser("encodeAmpsAndAngles")(e,t,n),e=x.subParser("italicsAndBold")(e,t,n),e=x.subParser("strikethrough")(e,t,n),e=e.replace(/  +\n/g," <br />\n"),e=n.converter._dispatch("spanGamut.after",e,t,n)}),x.subParser("strikethrough",function(e,t,n){return t.strikethrough&&(e=n.converter._dispatch("strikethrough.before",e,t,n),e=e.replace(/(?:~T){2}([\s\S]+?)(?:~T){2}/g,"<del>$1</del>"),e=n.converter._dispatch("strikethrough.after",e,t,n)),e}),x.subParser("stripBlankLines",function(e){return e.replace(/^[ \t]+$/gm,"")}),x.subParser("stripLinkDefinitions",function(e,t,n){var a=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(\S+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=~0))/gm;return e+="~0",e=e.replace(a,function(e,a,o,i,r,s,d){return a=a.toLowerCase(),n.gUrls[a]=x.subParser("encodeAmpsAndAngles")(o),s?s+d:(d&&(n.gTitles[a]=d.replace(/"|'/g,"&quot;")),t.parseImgDimensions&&i&&r&&(n.gDimensions[a]={width:i,height:r}),"")}),e=e.replace(/~0/,"")}),x.subParser("tables",function(e,t,n){function a(e){return/^:[ \t]*--*$/.test(e)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(e)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(e)?' style="text-align:center;"':""}function o(e,a){var o="";return e=e.trim(),t.tableHeaderId&&(o=' id="'+e.replace(/ /g,"_").toLowerCase()+'"'),e=x.subParser("spanGamut")(e,t,n),"<th"+o+a+">"+e+"</th>\n"}function i(e,a){return"<td"+a+">"+x.subParser("spanGamut")(e,t,n)+"</td>\n"}function r(e,t){for(var n="<table>\n<thead>\n<tr>\n",a=e.length,o=0;o<a;++o)n+=e[o];for(n+="</tr>\n</thead>\n<tbody>\n",o=0;o<t.length;++o){n+="<tr>\n";for(var i=0;i<a;++i)n+=t[o][i];n+="</tr>\n"}return n+="</tbody>\n</table>\n"}if(!t.tables)return e;var s=/^[ \t]{0,3}\|?.+\|.+\n[ \t]{0,3}\|?[ \t]*:?[ \t]*(?:-|=){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:-|=){2,}[\s\S]+?(?:\n\n|~0)/gm;return e=n.converter._dispatch("tables.before",e,t,n),e=e.replace(s,function(e){var t,n=e.split("\n");for(t=0;t<n.length;++t)/^[ \t]{0,3}\|/.test(n[t])&&(n[t]=n[t].replace(/^[ \t]{0,3}\|/,"")),/\|[ \t]*$/.test(n[t])&&(n[t]=n[t].replace(/\|[ \t]*$/,""));var s=n[0].split("|").map(function(e){return e.trim()}),d=n[1].split("|").map(function(e){return e.trim()}),u=[],c=[],l=[],p=[];for(n.shift(),n.shift(),t=0;t<n.length;++t)""!==n[t].trim()&&u.push(n[t].split("|").map(function(e){return e.trim()}));if(s.length<d.length)return e;for(t=0;t<d.length;++t)l.push(a(d[t]));for(t=0;t<s.length;++t)x.helper.isUndefined(l[t])&&(l[t]=""),c.push(o(s[t],l[t]));for(t=0;t<u.length;++t){for(var h=[],g=0;g<c.length;++g)x.helper.isUndefined(u[t][g]),h.push(i(u[t][g],l[g]));p.push(h)}return r(c,p)}),e=n.converter._dispatch("tables.after",e,t,n)}),x.subParser("unescapeSpecialChars",function(e){return e=e.replace(/~E(\d+)E/g,function(e,t){var n=parseInt(t);return String.fromCharCode(n)})}),t.exports=x}),window.define("utils/wxParse/wxDiscode",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e){return e=e.replace(/&forall;/g,"∀"),e=e.replace(/&part;/g,"∂"),e=e.replace(/&exists;/g,"∃"),e=e.replace(/&empty;/g,"∅"),e=e.replace(/&nabla;/g,"∇"),e=e.replace(/&isin;/g,"∈"),e=e.replace(/&notin;/g,"∉"),e=e.replace(/&ni;/g,"∋"),e=e.replace(/&prod;/g,"∏"),e=e.replace(/&sum;/g,"∑"),e=e.replace(/&minus;/g,"−"),e=e.replace(/&lowast;/g,"∗"),e=e.replace(/&radic;/g,"√"),e=e.replace(/&prop;/g,"∝"),e=e.replace(/&infin;/g,"∞"),e=e.replace(/&ang;/g,"∠"),e=e.replace(/&and;/g,"∧"),e=e.replace(/&or;/g,"∨"),e=e.replace(/&cap;/g,"∩"),e=e.replace(/&cap;/g,"∪"),e=e.replace(/&int;/g,"∫"),e=e.replace(/&there4;/g,"∴"),e=e.replace(/&sim;/g,"∼"),e=e.replace(/&cong;/g,"≅"),e=e.replace(/&asymp;/g,"≈"),e=e.replace(/&ne;/g,"≠"),e=e.replace(/&le;/g,"≤"),e=e.replace(/&ge;/g,"≥"),e=e.replace(/&sub;/g,"⊂"),e=e.replace(/&sup;/g,"⊃"),e=e.replace(/&nsub;/g,"⊄"),e=e.replace(/&sube;/g,"⊆"),e=e.replace(/&supe;/g,"⊇"),e=e.replace(/&oplus;/g,"⊕"),e=e.replace(/&otimes;/g,"⊗"),e=e.replace(/&perp;/g,"⊥"),e=e.replace(/&sdot;/g,"⋅")}function y(e){return e=e.replace(/&Alpha;/g,"Α"),e=e.replace(/&Beta;/g,"Β"),e=e.replace(/&Gamma;/g,"Γ"),e=e.replace(/&Delta;/g,"Δ"),e=e.replace(/&Epsilon;/g,"Ε"),e=e.replace(/&Zeta;/g,"Ζ"),e=e.replace(/&Eta;/g,"Η"),e=e.replace(/&Theta;/g,"Θ"),e=e.replace(/&Iota;/g,"Ι"),e=e.replace(/&Kappa;/g,"Κ"),e=e.replace(/&Lambda;/g,"Λ"),e=e.replace(/&Mu;/g,"Μ"),e=e.replace(/&Nu;/g,"Ν"),e=e.replace(/&Xi;/g,"Ν"),e=e.replace(/&Omicron;/g,"Ο"),e=e.replace(/&Pi;/g,"Π"),e=e.replace(/&Rho;/g,"Ρ"),e=e.replace(/&Sigma;/g,"Σ"),e=e.replace(/&Tau;/g,"Τ"),e=e.replace(/&Upsilon;/g,"Υ"),e=e.replace(/&Phi;/g,"Φ"),e=e.replace(/&Chi;/g,"Χ"),e=e.replace(/&Psi;/g,"Ψ"),e=e.replace(/&Omega;/g,"Ω"),e=e.replace(/&alpha;/g,"α"),e=e.replace(/&beta;/g,"β"),e=e.replace(/&gamma;/g,"γ"),e=e.replace(/&delta;/g,"δ"),e=e.replace(/&epsilon;/g,"ε"),e=e.replace(/&zeta;/g,"ζ"),e=e.replace(/&eta;/g,"η"),e=e.replace(/&theta;/g,"θ"),e=e.replace(/&iota;/g,"ι"),e=e.replace(/&kappa;/g,"κ"),e=e.replace(/&lambda;/g,"λ"),e=e.replace(/&mu;/g,"μ"),e=e.replace(/&nu;/g,"ν"),e=e.replace(/&xi;/g,"ξ"),e=e.replace(/&omicron;/g,"ο"),e=e.replace(/&pi;/g,"π"),e=e.replace(/&rho;/g,"ρ"),e=e.replace(/&sigmaf;/g,"ς"),e=e.replace(/&sigma;/g,"σ"),e=e.replace(/&tau;/g,"τ"),e=e.replace(/&upsilon;/g,"υ"),e=e.replace(/&phi;/g,"φ"),e=e.replace(/&chi;/g,"χ"),e=e.replace(/&psi;/g,"ψ"),e=e.replace(/&omega;/g,"ω"),e=e.replace(/&thetasym;/g,"ϑ"),e=e.replace(/&upsih;/g,"ϒ"),e=e.replace(/&piv;/g,"ϖ"),e=e.replace(/&middot;/g,"·")}function v(e){return e=e.replace(/&nbsp;/g," "),e=e.replace(/&quot;/g,"'"),e=e.replace(/&amp;/g,"&"),e=e.replace(/&lt;/g,"<"),e=e.replace(/&gt;/g,">"),e=e.replace(/&#8226;/g,"•")}function w(e){return e=e.replace(/&OElig;/g,"Œ"),e=e.replace(/&oelig;/g,"œ"),e=e.replace(/&Scaron;/g,"Š"),e=e.replace(/&scaron;/g,"š"),e=e.replace(/&Yuml;/g,"Ÿ"),e=e.replace(/&fnof;/g,"ƒ"),e=e.replace(/&circ;/g,"ˆ"),e=e.replace(/&tilde;/g,"˜"),e=e.replace(/&ensp;/g,""),e=e.replace(/&emsp;/g,""),e=e.replace(/&thinsp;/g,""),e=e.replace(/&zwnj;/g,""),e=e.replace(/&zwj;/g,""),e=e.replace(/&lrm;/g,""),e=e.replace(/&rlm;/g,""),e=e.replace(/&ndash;/g,"–"),e=e.replace(/&mdash;/g,"—"),e=e.replace(/&lsquo;/g,"‘"),e=e.replace(/&rsquo;/g,"’"),e=e.replace(/&sbquo;/g,"‚"),e=e.replace(/&ldquo;/g,"“"),e=e.replace(/&rdquo;/g,"”"),e=e.replace(/&bdquo;/g,"„"),e=e.replace(/&dagger;/g,"†"),e=e.replace(/&Dagger;/g,"‡"),e=e.replace(/&bull;/g,"•"),e=e.replace(/&hellip;/g,"…"),e=e.replace(/&permil;/g,"‰"),e=e.replace(/&prime;/g,"′"),e=e.replace(/&Prime;/g,"″"),e=e.replace(/&lsaquo;/g,"‹"),e=e.replace(/&rsaquo;/g,"›"),e=e.replace(/&oline;/g,"‾"),e=e.replace(/&euro;/g,"€"),e=e.replace(/&trade;/g,"™"),e=e.replace(/&larr;/g,"←"),e=e.replace(/&uarr;/g,"↑"),e=e.replace(/&rarr;/g,"→"),e=e.replace(/&darr;/g,"↓"),e=e.replace(/&harr;/g,"↔"),e=e.replace(/&crarr;/g,"↵"),e=e.replace(/&lceil;/g,"⌈"),e=e.replace(/&rceil;/g,"⌉"),e=e.replace(/&lfloor;/g,"⌊"),e=e.replace(/&rfloor;/g,"⌋"),e=e.replace(/&loz;/g,"◊"),e=e.replace(/&spades;/g,"♠"),e=e.replace(/&clubs;/g,"♣"),e=e.replace(/&hearts;/g,"♥"),e=e.replace(/&diams;/g,"♦"),e=e.replace(/&#39;/g,"'")}function x(e){return e=e.replace(/\r\n/g,""),e=e.replace(/\n/g,""),e=e.replace(/code/g,"wxxxcode-style")}function b(e){return e=m(e),e=y(e),e=v(e),e=w(e),e=x(e)}function S(e,t){return new RegExp("^//").test(e)&&(e=t+":"+e),e}t.exports={strDiscode:b,urlToHttpUrl:S}}),window.define("utils/wxParse/wxParse",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wxParseData",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"html",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'<div class="color:red;">数据不能为空</div>',a=arguments[3],o=arguments[4],i=a,r={};if("html"==t)r=I.default.html2json(n,e);else if("md"==t||"markdown"==t){var s=new T.default.Converter,d=s.makeHtml(n);r=I.default.html2json(d,e),console.log(JSON.stringify(r," "," "))}r.view={},r.view.imagePadding=0,void 0!==o&&(r.view.imagePadding=o);var u={};u[e]=r,i.setData(u),i.wxParseImgLoad=x,i.wxParseImgTap=w}function w(e){var t=this,n=e.target.dataset.src,a=e.target.dataset.from;void 0!==a&&a.length>0&&o.previewImage({current:n,urls:t.data[a].imageUrls})}function x(e){var t=this,n=e.target.dataset.from,a=e.target.dataset.idx;void 0!==n&&n.length>0&&b(e,a,t,n)}function b(e,t,n,a){var o,i=n.data[a];if(i&&0!=i.images.length){var r=i.images,s=S(e.detail.width,e.detail.height,n,a),d=r[t].index,u=""+a,c=!0,l=!1,p=void 0;try{for(var h,g=d.split(".")[Symbol.iterator]();!(c=(h=g.next()).done);c=!0){u+=".nodes["+h.value+"]"}}catch(e){l=!0,p=e}finally{try{!c&&g.return&&g.return()}finally{if(l)throw p}}var f=u+".width",m=u+".height";n.setData((o={},y(o,f,s.imageWidth),y(o,m,s.imageheight),o))}}function S(e,t,n,a){var o=0,i=0,r=0,s={},d=n.data[a].view.imagePadding;return o=L-2*d,P,e>o?(i=o,r=i*t/e,s.imageWidth=i,s.imageheight=r):(s.imageWidth=e,s.imageheight=t),s}function D(e,t,n,a){for(var o=[],i=a.data,r=null,s=0;s<n;s++){var d=i[t+s].nodes;o.push(d)}e=e||"wxParseTemArray",r=JSON.parse('{"'+e+'":""}'),r[e]=o,a.setData(r)}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/wxParse/emojis/",n=arguments[2];I.default.emojisInit(e,t,n)}var _=e("./showdown.js"),T=m(_),k=e("./html2json.js"),I=m(k),L=0,P=0;o.getSystemInfo({success:function(e){L=e.windowWidth,P=e.windowHeight}}),t.exports={wxParse:v,wxParseTemArray:D,emojisInit:C}}),window.define("app",function(e,t,n,a,o,i,r,s,d,u,c,l,p,h,g,f){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}var y=e("./network/api.js"),v=e("./utils/const.js"),w=m(v),x=e("./utils/notification"),b=m(x);App({globalData:{editionType:"common"},flash:{},setFlash:function(e,t){this.flash[e]=t},getFlash:function(e){var t=this.flash[e];return delete this.flash[e],t},logs:[],log:function(e){w.default.log&&console.log(e)},onLaunch:function(){var e=this;b.default.register(w.default.action.LOGIN,this,function(t){console.log(t),e.globalData.accessToken=t.data.accessToken,e.globalData.userinfo=t.data.userInfo,o.setStorage({key:"accessToken",data:t.data.accessToken}),o.setStorage({key:"userinfo",data:t.data.userInfo})}),this.init()},onShow:function(e){this.globalData.scene=e.scene;var t=e.query,n=t.shareCode,a=void 0===n?"":n,o=t.channelCode,i=void 0===o?"":o;this.globalData.shareCode=a,this.globalData.channelCode=i,this.checkShareCode(a)},checkShareCode:function(e){e&&(0,y.updateShareCode)({code:e}).then(function(){o.setStorage({key:"shareCode",data:e}),console.log("yes need to update shareCode---------save to local")}).catch(function(e){console.log(e)})},getConfig:function(){var e=this;(0,y.getSysConfig)().then(function(t){e.globalData.color=t.data.color,e.globalConfig=t.data,o.setStorage({key:"config",data:t.data}),b.default.post(w.default.action.QUERY_CONFIG_SUCCESS,t.data)})},checkSession:function(){new Promise(function(e){o.checkSession({success:function(){e(!0)},fail:function(){e(!1)}})}).then(function(e){if(!e)return(0,y.loginWx)()})},init:function(){var e=o.getStorageSync("accessToken");e&&(this.globalData.accessToken=e,this.globalData.userinfo=o.getStorageSync("userinfo")),o.setStorage({key:"token",data:"z3GY1Kz9ZLKkmmqa3GvsQOk8tbhFbSAYlcHBBwd9ciRmVqL571yMY81AwEdFIrPJJHY53pDm_xDH1vg5aW1cI7Bf0cjCgL2z8_kvQidMYPZaHOyjSUlOZQJcawjJj0LI"}),this.globalData.token="z3GY1Kz9ZLKkmmqa3GvsQOk8tbhFbSAYlcHBBwd9ciRmVqL571yMY81AwEdFIrPJJHY53pDm_xDH1vg5aW1cI7Bf0cjCgL2z8_kvQidMYPZaHOyjSUlOZQJcawjJj0LI";var t=o.getExtConfigSync();console.log("ssssssssssssss",t),t&&t.extConfig&&(t.extConfig.compToken&&(o.setStorage({key:"token",data:t.extConfig.compToken}),this.globalData.token=t.extConfig.compToken),0==t.extConfig.isMenuShow&&o.hideTabBar({}),t.extConfig.editionType&&(this.globalData.editionType=t.extConfig.editionType)),this.checkSession(),this.getConfig()}})}),window.__swanRoute="app",window.usingComponents=[],require("app"),window.__swanRoute="component/cart_popup/index",window.usingComponents=["component/cart_popup/index"],require("component/cart_popup/index"),window.__swanRoute="component/car_popup/index",window.usingComponents=["component/car_popup/index"],require("component/car_popup/index"),window.__swanRoute="component/cartpop/index",window.usingComponents=["component/toast/index","component/cartpop/index"],require("component/cartpop/index"),window.__swanRoute="component/page/modules/notice2/index",window.usingComponents=["dist/minui/wxc-notice/dist/index","component/page/modules/notice2/index"],require("component/page/modules/notice2/index"),window.__swanRoute="dist/minui/wxc-avatar/dist/index",window.usingComponents=["dist/minui/wxc-badge/dist/index","dist/minui/wxc-cc/dist/index","dist/minui/wxc-avatar/dist/index"],require("dist/minui/wxc-avatar/dist/index"),window.__swanRoute="dist/minui/wxc-badge/dist/index",window.usingComponents=["dist/minui/wxc-badge/dist/index"],require("dist/minui/wxc-badge/dist/index");window.__swanRoute="dist/minui/wxc-loading/dist/index",window.usingComponents=["dist/minui/wxc-loading/dist/index"],require("dist/minui/wxc-loading/dist/index"),window.__swanRoute="dist/minui/wxc-notice/dist/index",window.usingComponents=["dist/minui/wxc-icon/dist/index","dist/minui/wxc-notice/dist/index"],require("dist/minui/wxc-notice/dist/index"),window.__swanRoute="dist/minui/wxc-progress/dist/index",window.usingComponents=["dist/minui/wxc-progress/dist/index"],require("dist/minui/wxc-progress/dist/index"),window.__swanRoute="dist/minui/wxc-steps/dist/index",window.usingComponents=["dist/minui/wxc-steps/dist/index"],require("dist/minui/wxc-steps/dist/index"),window.__swanRoute="dist/minui/wxc-switch/dist/index",window.usingComponents=["dist/minui/wxc-switch/dist/index"],require("dist/minui/wxc-switch/dist/index"),window.__swanRoute="pages/edu/components/audio/index",window.usingComponents=["pages/edu/components/title_layout/index","pages/edu/components/waves/index","pages/edu/components/audio/index"],require("pages/edu/components/audio/index"),window.__swanRoute="pages/pingjia/component/textarea/index",window.usingComponents=["pages/pingjia/component/textarea/index"],require("pages/pingjia/component/textarea/index"),window.__swanRoute="pages/shop/components/store_car/index",window.usingComponents=["pages/pingjia/component/evaluateitems/index","component/car_popup/index","pages/shop/components/store_car/index"],require("pages/shop/components/store_car/index"),window.__swanRoute="pages/shop/components/store_food/index",window.usingComponents=["pages/shop/components/store_foodheader/index","pages/shop/components/store_searchbar/index","component/cart_popup/index","pages/shop/components/cart/index","component/toast/index","pages/shop/components/store_food/index"],require("pages/shop/components/store_food/index"),window.__swanRoute="pages/shop/components/store_foodheader/index",window.usingComponents=["dist/minui/wxc-label/dist/index","pages/shop/components/store_foodheader/index"],require("pages/shop/components/store_foodheader/index"),window.__swanRoute="pages/shop/components/store_o2o/index",window.usingComponents=["pages/shop/components/store_header/index","pages/shop/components/store_searchbar/index","component/cart_popup/index","pages/shop/components/cart/index","component/toast/index","pages/shop/components/store_o2o/index"],require("pages/shop/components/store_o2o/index"),window.__swanRoute="pages/shop/components/store_searchbar/index",window.usingComponents=["pages/shop/components/store_searchbar/index"],require("pages/shop/components/store_searchbar/index"),window.__swanRoute="pages/shop/components/store_service/index",window.usingComponents=["pages/shop/components/store_header/index","dist/minui/wxc-loadmore/dist/index","pages/shop/components/store_service/index"],require("pages/shop/components/store_service/index"),window.__swanRoute="dist/minui/wxc-flex/dist/index",window.usingComponents=["dist/minui/wxc-flex/dist/index"],require("dist/minui/wxc-flex/dist/index"),window.__swanRoute="dist/minui/wxc-cc/dist/index",window.usingComponents=["dist/minui/wxc-flex/dist/index","dist/minui/wxc-cc/dist/index"],require("dist/minui/wxc-cc/dist/index"),window.__swanRoute="component/page/modules/brands/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","component/page/modules/brands/index"],require("component/page/modules/brands/index"),window.__swanRoute="component/page/modules/carousel/index",window.usingComponents=["component/page/modules/carousel/index"],require("component/page/modules/carousel/index"),window.__swanRoute="component/coupon/index",window.usingComponents=["component/coupon/index"],require("component/coupon/index"),window.__swanRoute="component/page/modules/coupon/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","component/coupon/index","component/page/modules/coupon/index"],require("component/page/modules/coupon/index"),window.__swanRoute="component/page/modules/img_advert/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","component/page/modules/img_advert/index"],require("component/page/modules/img_advert/index"),window.__swanRoute="component/page/modules/img_nav/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","component/page/modules/img_nav/index"],require("component/page/modules/img_nav/index"),window.__swanRoute="dist/minui/wxc-countdown/dist/index",window.usingComponents=["dist/minui/wxc-countdown/dist/index"],require("dist/minui/wxc-countdown/dist/index"),window.__swanRoute="component/page/modules/miaosha/item",window.usingComponents=["dist/minui/wxc-countdown/dist/index","component/page/modules/miaosha/item"],require("component/page/modules/miaosha/item"),window.__swanRoute="component/page/modules/miaosha/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","component/page/modules/miaosha/item","component/page/modules/miaosha/index"],require("component/page/modules/miaosha/index"),window.__swanRoute="dist/minui/wxc-icon/dist/index",window.usingComponents=["dist/minui/wxc-icon/dist/index"],require("dist/minui/wxc-icon/dist/index"),window.__swanRoute="dist/minui/wxc-mask/dist/index",window.usingComponents=["dist/minui/wxc-mask/dist/index"],require("dist/minui/wxc-mask/dist/index"),window.__swanRoute="dist/minui/wxc-popup/dist/index",window.usingComponents=["dist/minui/wxc-mask/dist/index","dist/minui/wxc-popup/dist/index"],require("dist/minui/wxc-popup/dist/index"),window.__swanRoute="component/segements/index",window.usingComponents=["dist/minui/wxc-icon/dist/index","dist/minui/wxc-popup/dist/index","component/segements/index"],require("component/segements/index"),window.__swanRoute="dist/minui/wxc-label/dist/index",window.usingComponents=["dist/minui/wxc-label/dist/index"],require("dist/minui/wxc-label/dist/index"),window.__swanRoute="component/page/modules/nearstore/filter",window.usingComponents=["dist/minui/wxc-flex/dist/index","dist/minui/wxc-label/dist/index","component/page/modules/nearstore/filter"],require("component/page/modules/nearstore/filter"),window.__swanRoute="component/page/modules/nearstore/tab",window.usingComponents=["component/segements/index","component/page/modules/nearstore/filter","component/page/modules/nearstore/tab"],require("component/page/modules/nearstore/tab"),window.__swanRoute="component/page/modules/nearstore/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","component/page/modules/nearstore/tab","component/page/modules/nearstore/index"],require("component/page/modules/nearstore/index"),window.__swanRoute="component/page/modules/newsinfo/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","component/page/modules/newsinfo/index"],require("component/page/modules/newsinfo/index"),window.__swanRoute="component/page/modules/products/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","component/page/modules/products/index"],require("component/page/modules/products/index"),window.__swanRoute="component/page/modules/services/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","component/page/modules/services/index"],require("component/page/modules/services/index"),window.__swanRoute="component/page/modules/supplyinfo/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","component/page/modules/supplyinfo/index"],require("component/page/modules/supplyinfo/index"),window.__swanRoute="component/page/modules/title/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","component/page/modules/title/index"],require("component/page/modules/title/index"),window.__swanRoute="component/page/modules/tuan/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","component/page/modules/tuan/index"],require("component/page/modules/tuan/index"),window.__swanRoute="component/page/modules/video/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","component/page/modules/video/index"],require("component/page/modules/video/index"),window.__swanRoute="component/page/modules/giftcard/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","component/page/modules/giftcard/index"],require("component/page/modules/giftcard/index"),window.__swanRoute="component/page/modules/vipcard/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","component/page/modules/vipcard/index"],require("component/page/modules/vipcard/index"),window.__swanRoute="component/date_picker/index",window.usingComponents=["component/date_picker/index"],require("component/date_picker/index"),window.__swanRoute="component/toast/index",window.usingComponents=["component/toast/index"],require("component/toast/index"),window.__swanRoute="component/select_address_popup/index",window.usingComponents=["dist/minui/wxc-popup/dist/index","component/select_address_popup/index"],require("component/select_address_popup/index"),window.__swanRoute="component/page/modules/form/form",window.usingComponents=["component/date_picker/index","component/toast/index","component/select_address_popup/index","dist/minui/wxc-icon/dist/index","component/page/modules/form/form"],require("component/page/modules/form/form"),window.__swanRoute="dist/minui/wxc-toast/dist/index",window.usingComponents=["dist/minui/wxc-icon/dist/index","dist/minui/wxc-toast/dist/index"],require("dist/minui/wxc-toast/dist/index"),window.__swanRoute="component/page/modules/comment/index",window.usingComponents=["dist/minui/wxc-toast/dist/index","component/page/modules/comment/index"],require("component/page/modules/comment/index"),window.__swanRoute="component/page/modules/img_advert_fx/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","component/page/modules/img_advert_fx/index"],require("component/page/modules/img_advert_fx/index"),window.__swanRoute="component/hotel_intime/index",window.usingComponents=["component/toast/index","component/hotel_intime/index"],require("component/hotel_intime/index"),window.__swanRoute="component/page/modules/hotel/index",window.usingComponents=["component/hotel_intime/index","component/page/modules/hotel/index"],require("component/page/modules/hotel/index"),window.__swanRoute="component/page/modules/text_nav/index",window.usingComponents=["component/page/modules/text_nav/index"],require("component/page/modules/text_nav/index"),window.__swanRoute="component/page/modules/img_text/index",window.usingComponents=["component/page/modules/img_text/index"],require("component/page/modules/img_text/index"),window.__swanRoute="component/page/modules/notice/index",window.usingComponents=["component/page/modules/notice/index"],require("component/page/modules/notice/index"),window.__swanRoute="component/page/modules/groups/index",window.usingComponents=["component/page/modules/groups/index"],require("component/page/modules/groups/index"),window.__swanRoute="dist/minui/wxc-tab/dist/index",window.usingComponents=["dist/minui/wxc-tab/dist/index"],require("dist/minui/wxc-tab/dist/index"),window.__swanRoute="dist/minui/wxc-tab/dist/panel",window.usingComponents=["dist/minui/wxc-tab/dist/panel"],require("dist/minui/wxc-tab/dist/panel"),window.__swanRoute="component/page/modules/info_category/index",window.usingComponents=["dist/minui/wxc-tab/dist/index","dist/minui/wxc-tab/dist/panel","dist/minui/wxc-icon/dist/index","component/page/modules/info_category/index"],require("component/page/modules/info_category/index"),window.__swanRoute="component/page/modules/designer/index",window.usingComponents=["component/page/modules/designer/index"],require("component/page/modules/designer/index"),window.__swanRoute="component/page/modules/picture/index",window.usingComponents=["component/page/modules/picture/index"],require("component/page/modules/picture/index"),window.__swanRoute="component/page/modules/company/index",window.usingComponents=["component/page/modules/company/index"],require("component/page/modules/company/index"),window.__swanRoute="dist/minui/wxc-price/dist/index",window.usingComponents=["dist/minui/wxc-price/dist/index"],require("dist/minui/wxc-price/dist/index"),window.__swanRoute="component/page/modules/hotellist/index",window.usingComponents=["dist/minui/wxc-price/dist/index","component/page/modules/hotellist/index"],require("component/page/modules/hotellist/index"),window.__swanRoute="component/page/modules/carstore/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","component/page/modules/carstore/index"],require("component/page/modules/carstore/index"),window.__swanRoute="dist/minui/wxc-elip/dist/index",window.usingComponents=["dist/minui/wxc-elip/dist/index"],require("dist/minui/wxc-elip/dist/index"),window.__swanRoute="component/page/modules/carproject/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","dist/minui/wxc-elip/dist/index","dist/minui/wxc-price/dist/index","component/page/modules/carproject/index"],require("component/page/modules/carproject/index"),window.__swanRoute="component/page/modules/cartimescard/index",window.usingComponents=["dist/minui/wxc-cc/dist/index","dist/minui/wxc-price/dist/index","component/page/modules/cartimescard/index"],require("component/page/modules/cartimescard/index"),window.__swanRoute="component/page/modules/edulist/item/index",window.usingComponents=["dist/minui/wxc-elip/dist/index","component/toast/index","component/page/modules/edulist/item/index"];require("component/page/modules/edulist/item/index"),window.__swanRoute="component/page/modules/edulist/index",window.usingComponents=["component/page/modules/edulist/item/index","component/page/modules/edulist/index"],require("component/page/modules/edulist/index"),window.__swanRoute="component/page/modules/cutprice/list/index",window.usingComponents=["dist/minui/wxc-elip/dist/index","dist/minui/wxc-price/dist/index","component/page/modules/cutprice/list/index"],require("component/page/modules/cutprice/list/index"),window.__swanRoute="component/page/modules/cutprice/index",window.usingComponents=["component/page/modules/cutprice/list/index","component/page/modules/cutprice/index"],require("component/page/modules/cutprice/index"),window.__swanRoute="component/page/index",window.usingComponents=["component/page/modules/brands/index","component/page/modules/carousel/index","component/page/modules/coupon/index","component/page/modules/img_advert/index","component/page/modules/img_nav/index","component/page/modules/miaosha/index","component/page/modules/nearstore/index","component/page/modules/newsinfo/index","component/page/modules/products/index","component/page/modules/services/index","component/page/modules/supplyinfo/index","component/page/modules/title/index","component/page/modules/tuan/index","component/page/modules/video/index","component/page/modules/giftcard/index","component/page/modules/vipcard/index","component/page/modules/form/form","component/page/modules/comment/index","component/page/modules/img_advert_fx/index","component/page/modules/hotel/index","component/page/modules/text_nav/index","component/page/modules/img_text/index","component/page/modules/notice/index","component/page/modules/groups/index","component/page/modules/info_category/index","component/page/modules/designer/index","component/page/modules/picture/index","component/page/modules/company/index","component/page/modules/hotellist/index","component/page/modules/carstore/index","component/page/modules/carproject/index","component/page/modules/cartimescard/index","component/page/modules/edulist/index","component/page/modules/cutprice/index","component/page/index"],require("component/page/index"),window.__swanRoute="dist/minui/wxc-abnor/dist/index",window.usingComponents=["dist/minui/wxc-abnor/dist/index"],require("dist/minui/wxc-abnor/dist/index"),window.__swanRoute="component/home_gift_popup/index",window.usingComponents=["dist/minui/wxc-popup/dist/index","component/home_gift_popup/index"],require("component/home_gift_popup/index"),window.__swanRoute="component/phone_action/index",window.usingComponents=["dist/minui/wxc-popup/dist/index","component/phone_action/index"],require("component/phone_action/index"),window.__swanRoute="component/phonebutton/index",window.usingComponents=["component/toast/index","component/phonebutton/index"],require("component/phonebutton/index"),window.__swanRoute="component/phonemodal/phonemodal",window.usingComponents=["component/phonebutton/index","component/toast/index","component/phonemodal/phonemodal"],require("component/phonemodal/phonemodal"),window.__swanRoute="dist/minui/wxc-dialog/dist/index",window.usingComponents=["dist/minui/wxc-popup/dist/index","dist/minui/wxc-dialog/dist/index"],require("dist/minui/wxc-dialog/dist/index"),window.__swanRoute="component/newsinfo/newsinfo",window.usingComponents=["dist/minui/wxc-tab/dist/index","dist/minui/wxc-tab/dist/panel","dist/minui/wxc-icon/dist/index","component/newsinfo/newsinfo"],require("component/newsinfo/newsinfo"),window.__swanRoute="component/category/index",window.usingComponents=["dist/minui/wxc-elip/dist/index","dist/minui/wxc-icon/dist/index","component/category/index"],require("component/category/index"),window.__swanRoute="component/decoration_company/index",window.usingComponents=["component/select_address_popup/index","component/toast/index","dist/minui/wxc-abnor/dist/index","component/decoration_company/index"],require("component/decoration_company/index"),window.__swanRoute="component/waterfall/index",window.usingComponents=["component/waterfall/index"],require("component/waterfall/index"),window.__swanRoute="component/picture-tab/index",window.usingComponents=["component/waterfall/index","component/picture-tab/index"],require("component/picture-tab/index"),window.__swanRoute="component/decoration_picture/index",window.usingComponents=["component/picture-tab/index","component/decoration_picture/index"],require("component/decoration_picture/index"),window.__swanRoute="component/decoration_designer/index",window.usingComponents=["component/decoration_designer/index"],require("component/decoration_designer/index"),window.__swanRoute="component/live/live_item",window.usingComponents=["dist/minui/wxc-toast/dist/index","component/live/live_item"],require("component/live/live_item"),window.__swanRoute="component/live/live_list",window.usingComponents=["component/live/live_item","component/live/live_list"],require("component/live/live_list"),window.__swanRoute="component/live/live_page",window.usingComponents=["component/live/live_list","dist/minui/wxc-tab/dist/index","dist/minui/wxc-tab/dist/panel","dist/minui/wxc-abnor/dist/index","component/live/live_page"],require("component/live/live_page"),window.__swanRoute="dist/minui/wxc-search/dist/index",window.usingComponents=["dist/minui/wxc-icon/dist/index","dist/minui/wxc-search/dist/index"],require("dist/minui/wxc-search/dist/index"),window.__swanRoute="pages/page/search/product-tab/index",window.usingComponents=["dist/minui/wxc-flex/dist/index","dist/minui/wxc-abnor/dist/index","pages/page/search/product-tab/index"],require("pages/page/search/product-tab/index"),window.__swanRoute="pages/page/search/store-tab/index",window.usingComponents=["dist/minui/wxc-flex/dist/index","dist/minui/wxc-abnor/dist/index","component/segements/index","pages/page/search/store-tab/index"],require("pages/page/search/store-tab/index"),window.__swanRoute="pages/pingjia/component/evaluatecontent/index",window.usingComponents=["component/toast/index","pages/pingjia/component/evaluatecontent/index"],require("pages/pingjia/component/evaluatecontent/index"),window.__swanRoute="pages/pingjia/component/evaluateitems/index",window.usingComponents=["pages/pingjia/component/evaluateitems/index"],require("pages/pingjia/component/evaluateitems/index"),window.__swanRoute="pages/cutprice/components/help-modal/index",window.usingComponents=["dist/minui/wxc-popup/dist/index","pages/cutprice/components/help-modal/index"],require("pages/cutprice/components/help-modal/index"),window.__swanRoute="pages/cutprice/components/cut-modal-self/index",window.usingComponents=["dist/minui/wxc-popup/dist/index","pages/cutprice/components/cut-modal-self/index"],require("pages/cutprice/components/cut-modal-self/index"),window.__swanRoute="pages/cutprice/components/cut-modal-friend/index",window.usingComponents=["dist/minui/wxc-popup/dist/index","pages/cutprice/components/cut-modal-friend/index"],require("pages/cutprice/components/cut-modal-friend/index"),window.__swanRoute="pages/shop/components/store_header/index",window.usingComponents=["dist/minui/wxc-label/dist/index","pages/shop/components/store_header/index"],require("pages/shop/components/store_header/index"),window.__swanRoute="pages/shop/components/cart/index",window.usingComponents=["component/phonemodal/phonemodal","pages/shop/components/cart/index"],require("pages/shop/components/cart/index"),window.__swanRoute="dist/minui/wxc-loadmore/dist/index",window.usingComponents=["dist/minui/wxc-loadmore/dist/index"],require("dist/minui/wxc-loadmore/dist/index"),window.__swanRoute="pages/shop/components/store_mall/index",window.usingComponents=["pages/shop/components/store_header/index","component/cart_popup/index","pages/shop/components/cart/index","dist/minui/wxc-loadmore/dist/index","component/toast/index","pages/shop/components/store_mall/index"],require("pages/shop/components/store_mall/index"),window.__swanRoute="pages/mine/component/cutprice/index",window.usingComponents=["dist/minui/wxc-countdown/dist/index","pages/mine/component/cutprice/index"],require("pages/mine/component/cutprice/index"),window.__swanRoute="dist/minui/wxc-counter/dist/index",window.usingComponents=["dist/minui/wxc-icon/dist/index","dist/minui/wxc-counter/dist/index"],require("dist/minui/wxc-counter/dist/index"),window.__swanRoute="pages/services/components/service_spec_dialog/index",window.usingComponents=["pages/services/components/service_spec_dialog/index"],require("pages/services/components/service_spec_dialog/index"),window.__swanRoute="pages/services/components/service_arrivedtime_dialog/index",window.usingComponents=["pages/services/components/service_arrivedtime_dialog/index"],require("pages/services/components/service_arrivedtime_dialog/index"),window.__swanRoute="pages/services/components/service_customer_form/index",window.usingComponents=["dist/minui/wxc-icon/dist/index","pages/services/components/service_customer_form/index"],require("pages/services/components/service_customer_form/index"),window.__swanRoute="pages/services/components/service_order_project/index",window.usingComponents=["dist/minui/wxc-elip/dist/index","pages/services/components/service_order_project/index"],require("pages/services/components/service_order_project/index"),window.__swanRoute="pages/services/components/service_store_address/index",window.usingComponents=["dist/minui/wxc-elip/dist/index","pages/services/components/service_store_address/index"],require("pages/services/components/service_store_address/index"),window.__swanRoute="pages/services/components/service_order_list_action/index",window.usingComponents=["component/toast/index","pages/services/components/service_order_list_action/index"],require("pages/services/components/service_order_list_action/index"),window.__swanRoute="dist/minui/wxc-tab/dist/label",window.usingComponents=["dist/minui/wxc-tab/dist/label"],require("dist/minui/wxc-tab/dist/label"),window.__swanRoute="pages/orders/components/order_refund_action/index",window.usingComponents=["pages/orders/components/order_refund_action/index"],require("pages/orders/components/order_refund_action/index"),window.__swanRoute="pages/hotel/components/hotel-tab/segements/index",window.usingComponents=["dist/minui/wxc-icon/dist/index","dist/minui/wxc-popup/dist/index","pages/hotel/components/hotel-tab/segements/index"],require("pages/hotel/components/hotel-tab/segements/index"),window.__swanRoute="pages/hotel/components/hotel-tab/hotel_tab/index",window.usingComponents=["pages/hotel/components/hotel-tab/segements/index","component/page/modules/nearstore/filter","pages/hotel/components/hotel-tab/hotel_tab/index"],require("pages/hotel/components/hotel-tab/hotel_tab/index"),window.__swanRoute="pages/hotel/components/order_item/index",window.usingComponents=["pages/hotel/components/order_item/index"],require("pages/hotel/components/order_item/index"),window.__swanRoute="pages/hotel/components/date_picker/calendar",window.usingComponents=["pages/hotel/components/date_picker/calendar"],require("pages/hotel/components/date_picker/calendar"),window.__swanRoute="pages/hotel/components/date_picker/index",window.usingComponents=["pages/hotel/components/date_picker/calendar","pages/hotel/components/date_picker/index"],require("pages/hotel/components/date_picker/index"),window.__swanRoute="pages/live/components/live-pusher/index",window.usingComponents=["dist/minui/wxc-countdown/dist/index","pages/live/components/live-pusher/index"],require("pages/live/components/live-pusher/index"),window.__swanRoute="pages/live/components/live-player/index",window.usingComponents=["pages/live/components/live-player/index"],require("pages/live/components/live-player/index"),window.__swanRoute="pages/live/components/live-video/index",window.usingComponents=["pages/live/components/live-video/index"],require("pages/live/components/live-video/index"),window.__swanRoute="pages/car/components/project_tab/index",window.usingComponents=["component/segements/index","component/page/modules/nearstore/filter","pages/car/components/project_tab/index"],require("pages/car/components/project_tab/index"),window.__swanRoute="pages/car/components/order_item/index",window.usingComponents=["pages/car/components/order_item/index"],require("pages/car/components/order_item/index"),window.__swanRoute="pages/edu/components/title_layout/index",window.usingComponents=["pages/edu/components/title_layout/index"],require("pages/edu/components/title_layout/index"),window.__swanRoute="pages/edu/components/imgtext/index",window.usingComponents=["pages/edu/components/title_layout/index","pages/edu/components/imgtext/index"],require("pages/edu/components/imgtext/index"),window.__swanRoute="pages/edu/components/video/index",window.usingComponents=["pages/edu/components/title_layout/index","pages/edu/components/video/index"],require("pages/edu/components/video/index"),window.__swanRoute="pages/edu/components/waves/index",window.usingComponents=["pages/edu/components/waves/index"],require("pages/edu/components/waves/index"),window.__swanRoute="pages/edu/components/bgaudio/index",window.usingComponents=["pages/edu/components/title_layout/index","pages/edu/components/waves/index","pages/edu/components/bgaudio/index"],require("pages/edu/components/bgaudio/index"),window.__swanRoute="pages/edu/components/specialcolumn/index",window.usingComponents=["pages/edu/components/title_layout/index","dist/minui/wxc-tab/dist/index","dist/minui/wxc-tab/dist/label","dist/minui/wxc-abnor/dist/index","component/page/modules/edulist/item/index","component/toast/index","pages/edu/components/specialcolumn/index"],require("pages/edu/components/specialcolumn/index");