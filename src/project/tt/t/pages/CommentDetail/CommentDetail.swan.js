function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?n:e}function _inherits(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}!function(global,san){function processTemplateModule(filterTemplateArrs,filterModule){eval(filterModule);var modules={},templateFiltersObj={};return filterTemplateArrs&&filterTemplateArrs.forEach(function(element){var filterName=element.filterName,func=element.func,module=element.module;modules[module]=eval(module),templateFiltersObj[filterName]=function(){var n;return(n=modules[module])[func].apply(n,arguments)}}),templateFiltersObj}global.errorMsg=[];var templateComponents=Object.assign({},{}),param={},filterArr=JSON.parse("[]");try{filterArr&&filterArr.forEach(function(item){param[item.module]=eval(item.module)});var pageContent='<view class="main-panel"><scroll-view s-if="!start_loading" scroll-y="" on-bindscrolltolower="eventHappen(\'scrolltolower\', $event, \'loadMore\', \'\', \'bind\')"><view class="list-header" s-if=" !fromIndex "><index-comment comment="{{root_comment}}" dark="true" dark-title="true" mid="{{mid == 0 ? comment_id : mid}}" from-msg="{{fromMsg}}"></index-comment><view class="more-comment" s-for="item, index in  commentList " s-key="idx"><index-comment comment="{{ item }}" dark="true" mid="{{mid == 0 ? comment_id : mid}}" from-msg="{{fromMsg}}"></index-comment></view></view><view s-if=" fromIndex " s-for="item, index in  commentList " s-key="idx"><index-comment comment="{{ item }}" s-if=" item != undefined " mid="{{mid == 0 ? comment_id : mid}}"></index-comment></view><view class="load-more" s-if="show_loadmore"><text >加载中...</text></view></scroll-view></view>',renderPage=function renderPage(filters,modules){var componentFactory=global.componentFactory,componentFragments=componentFactory.getAllComponents(),user_self_compo_45a4=function(global,componentFragments){var templateComponents={},usingComponentMap=JSON.parse('{"comment-content":"common/Content/Content"}'),filterCustomArr=JSON.parse("[]"),modules={},filtersObj={};filterCustomArr&&filterCustomArr.forEach(function(element){modules[element.module]=eval(element.module);var func=element.func,module=element.module;filtersObj[element.filterName]=function(){var n;return(n=modules[module])[func].apply(n,arguments)}});var components=Object.assign({},componentFragments,templateComponents);return global.componentFactory.componentDefine("common/Comment/Comment.swan",Object.assign({},componentFactory.getProtos("super-custom-component"),{template:'<swan-index-comment><view class="{{dark ?\'comment-panel-dark\' : \'comment-panel\'}}"><image data-name="{{comment.name}}" class="user-header" src="{{comment.head_img}}" on-bindtap="eventHappen(\'tap\', $event, \'goToProfile\', \'\', \'bind\')"></image><view class="main-layout"><text data-name="{{comment.name}}" class="user-name" on-bindtap="eventHappen(\'tap\', $event, \'goToProfile\', \'\', \'bind\')">{{comment.name}}</text><comment-content is-comment="true" card-content-list="{{comment.cardContentList}}" comment-id="{{ comment.id }}"></comment-content><view class="more" hidden="{{!comment.more}}"><view s-key="idx" s-for="item, index in comment.comments"><text class="link-user" data-name="{{item.name}}" on-bindtap="eventHappen(\'tap\', $event, \'goToProfile\', \'\', \'bind\')">{{item.name}}</text><text class="link-text">: </text><comment-content card-content-list="{{item.cardContentList}}" is-more-comment="true" data-comment="{{item}}" on-bindtap="eventHappen(\'tap\', $event, \'goToCommentDetail\', \'\', \'bind\')"></comment-content></view><view ><text class="link-user" data-name="{{comment.more.name}}" on-bindtap="eventHappen(\'tap\', $event, \'goToProfile\', \'\', \'bind\')">{{comment.more.name}}</text><text s-if="comment.more.more && comment.more.more != \'\'" class="some-person" on-bindtap="eventHappen(\'tap\', $event, \'goToCommentDetail\', \'\', \'bind\')">{{comment.more.more}}</text><text s-elif="comment.more.name && comment.more.name != \'\'" class="some-person" on-bindtap="eventHappen(\'tap\', $event, \'goToCommentDetail\', \'\', \'bind\')"></text><text s-if="comment.more.text && comment.more.text != \'\'" class="link-user" on-bindtap="eventHappen(\'tap\', $event, \'goToCommentDetail\', \'\', \'bind\')">{{comment.more.text}}</text></view></view><view class="button-layout"><text class="comment-time" id="comment-time">{{comment.time}}</text><view class="button-layout-right"><button class="repost-box" on-bindtap="eventHappen(\'tap\', $event, \'showTips\', \'\', \'catch\')"><image class="img-button" src="/static/resources/images/comment_icon_retweet.png"></image></button><button class="comment-box" on-bindtap="eventHappen(\'tap\', $event, \'showTips\', \'\', \'catch\')"><image class="img-button" src="/static/resources/images/comment_icon_comment.png"></image></button><view class="like-box" on-bindtap="eventHappen(\'tap\', $event, \'showTips\', \'\', \'catch\')"><button class="{{dark && !darkTitle ? \'text-like-button\': \'text-like-button-white\'}}"><view class="img-box"><image class="img-button" src="/static/resources/images/bottombar_comment_icon_zan.png"></image></view><text class="zan-text">{{comment.like_counts}}</text></button></view></view></view><view s-if="darkTitle" class="return" on-bindtap="eventHappen(\'tap\', $event, \'goBack\', \'\', \'bind\')"><text >查看原微博</text></view></view></view></swan-index-comment>',componentPath:"common/Comment/Comment.swan",componentName:"index-comment",customComponentCss:"swan-index-comment swan-button{\n  background: inherit;\n  padding: 0;\n}\nswan-index-comment .index-comment__button-hover {\n  background: inherit;\n  color:rgba(0, 0, 0, 0.6);\n}\nswan-index-comment swan-button::after{\n  border: none;\n}\nswan-index-comment .index-comment__comment-panel {\n  display: flex;\n  padding: 0 3.2vw;\n}\nswan-index-comment .index-comment__comment-panel-dark{\n  display: flex;\n  padding: 0 3.2vw;\n  border-bottom: 0.13333333333333333vw solid rgba(230,230,230,0.5);   \n}\nswan-index-comment .index-comment__user-header {\n  width: 8.533333333333333vw;\n  height: 8.533333333333333vw;\n  border-radius: 4.266666666666667vw;\n  flex-shrink: 0;\n  margin-right: 2.1333333333333333vw;\n  border: 0.13333333333333333vw solid rgba(230,230,230,0.15);\n}\nswan-index-comment .index-comment__comment-panel-dark .index-comment__main-layout{\n  display: flex;\n  flex-direction: column;\n  margin-left: 2vw;\n  flex-grow: 1;\n  margin-bottom: 3.7333333333333334vw;\n}\nswan-index-comment .index-comment__comment-panel .index-comment__main-layout{\n  display: flex;\n  flex-direction: column;\n  margin-left: 2vw;\n  flex-grow: 1;\n  margin-bottom: 3.7333333333333334vw;\n  padding-bottom: 3.2vw;\n  border-bottom: 0.13333333333333333vw solid #e6e6e6;   \n}\nswan-index-comment .index-comment__button-layout-right{\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n}\nswan-index-comment .index-comment__return{\n  font-family: PingFangSC-Regular;\n  font-size: 3.7333333333333334vw;\n  color: #3C6E9E;\n  margin-top:3.2vw; \n}\nswan-index-comment .index-comment__user-name {\n  font-family: PingFangSC-Regular;\n  font-size: 3.7333333333333334vw;\n  color: #636363;\n  white-space: nowrap; \n  text-overflow: ellipsis;\n  overflow: hidden;\n}\nswan-index-comment .index-comment__user-style{\n  font-family: PingFangSC-Regular;\n  font-size: 4vw;\n  color: #3C6E9E;\n}\nswan-index-comment .index-comment__button-layout {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-top: 1.8666666666666667vw;\n}\nswan-index-comment .index-comment__comment-time{\n  font-family: PingFangSC-Light;\n  font-size: 3.2vw;\n  color: #939393;\n  line-height: 3.2vw;\n}\nswan-index-comment .index-comment__repost-box{\n  display: flex;\n  margin-right: 6.666666666666667vw;\n  background:none;\n}\nswan-index-comment .index-comment__comment-box{\n  display: flex;\n  margin-right: 6.666666666666667vw;\n  background:none;\n}\nswan-index-comment .index-comment__like-box{\n  display: flex;\n}\nswan-index-comment .index-comment__img-box{\n  display: flex;\n  align-items: center;\n}\nswan-index-comment .index-comment__img-button {\n  width: 4.533333333333333vw;\n  height: 4.533333333333333vw;\n}\nswan-index-comment .index-comment__zan-text{\n  margin-left:1.0666666666666667vw;\n  font-family: PingFangSC-Regular;\n  font-size: 3.2vw;\n  color: #939393;\n  line-height: 3.7333333333333334vw;\n}\nswan-index-comment .index-comment__some-people{\n  font-size: 3.7333333333333334vw;\n}\nswan-index-comment .index-comment__more {\n  background-color: #F7F7F7;\n  padding: 2.1333333333333333vw 2.6666666666666665vw;\n  margin-top: 1.3333333333333333vw;\n}\nswan-index-comment .index-comment__some-person{\n  font-family: PingFangSC-Regular;\n  font-size: 3.7333333333333334vw;\n  color: #666666;\n  margin-right: 1.6vw;\n  margin-left: 0.26666666666666666vw;\n}\nswan-index-comment .index-comment__link-text {\n  font-family: PingFangSC-Regular;\n  font-size:3.7333333333333334vw;\n}\nswan-index-comment .index-comment__link-user{\n  font-family: PingFangSC-Regular;\n  color: #507daf;\n  font-size: 3.7333333333333334vw;\n}\nswan-index-comment .index-comment__text-like-button,swan-index-comment .index-comment__text-like-button-white{\n  font-family: PingFangSC-Regular;\n  font-size: 3.7333333333333334vw;\n  color: #636363;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  background-color: #f5f5f5;\n}\nswan-index-comment .index-comment__text-like-button-white{\n  background-color: #ffffff;\n}"}),{classProperties:{components:components,filters:Object.assign({},filtersObj)}}),Promise.resolve().then(function(){for(var n in usingComponentMap)components[n]=customAbsolutePathMap[usingComponentMap[n]]}),global.componentFactory.getComponents("common/Comment/Comment.swan")}(global,componentFragments),user_self_compo_45a5=function(global,componentFragments){var templateComponents={},usingComponentMap=JSON.parse("{}"),filterCustomArr=JSON.parse("[]"),modules={},filtersObj={};filterCustomArr&&filterCustomArr.forEach(function(element){modules[element.module]=eval(element.module);var func=element.func,module=element.module;filtersObj[element.filterName]=function(){var n;return(n=modules[module])[func].apply(n,arguments)}});var components=Object.assign({},componentFragments,templateComponents);return global.componentFactory.componentDefine("common/Error/Error.swan",Object.assign({},componentFactory.getProtos("super-custom-component"),{template:"<swan-error-view><view class=\"{{ !sourcePage ? 'main-panel' : 'law-sensitive-panel' }}\"><image s-if=\" errorContent \" class=\"error-img\" src=\"/static/resources/images/empty_deleted_article.png\"></image><text class=\"{{ (!sourcePage || sourcePage == '') ? 'error-content' : 'law-sensitive-content' }}\">{{errorContent}}</text></view></swan-error-view>",componentPath:"common/Error/Error.swan",componentName:"error-view",customComponentCss:"swan-error-view .error-view__main-panel {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\nswan-error-view .error-view__law-sensitive-panel {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\nswan-error-view .error-view__main-panel swan-text {\n  margin: 1.3333333333333333vw 0;\n}\nswan-error-view .error-view__error-img {\n  width: 26.666666666666668vw;\n  height: 26.666666666666668vw;\n}\nswan-error-view .error-view__law-sensitive-content {\n  font-family: PingFangSC-Regular;\n  font-size: 3.7333333333333334vw;\n  color: #939393;\n  margin-top: 3.2vw;\n}\nswan-error-view .error-view__error-content {\n  font-family: PingFangSC-Regular;\n  font-size: 4.8vw;\n  color: #939393;\n}\nswan-error-view .error-view__error-text {\n  font-family: PingFangSC-Regular;\n  font-size: 4.8vw;\n  color: #3C6E9E;\n  border-bottom: 0.26666666666666666vw solid #3C6E9E;\n}\nswan-error-view .error-view__error-btn{\n  margin: 6.4vw auto 0;\n  font-family: PingFangSC-Medium;\n  font-size: 4.266666666666667vw;\n  line-height: 9.866666666666667vw;\n  color: #636363;\n  text-align: center;\n  border-radius: 26.666666666666668vw;\n  border: 0.5333333333333333vw solid #D2D2D2;\n  width: 49.06666666666667vw;\n  background: white;\n}\nswan-error-view swan-button::after {\n  border: none;\n}"}),{classProperties:{components:components,filters:Object.assign({},filtersObj)}}),Promise.resolve().then(function(){for(var n in usingComponentMap)components[n]=customAbsolutePathMap[usingComponentMap[n]]}),global.componentFactory.getComponents("common/Error/Error.swan")}(global,componentFragments),user_self_compo_45a6=function(global,componentFragments){var templateComponents={},usingComponentMap=JSON.parse("{}"),filterCustomArr=JSON.parse("[]"),modules={},filtersObj={};filterCustomArr&&filterCustomArr.forEach(function(element){modules[element.module]=eval(element.module);var func=element.func,module=element.module;filtersObj[element.filterName]=function(){var n;return(n=modules[module])[func].apply(n,arguments)}});var components=Object.assign({},componentFragments,templateComponents);return global.componentFactory.componentDefine("common/Content/Content.swan",Object.assign({},componentFactory.getProtos("super-custom-component"),{template:"<swan-comment-content><view class=\"wb-main-content-wrap\"><text class=\"nick-name\" s-if=\" isRetweeted && !isDeleted \" data-name=\"{{nickName}}\" on-bindtap=\"eventHappen('tap', $event, 'goToProfile', '', 'catch')\">@{{nickName}}:</text><view class=\"{{isMoreComment ? 'wb-more-comment-content':'wb-main-content'}}\" s-key=\"{{href}}\" s-for=\"item, index in  cardContentList \"><image class=\"{{isMoreComment ? 'wb-more-comment-content-image':'wb-main-content-image'}}\" s-if=\" item.icon && item.icon != '#' && item.tag != 'video' && item.tag != 'article' || (item.tag == 'article' && item.toShowArticle == true)\" src=\"{{ item.icon }}\"></image><view s-if=\" item.tag == 'launchApp' && item.content \" style=\"display: inline;\" on-bindtap=\"eventHappen('tap', $event, 'tapLaunchApp', '', 'catch')\"><view class=\"{{ isMoreComment ? 'wb-more-comment-content-button':'wb-main-content-button' }}\">{{ item.content }}</view></view><text class=\"{{isMoreComment ? 'wb-more-comment-content-a wb-more-comment-content-a1':'wb-main-content-a wb-main-content-a1'}}\" data-href=\"{{ item.href }}\" s-elif=\" item.content && item.tag != 'normal' && item.tag != 'delete' && item.tag != 'at' && item.tag != 'emotion' && item.tag != 'image' && item.tag != 'continue' && item.tag != 'video' && item.tag != 'super' && item.tag != 'topic' && item.tag != 'article'|| (item.tag == 'article' && item.toShowArticle == true)\" on-bindtap=\"eventHappen('tap', $event, 'goToWebView', '', 'catch')\">{{ item.content }}</text><text class=\"{{isMoreComment ? 'wb-more-comment-content-a wb-more-comment-content-a2':'wb-main-content-a wb-main-content-a2'}}\" data-content=\"{{ item.content }}\" data-href=\"{{item.href}}\" s-elif=\"item.tag == 'super' && item.content\" on-bindtap=\"eventHappen('tap', $event, 'goToSuperSubject', '', 'catch')\">{{ item.content }}</text><text class=\"{{isMoreComment ? 'wb-more-comment-content-a wb-more-comment-content-a3':'wb-main-content-a wb-main-content-a3'}}\" data-content=\"{{ item.content }}\" data-href=\"{{item.href}}\" s-elif=\"item.tag == 'topic' && item.content\" on-bindtap=\"eventHappen('tap', $event, 'goToTopic', '', 'catch')\">{{ item.content }}</text><text class=\"{{isMoreComment ? 'wb-more-comment-content-a wb-more-comment-content-a4':'wb-main-content-a wb-main-content-a4'}}\" data-href=\"{{ item.href }}\" data-name=\"{{item.content }}\" s-elif=\" item.tag == 'at' && item.content\" on-bindtap=\"eventHappen('tap', $event, 'goToProfile', '', 'catch')\">{{ item.content }}</text><text class=\"{{isMoreComment ? 'wb-more-comment-content-a wb-more-comment-content-a5':'wb-main-content-a wb-main-content-a5'}}\" data-href=\"{{ item.href }}\" s-elif=\" item.tag == 'image' && item.content\" on-bindtap=\"eventHappen('tap', $event, 'previewImage', '', 'catch')\">{{ item.content }}</text><text class=\"wb-main-content-more-all\" data-href=\"{{ item.href }}\" s-elif=\" item.tag == 'continue' \" on-bindtap=\"eventHappen('tap', $event, 'goToDetail', '', 'catch')\">{{ item.content }}</text><text class=\"{{isMoreComment ? 'wb-more-comment-content-text':'wb-main-content-text'}}\" s-elif=\" item.tag != 'video' && item.tag != 'article' && item.content\">{{ item.content }}</text></view></view></swan-comment-content>",componentPath:"common/Content/Content.swan",componentName:"comment-content",customComponentCss:"swan-comment-content swan-button::after {\n  border: none;  \n}\nswan-comment-content .comment-content__wb-main-content-wrap {\n  display: inline;\n}\nswan-comment-content .comment-content__wb-main-content,swan-comment-content  .comment-content__wb-more-comment-content {\n  display: inline;\n  font-size:0vw;\n  margin:0vw;\n  padding:0vw;\n}\nswan-comment-content .comment-content__wb-main-content-a {\n  display: inline;\n  font-family: PingFangSC-Regular;\n  font-size: 4.266666666666667vw;\n  color: #3C6E9E;\n  word-wrap:break-word;\n}\nswan-comment-content .comment-content__wb-main-content-a1{\n  margin:0 -0.6666666666666666vw;\n}\nswan-comment-content .comment-content__wb-main-content-a2{\n  margin:0 -1.0666666666666667vw;\n}\nswan-comment-content .comment-content__wb-main-content-a3{\n  margin:0 -0.6666666666666666vw 0 -0.26666666666666666vw;\n}\nswan-comment-content .comment-content__wb-main-content-a5{\n  margin:0vw -0.6666666666666666vw 0 -1.3333333333333333vw;\n  line-height: 150%;\n}\nswan-comment-content .comment-content__wb-main-content-image {\n  width: 4.266666666666667vw;\n  height: 4.266666666666667vw;\n  vertical-align:top;\n  margin:1.0666666666666667vw 0.6666666666666666vw 0;\n}\nswan-comment-content .comment-content__wb-main-content-text {\n  font-family: PingFangSC-Regular;\n  font-size: 4.266666666666667vw;\n  color: #333333;\n  margin-right:-1.3333333333333333vw;\n}\nswan-comment-content .comment-content__wb-main-content-more-all{\n  display: inline;\n  font-family: PingFangSC-Regular;\n  font-size: 4.266666666666667vw;\n  color: #3C6E9E;\n}\nswan-comment-content .comment-content__nick-name {\n  font-family: PingFangSC-Regular;\n  font-size: 4.266666666666667vw;\n  color: #3C6E9E;\n  word-break: break-all;\n}\nswan-comment-content .comment-content__wb-more-comment-content-image {\n  width: 3.7333333333333334vw;\n  height: 3.7333333333333334vw;\n  vertical-align:-10%;\n  /* vertical-align:middle; */\n}\nswan-comment-content .comment-content__wb-more-comment-content-a {\n  font-family: PingFangSC-Regular;\n  font-size: 3.7333333333333334vw;\n  color: #3C6E9E;\n  max-width: 93.6vw;\n  /* word-wrap:break-word; */\n}\nswan-comment-content .comment-content__wb-more-comment-content-text {\n  display: inline;\n  font-family: PingFangSC-Regular;\n  font-size: 3.7333333333333334vw;\n  color: #333333;\n}\nswan-comment-content .comment-content__link-user {\n  color: #507daf;\n}\nswan-comment-content .comment-content__wb-main-content-button {\n  display: inline;\n  font-family: PingFangSC-Regular;\n  font-size: 4.266666666666667vw;\n  color: #3C6E9E;\n  word-wrap: break-word;\n  line-height: 0vw;\n  padding:0vw;\n}\nswan-comment-content .comment-content__wb-more-comment-content-button {\n  display: inline;\n  font-family: PingFangSC-Regular;\n  font-size: 3.7333333333333334vw;\n  color: #3C6E9E;\n  max-width: 93.6vw;\n  word-wrap: break-word;\n  line-height: 0vw;\n  padding:0vw;\n}"}),{classProperties:{components:components,filters:Object.assign({},filtersObj)}}),Promise.resolve().then(function(){for(var n in usingComponentMap)components[n]=customAbsolutePathMap[usingComponentMap[n]]}),global.componentFactory.getComponents("common/Content/Content.swan")}(global,componentFragments),customAbsolutePathMap={"common/Comment/Comment":user_self_compo_45a4,"common/Error/Error":user_self_compo_45a5,"common/Content/Content":user_self_compo_45a6},pageUsingComponentMap=JSON.parse('{"index-comment":"common/Comment/Comment","error-view":"common/Error/Error"}'),customComponents=Object.keys(pageUsingComponentMap).reduce(function(n,e){return n[e]=customAbsolutePathMap[pageUsingComponentMap[e]],n},{});global.pageRender(pageContent,templateComponents,customComponents,filters,modules)},oldPatch=function(n){Object.assign(n.components,{});var e=function(e){function t(e){_classCallCheck(this,t);var o=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.components=n.components,o}return _inherits(t,e),t}(n);e.template='<swan-wrapper tabindex="-1">'+pageContent+"</swan-wrapper>";var t=new e;t.slaveLoaded(),t.communicator.onMessage("initData",function(n){t.setInitData(n),t.attach(document.body)},{listenPreviousEvent:!0})};global.pageRender?renderPage(filterArr,param):oldPatch(window.PageComponent)}catch(n){throw global.errorMsg.execError=n,n}}(window,window.san);