function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}!function(global,san){function processTemplateModule(filterTemplateArrs,filterModule){eval(filterModule);var modules={},templateFiltersObj={};return filterTemplateArrs&&filterTemplateArrs.forEach(function(element){var filterName=element.filterName,func=element.func,module=element.module;modules[module]=eval(module),templateFiltersObj[filterName]=function(){var e;return(e=modules[module])[func].apply(e,arguments)}}),templateFiltersObj}global.errorMsg=[];var templateComponents=Object.assign({},{}),param={},filterArr=JSON.parse("[]");try{filterArr&&filterArr.forEach(function(item){param[item.module]=eval(item.module)});var pageContent='<view s-if="!userinfo.mobile"><view class="mine-error"><image src="http://imgcdnali.wfenxiao.com.cn/xcx/c/no-login.png" class="brand-item-image"></image><view class="mine-error-text">更多服务登录后即可体验</view><view class="button-wrap"><button on-bindtap="eventHappen(\'tap\', $event, \'gotoLogin\', \'\', \'catch\')" class="modal-btn-big">极速登录</button></view></view></view><view s-if="userinfo.mobile && carts && carts.length>0" class="container"><view s-for="item, storeIndex in carts" class=\'zan-panel\'><navigator hover-class="none" url="/pages/shop/products/products?storeid={{item.storeId}}" class="cart"><view hover-class="none" url="/pages/shop/products/products?storeid={{item.storeId}}" class="cart-title"><text class="cart-title--text">{{item.storeName}}</text><view class="cart-title--arrow" on-bindtap="eventHappen(\'tap\', $event, \'deleteStore\', \'\', \'catch\')" data-storeid="{{item.storeId}}"><image src="http://imgcdnali.wfenxiao.com.cn/xcx/c/order/ic_delete_cart.png"></image><text >删除</text></view></view></navigator><view style="position:relative;"><view class=\'store-close__bg\' s-if="(item.isClose == 1 && item.isReceive == 0) || item.isOpen == 0"><view s-if="item.isClose==1 && item.isReceive==0">店铺已打烊，暂停接单</view><view s-if="item.isOpen==0">休息中，暂停接单</view><view class=\'open_time\' s-if="item.isOpen==0&&item.autoOpen==1">开业时间 {{item.autoOpenTime}}</view></view><navigator hover-class="none" url="/pages/shop/carts/index?storeId={{item.storeId}}" class="cart"><view style="display:flex;align-items:center"><view style="flex:4" class="cart-items"><template s-for="good, goodIndex in item.goodsList"><view class="cart-item"><view s-if="good.quantity>1" class="cart-item--num">{{good.quantity}}</view><view class="cart-item--thumb"><view s-if="good.msg" class="cart-item--cover">{{good.msg}}</view><image class="cart-item--image" mode="aspectFill" src="{{good.imgUrl}}"></image></view><text class="cart-item--{{good.msg ? \'price-invalid\' : \'price\' }}">￥{{good.price}}</text></view></template></view><view style="flex:1" class="cart-item">共{{item.cartNum}}件 ></view></view></navigator></view></view></view><template s-if="userinfo.mobile && carts && carts.length==0"><view style="display:flex;flex-direction:column;align-items:center"><image src="http://imgcdnali.wfenxiao.com.cn/xcx/c/icons/no_order.png" style="margin-top:100px;width:20vw;height:20vw"></image><view style="margin-top:20px;font-size:3.7333333333333334vw;color:#bbb;">购物车中暂无商品\n    </view></view></template>',renderPage=function renderPage(filters,modules){var componentFactory=global.componentFactory,componentFragments=componentFactory.getAllComponents(),user_self_compo_934356=function(global,componentFragments){var templateComponents={},usingComponentMap=JSON.parse('{"toast":"component/toast/index"}'),filterCustomArr=JSON.parse("[]"),modules={},filtersObj={};filterCustomArr&&filterCustomArr.forEach(function(element){modules[element.module]=eval(element.module);var func=element.func,module=element.module;filtersObj[element.filterName]=function(){var e;return(e=modules[module])[func].apply(e,arguments)}});var components=Object.assign({},componentFragments,templateComponents);return global.componentFactory.componentDefine("component/phonebutton/index.swan",Object.assign({},componentFactory.getProtos("super-custom-component"),{template:"<swan-phonebutton><view class=\"button-wrap\"><button on-bindtap=\"eventHappen('tap', $event, 'gotoLogin', '', 'catch')\" class=\"{{size == 'big'?'modal-btn-big':'modal-btn-primary'}}\">极速登录</button></view><toast show=\"{{toast.show}}\" title=\"{{toast.title}}\" /></swan-phonebutton>",componentPath:"component/phonebutton/index.swan",componentName:"phonebutton",customComponentCss:"/* component/phonebutton/index.css */\n.phonebutton__button-wrap{\n  display: flex;\n  justify-content: center;\n}\n.phonebutton__modal-btn-primary{\n  width: 29.333333333333332vw;\n  height: 8.533333333333333vw;\n  background: #f32828;\n  border-radius: 1.0666666666666667vw;\n  line-height: 8.533333333333333vw;\n  color: #fff;\n  font-size: 3.7333333333333334vw;\n}\n.phonebutton__modal-btn-big{\n  width:48vw;\n  height:11.733333333333333vw;\n  line-height:11.733333333333333vw;\n  background-color:#f22222;\n  border-color:#f22222;\n  font-size:3.7333333333333334vw;\n  color:#fff;\n\n}\n"}),{classProperties:{components:components,filters:Object.assign({},filtersObj)}}),Promise.resolve().then(function(){for(var e in usingComponentMap)components[e]=customAbsolutePathMap[usingComponentMap[e]]}),global.componentFactory.getComponents("component/phonebutton/index.swan")}(global,componentFragments),user_self_compo_934357=function(global,componentFragments){var templateComponents={},usingComponentMap=JSON.parse("{}"),filterCustomArr=JSON.parse("[]"),modules={},filtersObj={};filterCustomArr&&filterCustomArr.forEach(function(element){modules[element.module]=eval(element.module);var func=element.func,module=element.module;filtersObj[element.filterName]=function(){var e;return(e=modules[module])[func].apply(e,arguments)}});var components=Object.assign({},componentFragments,templateComponents);return global.componentFactory.componentDefine("component/toast/index.swan",Object.assign({},componentFactory.getProtos("super-custom-component"),{template:"<swan-toast><view class=\"toast\" s-if=\" show \" style=\"width:70%\" on-bindtap=\"eventHappen('tap', $event, 'clearToast', '', 'bind')\">{{ title }}</view></swan-toast>",componentPath:"component/toast/index.swan",componentName:"toast",customComponentCss:".toast__toast {\n  position: fixed;\n  top: 35%;\n  left: 15%;\n  transform: translateZ(0) translateY(-100%);\n  background: rgba(0, 0, 0, 0.7);\n  color: #fff;\n  font-size: 14px;\n  line-height: 1.5em;\n  margin: 0 auto;\n  box-sizing: border-box;\n  padding: 10px;\n  text-align: center;\n  border-radius: 4px;\n  z-index: 900;\n}\n"}),{classProperties:{components:components,filters:Object.assign({},filtersObj)}}),Promise.resolve().then(function(){for(var e in usingComponentMap)components[e]=customAbsolutePathMap[usingComponentMap[e]]}),global.componentFactory.getComponents("component/toast/index.swan")}(global,componentFragments),customAbsolutePathMap={"component/phonebutton/index":user_self_compo_934356,"component/toast/index":user_self_compo_934357},pageUsingComponentMap=JSON.parse('{"phonebutton":"component/phonebutton/index"}'),customComponents=Object.keys(pageUsingComponentMap).reduce(function(e,t){return e[t]=customAbsolutePathMap[pageUsingComponentMap[t]],e},{});global.pageRender(pageContent,templateComponents,customComponents,filters,modules)},oldPatch=function(e){Object.assign(e.components,{});var t=function(t){function n(t){_classCallCheck(this,n);var o=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return o.components=e.components,o}return _inherits(n,t),n}(e);t.template='<swan-wrapper tabindex="-1">'+pageContent+"</swan-wrapper>";var n=new t;n.slaveLoaded(),n.communicator.onMessage("initData",function(e){n.setInitData(e),n.attach(document.body)},{listenPreviousEvent:!0})};global.pageRender?renderPage(filterArr,param):oldPatch(window.PageComponent)}catch(e){throw global.errorMsg.execError=e,e}}(window,window.san);