window.define("pages/manjian/index",function(a,t,e,n,o,i,d,s,r,u,l,c,g,h,m,y){"use strict";var p=a("../../network/api"),q=function(a){return a&&a.__esModule?a:{default:a}}(p);Page({data:{loadmore:!1,loadingmore:!1,query:{pageNo:1,pageSize:10},list:[]},onLoad:function(a){a&&this.setData({query:Object.assign({},this.data.query,{dsId:a.dsId,location:a.location,dataType:a.dataType})}),this.queryManjianData(this.data.query,!0)},onShow:function(){},queryManjianData:function(a,t){var e=this;q.default.queryManjianList(a).then(function(a){e.setData({list:t?a.data.data:e.data.list.concat(a.data.data),isShow:!0,loadmore:a.data.nextCursor>0,loadingmore:!1,query:Object.assign({},e.data.query,{pageNo:a.data.nextCursor,pageSize:a.data.pageSize})})}).catch(function(a){console.log(a)})},lower:function(a){console.log(this.data.loadmore,!this.data.loadingmore,"+++++++++++++++++"),this.data.loadmore&&!this.data.loadingmore&&(console.log(a),this.setData({loadingmore:!0}),this.queryManjianData(this.data.query,!1))}})}),window.__swanRoute="pages/manjian/index",window.usingComponents=[],require("pages/manjian/index");